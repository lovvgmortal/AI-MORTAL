(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();function sd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iS(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var i=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var s=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(i,o,s.get?s:{enumerable:!0,get:function(){return t[o]}})}),i}var mc={exports:{}},Kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function oS(){if(pp)return Kr;pp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,s,a){var f=null;if(a!==void 0&&(f=""+a),s.key!==void 0&&(f=""+s.key),"key"in s){a={};for(var m in s)m!=="key"&&(a[m]=s[m])}else a=s;return s=a.ref,{$$typeof:t,type:o,key:f,ref:s!==void 0?s:null,props:a}}return Kr.Fragment=e,Kr.jsx=i,Kr.jsxs=i,Kr}var gp;function rS(){return gp||(gp=1,mc.exports=oS()),mc.exports}var _=rS(),pc={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function sS(){if(yp)return me;yp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function M(k,J,W){this.props=k,this.context=J,this.refs=b,this.updater=W||w}M.prototype.isReactComponent={},M.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function L(){}L.prototype=M.prototype;function N(k,J,W){this.props=k,this.context=J,this.refs=b,this.updater=W||w}var I=N.prototype=new L;I.constructor=N,E(I,M.prototype),I.isPureReactComponent=!0;var $=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function X(k,J,W,K,te,ve){return W=ve.ref,{$$typeof:t,type:k,key:J,ref:W!==void 0?W:null,props:ve}}function ge(k,J){return X(k.type,J,void 0,void 0,void 0,k.props)}function Z(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function fe(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(W){return J[W]})}var de=/\/+/g;function Ae(k,J){return typeof k=="object"&&k!==null&&k.key!=null?fe(""+k.key):J.toString(36)}function kt(){}function Dt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(kt,kt):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Re(k,J,W,K,te){var ve=typeof k;(ve==="undefined"||ve==="boolean")&&(k=null);var re=!1;if(k===null)re=!0;else switch(ve){case"bigint":case"string":case"number":re=!0;break;case"object":switch(k.$$typeof){case t:case e:re=!0;break;case y:return re=k._init,Re(re(k._payload),J,W,K,te)}}if(re)return te=te(k),re=K===""?"."+Ae(k,0):K,$(te)?(W="",re!=null&&(W=re.replace(de,"$&/")+"/"),Re(te,J,W,"",function(Zt){return Zt})):te!=null&&(Z(te)&&(te=ge(te,W+(te.key==null||k&&k.key===te.key?"":(""+te.key).replace(de,"$&/")+"/")+re)),J.push(te)),1;re=0;var ct=K===""?".":K+":";if($(k))for(var Me=0;Me<k.length;Me++)K=k[Me],ve=ct+Ae(K,Me),re+=Re(K,J,W,ve,te);else if(Me=S(k),typeof Me=="function")for(k=Me.call(k),Me=0;!(K=k.next()).done;)K=K.value,ve=ct+Ae(K,Me++),re+=Re(K,J,W,ve,te);else if(ve==="object"){if(typeof k.then=="function")return Re(Dt(k),J,W,K,te);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return re}function B(k,J,W){if(k==null)return k;var K=[],te=0;return Re(k,K,"","",function(ve){return J.call(W,ve,te++)}),K}function j(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(W){(k._status===0||k._status===-1)&&(k._status=1,k._result=W)},function(W){(k._status===0||k._status===-1)&&(k._status=2,k._result=W)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var oe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ce(){}return me.Children={map:B,forEach:function(k,J,W){B(k,function(){J.apply(this,arguments)},W)},count:function(k){var J=0;return B(k,function(){J++}),J},toArray:function(k){return B(k,function(J){return J})||[]},only:function(k){if(!Z(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},me.Component=M,me.Fragment=i,me.Profiler=s,me.PureComponent=N,me.StrictMode=o,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,me.__COMPILER_RUNTIME={__proto__:null,c:function(k){return G.H.useMemoCache(k)}},me.cache=function(k){return function(){return k.apply(null,arguments)}},me.cloneElement=function(k,J,W){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var K=E({},k.props),te=k.key,ve=void 0;if(J!=null)for(re in J.ref!==void 0&&(ve=void 0),J.key!==void 0&&(te=""+J.key),J)!Y.call(J,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&J.ref===void 0||(K[re]=J[re]);var re=arguments.length-2;if(re===1)K.children=W;else if(1<re){for(var ct=Array(re),Me=0;Me<re;Me++)ct[Me]=arguments[Me+2];K.children=ct}return X(k.type,te,void 0,void 0,ve,K)},me.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},me.createElement=function(k,J,W){var K,te={},ve=null;if(J!=null)for(K in J.key!==void 0&&(ve=""+J.key),J)Y.call(J,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(te[K]=J[K]);var re=arguments.length-2;if(re===1)te.children=W;else if(1<re){for(var ct=Array(re),Me=0;Me<re;Me++)ct[Me]=arguments[Me+2];te.children=ct}if(k&&k.defaultProps)for(K in re=k.defaultProps,re)te[K]===void 0&&(te[K]=re[K]);return X(k,ve,void 0,void 0,null,te)},me.createRef=function(){return{current:null}},me.forwardRef=function(k){return{$$typeof:m,render:k}},me.isValidElement=Z,me.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:j}},me.memo=function(k,J){return{$$typeof:h,type:k,compare:J===void 0?null:J}},me.startTransition=function(k){var J=G.T,W={};G.T=W;try{var K=k(),te=G.S;te!==null&&te(W,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Ce,oe)}catch(ve){oe(ve)}finally{G.T=J}},me.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},me.use=function(k){return G.H.use(k)},me.useActionState=function(k,J,W){return G.H.useActionState(k,J,W)},me.useCallback=function(k,J){return G.H.useCallback(k,J)},me.useContext=function(k){return G.H.useContext(k)},me.useDebugValue=function(){},me.useDeferredValue=function(k,J){return G.H.useDeferredValue(k,J)},me.useEffect=function(k,J,W){var K=G.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(k,J)},me.useId=function(){return G.H.useId()},me.useImperativeHandle=function(k,J,W){return G.H.useImperativeHandle(k,J,W)},me.useInsertionEffect=function(k,J){return G.H.useInsertionEffect(k,J)},me.useLayoutEffect=function(k,J){return G.H.useLayoutEffect(k,J)},me.useMemo=function(k,J){return G.H.useMemo(k,J)},me.useOptimistic=function(k,J){return G.H.useOptimistic(k,J)},me.useReducer=function(k,J,W){return G.H.useReducer(k,J,W)},me.useRef=function(k){return G.H.useRef(k)},me.useState=function(k){return G.H.useState(k)},me.useSyncExternalStore=function(k,J,W){return G.H.useSyncExternalStore(k,J,W)},me.useTransition=function(){return G.H.useTransition()},me.version="19.1.1",me}var vp;function ld(){return vp||(vp=1,pc.exports=sS()),pc.exports}var R=ld();const lS=sd(R);var gc={exports:{}},Xr={},yc={exports:{}},vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function aS(){return Tp||(Tp=1,(function(t){function e(B,j){var oe=B.length;B.push(j);e:for(;0<oe;){var Ce=oe-1>>>1,k=B[Ce];if(0<s(k,j))B[Ce]=j,B[oe]=k,oe=Ce;else break e}}function i(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var j=B[0],oe=B.pop();if(oe!==j){B[0]=oe;e:for(var Ce=0,k=B.length,J=k>>>1;Ce<J;){var W=2*(Ce+1)-1,K=B[W],te=W+1,ve=B[te];if(0>s(K,oe))te<k&&0>s(ve,K)?(B[Ce]=ve,B[te]=oe,Ce=te):(B[Ce]=K,B[W]=oe,Ce=W);else if(te<k&&0>s(ve,oe))B[Ce]=ve,B[te]=oe,Ce=te;else break e}}return j}function s(B,j){var oe=B.sortIndex-j.sortIndex;return oe!==0?oe:B.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var g=[],h=[],y=1,T=null,S=3,w=!1,E=!1,b=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function $(B){for(var j=i(h);j!==null;){if(j.callback===null)o(h);else if(j.startTime<=B)o(h),j.sortIndex=j.expirationTime,e(g,j);else break;j=i(h)}}function G(B){if(b=!1,$(B),!E)if(i(g)!==null)E=!0,Y||(Y=!0,Ae());else{var j=i(h);j!==null&&Re(G,j.startTime-B)}}var Y=!1,X=-1,ge=5,Z=-1;function fe(){return M?!0:!(t.unstable_now()-Z<ge)}function de(){if(M=!1,Y){var B=t.unstable_now();Z=B;var j=!0;try{e:{E=!1,b&&(b=!1,N(X),X=-1),w=!0;var oe=S;try{t:{for($(B),T=i(g);T!==null&&!(T.expirationTime>B&&fe());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,S=T.priorityLevel;var k=Ce(T.expirationTime<=B);if(B=t.unstable_now(),typeof k=="function"){T.callback=k,$(B),j=!0;break t}T===i(g)&&o(g),$(B)}else o(g);T=i(g)}if(T!==null)j=!0;else{var J=i(h);J!==null&&Re(G,J.startTime-B),j=!1}}break e}finally{T=null,S=oe,w=!1}j=void 0}}finally{j?Ae():Y=!1}}}var Ae;if(typeof I=="function")Ae=function(){I(de)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Dt=kt.port2;kt.port1.onmessage=de,Ae=function(){Dt.postMessage(null)}}else Ae=function(){L(de,0)};function Re(B,j){X=L(function(){B(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(B){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var oe=S;S=j;try{return B()}finally{S=oe}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(B,j){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=S;S=B;try{return j()}finally{S=oe}},t.unstable_scheduleCallback=function(B,j,oe){var Ce=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ce+oe:Ce):oe=Ce,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=oe+k,B={id:y++,callback:j,priorityLevel:B,startTime:oe,expirationTime:k,sortIndex:-1},oe>Ce?(B.sortIndex=oe,e(h,B),i(g)===null&&B===i(h)&&(b?(N(X),X=-1):b=!0,Re(G,oe-Ce))):(B.sortIndex=k,e(g,B),E||w||(E=!0,Y||(Y=!0,Ae()))),B},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(B){var j=S;return function(){var oe=S;S=j;try{return B.apply(this,arguments)}finally{S=oe}}}})(vc)),vc}var Sp;function uS(){return Sp||(Sp=1,yc.exports=aS()),yc.exports}var Tc={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function cS(){if(_p)return ht;_p=1;var t=ld();function e(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(g,h,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:g,containerInfo:h,implementation:y}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ht.createPortal=function(g,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(g,h,null,y)},ht.flushSync=function(g){var h=f.T,y=o.p;try{if(f.T=null,o.p=2,g)return g()}finally{f.T=h,o.p=y,o.d.f()}},ht.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(g,h))},ht.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},ht.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var y=h.as,T=m(y,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?o.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:w}):y==="script"&&o.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ht.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=m(h.as,h.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(g)},ht.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,T=m(y,h.crossOrigin);o.d.L(g,y,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ht.preloadModule=function(g,h){if(typeof g=="string")if(h){var y=m(h.as,h.crossOrigin);o.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(g)},ht.requestFormReset=function(g){o.d.r(g)},ht.unstable_batchedUpdates=function(g,h){return g(h)},ht.useFormState=function(g,h,y){return f.H.useFormState(g,h,y)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.1.1",ht}var xp;function dS(){if(xp)return Tc.exports;xp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tc.exports=cS(),Tc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function fS(){if(Cp)return Xr;Cp=1;var t=uS(),e=ld(),i=dS();function o(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function a(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(a(n)!==n)throw Error(o(188))}function g(n){var r=n.alternate;if(!r){if(r=a(n),r===null)throw Error(o(188));return r!==n?null:n}for(var l=n,d=r;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return m(p),n;if(v===d)return m(p),r;v=v.sibling}throw Error(o(188))}if(l.return!==d.return)l=p,d=v;else{for(var x=!1,C=p.child;C;){if(C===l){x=!0,l=p,d=v;break}if(C===d){x=!0,d=p,l=v;break}C=C.sibling}if(!x){for(C=v.child;C;){if(C===l){x=!0,l=v,d=p;break}if(C===d){x=!0,d=v,l=p;break}C=C.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==d)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?n:r}function h(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=h(n),r!==null)return r;n=n.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),I=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function Ae(n){return n===null||typeof n!="object"?null:(n=de&&n[de]||n["@@iterator"],typeof n=="function"?n:null)}var kt=Symbol.for("react.client.reference");function Dt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===kt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case M:return"Profiler";case b:return"StrictMode";case G:return"Suspense";case Y:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case I:return(n.displayName||"Context")+".Provider";case N:return(n._context.displayName||"Context")+".Consumer";case $:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X:return r=n.displayName||null,r!==null?r:Dt(n.type)||"Memo";case ge:r=n._payload,n=n._init;try{return Dt(n(r))}catch{}}return null}var Re=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ce=[],k=-1;function J(n){return{current:n}}function W(n){0>k||(n.current=Ce[k],Ce[k]=null,k--)}function K(n,r){k++,Ce[k]=n.current,n.current=r}var te=J(null),ve=J(null),re=J(null),ct=J(null);function Me(n,r){switch(K(re,r),K(ve,n),K(te,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Fm(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Fm(r),n=zm(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(te),K(te,n)}function Zt(){W(te),W(ve),W(re)}function $o(n){n.memoizedState!==null&&K(ct,n);var r=te.current,l=zm(r,n.type);r!==l&&(K(ve,n),K(te,l))}function Di(n){ve.current===n&&(W(te),W(ve)),ct.current===n&&(W(ct),Fr._currentValue=oe)}var Jo=Object.prototype.hasOwnProperty,Yo=t.unstable_scheduleCallback,Ko=t.unstable_cancelCallback,ta=t.unstable_shouldYield,Xo=t.unstable_requestPaint,Ut=t.unstable_now,na=t.unstable_getCurrentPriorityLevel,Q=t.unstable_ImmediatePriority,le=t.unstable_UserBlockingPriority,xe=t.unstable_NormalPriority,Ge=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,Qo=t.log,Bv=t.unstable_setDisableYieldValue,jo=null,xt=null;function Nn(n){if(typeof Qo=="function"&&Bv(n),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(jo,n)}catch{}}var Ct=Math.clz32?Math.clz32:Fv,Gv=Math.log,Hv=Math.LN2;function Fv(n){return n>>>=0,n===0?32:31-(Gv(n)/Hv|0)|0}var ms=256,ps=4194304;function oi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gs(n,r,l){var d=n.pendingLanes;if(d===0)return 0;var p=0,v=n.suspendedLanes,x=n.pingedLanes;n=n.warmLanes;var C=d&134217727;return C!==0?(d=C&~v,d!==0?p=oi(d):(x&=C,x!==0?p=oi(x):l||(l=C&~n,l!==0&&(p=oi(l))))):(C=d&~v,C!==0?p=oi(C):x!==0?p=oi(x):l||(l=d&~n,l!==0&&(p=oi(l)))),p===0?0:r!==0&&r!==p&&(r&v)===0&&(v=p&-p,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:p}function Wo(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function zv(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ed(){var n=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),n}function bd(){var n=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),n}function ia(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function Zo(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $v(n,r,l,d,p,v){var x=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var C=n.entanglements,A=n.expirationTimes,O=n.hiddenUpdates;for(l=x&~l;0<l;){var H=31-Ct(l),z=1<<H;C[H]=0,A[H]=-1;var q=O[H];if(q!==null)for(O[H]=null,H=0;H<q.length;H++){var V=q[H];V!==null&&(V.lane&=-536870913)}l&=~z}d!==0&&Ad(n,d,0),v!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=v&~(x&~r))}function Ad(n,r,l){n.pendingLanes|=r,n.suspendedLanes&=~r;var d=31-Ct(r);n.entangledLanes|=r,n.entanglements[d]=n.entanglements[d]|1073741824|l&4194090}function Rd(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var d=31-Ct(l),p=1<<d;p&r|n[d]&r&&(n[d]|=r),l&=~p}}function oa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ra(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Md(){var n=j.p;return n!==0?n:(n=window.event,n===void 0?32:up(n.type))}function Jv(n,r){var l=j.p;try{return j.p=n,r()}finally{j.p=l}}var kn=Math.random().toString(36).slice(2),dt="__reactFiber$"+kn,gt="__reactProps$"+kn,Ui="__reactContainer$"+kn,sa="__reactEvents$"+kn,Yv="__reactListeners$"+kn,Kv="__reactHandles$"+kn,Nd="__reactResources$"+kn,er="__reactMarker$"+kn;function la(n){delete n[dt],delete n[gt],delete n[sa],delete n[Yv],delete n[Kv]}function Ii(n){var r=n[dt];if(r)return r;for(var l=n.parentNode;l;){if(r=l[Ui]||l[dt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=Km(n);n!==null;){if(l=n[dt])return l;n=Km(n)}return r}n=l,l=n.parentNode}return null}function Pi(n){if(n=n[dt]||n[Ui]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function tr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(o(33))}function Li(n){var r=n[Nd];return r||(r=n[Nd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function tt(n){n[er]=!0}var kd=new Set,Dd={};function ri(n,r){Oi(n,r),Oi(n+"Capture",r)}function Oi(n,r){for(Dd[n]=r,n=0;n<r.length;n++)kd.add(r[n])}var Xv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ud={},Id={};function Qv(n){return Jo.call(Id,n)?!0:Jo.call(Ud,n)?!1:Xv.test(n)?Id[n]=!0:(Ud[n]=!0,!1)}function ys(n,r,l){if(Qv(r))if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+l)}}function vs(n,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+l)}}function an(n,r,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(r,l,""+d)}}var aa,Pd;function qi(n){if(aa===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);aa=r&&r[1]||"",Pd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+n+Pd}var ua=!1;function ca(n,r){if(!n||ua)return"";ua=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(V){var q=V}Reflect.construct(n,[],z)}else{try{z.call()}catch(V){q=V}n.call(z.prototype)}}else{try{throw Error()}catch(V){q=V}(z=n())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),x=v[0],C=v[1];if(x&&C){var A=x.split(`
`),O=C.split(`
`);for(p=d=0;d<A.length&&!A[d].includes("DetermineComponentFrameRoot");)d++;for(;p<O.length&&!O[p].includes("DetermineComponentFrameRoot");)p++;if(d===A.length||p===O.length)for(d=A.length-1,p=O.length-1;1<=d&&0<=p&&A[d]!==O[p];)p--;for(;1<=d&&0<=p;d--,p--)if(A[d]!==O[p]){if(d!==1||p!==1)do if(d--,p--,0>p||A[d]!==O[p]){var H=`
`+A[d].replace(" at new "," at ");return n.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",n.displayName)),H}while(1<=d&&0<=p);break}}}finally{ua=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?qi(l):""}function jv(n){switch(n.tag){case 26:case 27:case 5:return qi(n.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return ca(n.type,!1);case 11:return ca(n.type.render,!1);case 1:return ca(n.type,!0);case 31:return qi("Activity");default:return""}}function Ld(n){try{var r="";do r+=jv(n),n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function It(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Od(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wv(n){var r=Od(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),d=""+n[r];if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return p.call(this)},set:function(x){d=""+x,v.call(this,x)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ts(n){n._valueTracker||(n._valueTracker=Wv(n))}function qd(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return n&&(d=Od(n)?n.checked?"true":"false":n.value),n=d,n!==l?(r.setValue(n),!0):!1}function Ss(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zv=/[\n"\\]/g;function Pt(n){return n.replace(Zv,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function da(n,r,l,d,p,v,x,C){n.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.type=x:n.removeAttribute("type"),r!=null?x==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+It(r)):n.value!==""+It(r)&&(n.value=""+It(r)):x!=="submit"&&x!=="reset"||n.removeAttribute("value"),r!=null?fa(n,x,It(r)):l!=null?fa(n,x,It(l)):d!=null&&n.removeAttribute("value"),p==null&&v!=null&&(n.defaultChecked=!!v),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+It(C):n.removeAttribute("name")}function Vd(n,r,l,d,p,v,x,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+It(l):"",r=r!=null?""+It(r):l,C||r===n.value||(n.value=r),n.defaultValue=r}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=C?n.checked:!!d,n.defaultChecked=!!d,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.name=x)}function fa(n,r,l){r==="number"&&Ss(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Vi(n,r,l,d){if(n=n.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<n.length;l++)p=r.hasOwnProperty("$"+n[l].value),n[l].selected!==p&&(n[l].selected=p),p&&d&&(n[l].defaultSelected=!0)}else{for(l=""+It(l),r=null,p=0;p<n.length;p++){if(n[p].value===l){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}r!==null||n[p].disabled||(r=n[p])}r!==null&&(r.selected=!0)}}function Bd(n,r,l){if(r!=null&&(r=""+It(r),r!==n.value&&(n.value=r),l==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=l!=null?""+It(l):""}function Gd(n,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(o(92));if(Re(d)){if(1<d.length)throw Error(o(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=It(r),n.defaultValue=l,d=n.textContent,d===l&&d!==""&&d!==null&&(n.value=d)}function Bi(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var e0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(n,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":d?n.setProperty(r,l):typeof l!="number"||l===0||e0.has(r)?r==="float"?n.cssFloat=l:n[r]=(""+l).trim():n[r]=l+"px"}function Fd(n,r,l){if(r!=null&&typeof r!="object")throw Error(o(62));if(n=n.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var p in r)d=r[p],r.hasOwnProperty(p)&&l[p]!==d&&Hd(n,p,d)}else for(var v in r)r.hasOwnProperty(v)&&Hd(n,v,r[v])}function ha(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(n){return n0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ma=null;function pa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gi=null,Hi=null;function zd(n){var r=Pi(n);if(r&&(n=r.stateNode)){var l=n[gt]||null;e:switch(n=r.stateNode,r.type){case"input":if(da(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Pt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==n&&d.form===n.form){var p=d[gt]||null;if(!p)throw Error(o(90));da(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===n.form&&qd(d)}break e;case"textarea":Bd(n,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Vi(n,!!l.multiple,r,!1)}}}var ga=!1;function $d(n,r,l){if(ga)return n(r,l);ga=!0;try{var d=n(r);return d}finally{if(ga=!1,(Gi!==null||Hi!==null)&&(sl(),Gi&&(r=Gi,n=Hi,Hi=Gi=null,zd(r),n)))for(r=0;r<n.length;r++)zd(n[r])}}function nr(n,r){var l=n.stateNode;if(l===null)return null;var d=l[gt]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(o(231,r,typeof l));return l}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(un)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ya=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ya=!1}var Dn=null,va=null,xs=null;function Jd(){if(xs)return xs;var n,r=va,l=r.length,d,p="value"in Dn?Dn.value:Dn.textContent,v=p.length;for(n=0;n<l&&r[n]===p[n];n++);var x=l-n;for(d=1;d<=x&&r[l-d]===p[v-d];d++);return xs=p.slice(n,1<d?1-d:void 0)}function Cs(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ws(){return!0}function Yd(){return!1}function yt(n){function r(l,d,p,v,x){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(l=n[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ws:Yd,this.isPropagationStopped=Yd,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),r}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=yt(si),or=y({},si,{view:0,detail:0}),i0=yt(or),Ta,Sa,rr,bs=y({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rr&&(rr&&n.type==="mousemove"?(Ta=n.screenX-rr.screenX,Sa=n.screenY-rr.screenY):Sa=Ta=0,rr=n),Ta)},movementY:function(n){return"movementY"in n?n.movementY:Sa}}),Kd=yt(bs),o0=y({},bs,{dataTransfer:0}),r0=yt(o0),s0=y({},or,{relatedTarget:0}),_a=yt(s0),l0=y({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),a0=yt(l0),u0=y({},si,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),c0=yt(u0),d0=y({},si,{data:0}),Xd=yt(d0),f0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p0(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=m0[n])?!!r[n]:!1}function xa(){return p0}var g0=y({},or,{key:function(n){if(n.key){var r=f0[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?h0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(n){return n.type==="keypress"?Cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),y0=yt(g0),v0=y({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=yt(v0),T0=y({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),S0=yt(T0),_0=y({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),x0=yt(_0),C0=y({},bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),w0=yt(C0),E0=y({},si,{newState:0,oldState:0}),b0=yt(E0),A0=[9,13,27,32],Ca=un&&"CompositionEvent"in window,sr=null;un&&"documentMode"in document&&(sr=document.documentMode);var R0=un&&"TextEvent"in window&&!sr,jd=un&&(!Ca||sr&&8<sr&&11>=sr),Wd=" ",Zd=!1;function ef(n,r){switch(n){case"keyup":return A0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fi=!1;function M0(n,r){switch(n){case"compositionend":return tf(r);case"keypress":return r.which!==32?null:(Zd=!0,Wd);case"textInput":return n=r.data,n===Wd&&Zd?null:n;default:return null}}function N0(n,r){if(Fi)return n==="compositionend"||!Ca&&ef(n,r)?(n=Jd(),xs=va=Dn=null,Fi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return jd&&r.locale!=="ko"?null:r.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!k0[n.type]:r==="textarea"}function of(n,r,l,d){Gi?Hi?Hi.push(d):Hi=[d]:Gi=d,r=fl(r,"onChange"),0<r.length&&(l=new Es("onChange","change",null,l,d),n.push({event:l,listeners:r}))}var lr=null,ar=null;function D0(n){qm(n,0)}function As(n){var r=tr(n);if(qd(r))return n}function rf(n,r){if(n==="change")return r}var sf=!1;if(un){var wa;if(un){var Ea="oninput"in document;if(!Ea){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Ea=typeof lf.oninput=="function"}wa=Ea}else wa=!1;sf=wa&&(!document.documentMode||9<document.documentMode)}function af(){lr&&(lr.detachEvent("onpropertychange",uf),ar=lr=null)}function uf(n){if(n.propertyName==="value"&&As(ar)){var r=[];of(r,ar,n,pa(n)),$d(D0,r)}}function U0(n,r,l){n==="focusin"?(af(),lr=r,ar=l,lr.attachEvent("onpropertychange",uf)):n==="focusout"&&af()}function I0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return As(ar)}function P0(n,r){if(n==="click")return As(r)}function L0(n,r){if(n==="input"||n==="change")return As(r)}function O0(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wt=typeof Object.is=="function"?Object.is:O0;function ur(n,r){if(wt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Jo.call(r,p)||!wt(n[p],r[p]))return!1}return!0}function cf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function df(n,r){var l=cf(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=r&&d>=r)return{node:l,offset:r-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cf(l)}}function ff(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ff(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function hf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ss(n.document);r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=Ss(n.document)}return r}function ba(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var q0=un&&"documentMode"in document&&11>=document.documentMode,zi=null,Aa=null,cr=null,Ra=!1;function mf(n,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ra||zi==null||zi!==Ss(d)||(d=zi,"selectionStart"in d&&ba(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),cr&&ur(cr,d)||(cr=d,d=fl(Aa,"onSelect"),0<d.length&&(r=new Es("onSelect","select",null,r,l),n.push({event:r,listeners:d}),r.target=zi)))}function li(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var $i={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Ma={},pf={};un&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function ai(n){if(Ma[n])return Ma[n];if(!$i[n])return n;var r=$i[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in pf)return Ma[n]=r[l];return n}var gf=ai("animationend"),yf=ai("animationiteration"),vf=ai("animationstart"),V0=ai("transitionrun"),B0=ai("transitionstart"),G0=ai("transitioncancel"),Tf=ai("transitionend"),Sf=new Map,Na="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Na.push("scrollEnd");function Jt(n,r){Sf.set(n,r),ri(r,[n])}var _f=new WeakMap;function Lt(n,r){if(typeof n=="object"&&n!==null){var l=_f.get(n);return l!==void 0?l:(r={value:n,source:r,stack:Ld(r)},_f.set(n,r),r)}return{value:n,source:r,stack:Ld(r)}}var Ot=[],Ji=0,ka=0;function Rs(){for(var n=Ji,r=ka=Ji=0;r<n;){var l=Ot[r];Ot[r++]=null;var d=Ot[r];Ot[r++]=null;var p=Ot[r];Ot[r++]=null;var v=Ot[r];if(Ot[r++]=null,d!==null&&p!==null){var x=d.pending;x===null?p.next=p:(p.next=x.next,x.next=p),d.pending=p}v!==0&&xf(l,p,v)}}function Ms(n,r,l,d){Ot[Ji++]=n,Ot[Ji++]=r,Ot[Ji++]=l,Ot[Ji++]=d,ka|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function Da(n,r,l,d){return Ms(n,r,l,d),Ns(n)}function Yi(n,r){return Ms(n,null,null,r),Ns(n)}function xf(n,r,l){n.lanes|=l;var d=n.alternate;d!==null&&(d.lanes|=l);for(var p=!1,v=n.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(p=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,p&&r!==null&&(p=31-Ct(l),n=v.hiddenUpdates,d=n[p],d===null?n[p]=[r]:d.push(r),r.lane=l|536870912),v):null}function Ns(n){if(50<Pr)throw Pr=0,qu=null,Error(o(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ki={};function H0(n,r,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(n,r,l,d){return new H0(n,r,l,d)}function Ua(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cn(n,r){var l=n.alternate;return l===null?(l=Et(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Cf(n,r){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,r=l.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function ks(n,r,l,d,p,v){var x=0;if(d=n,typeof n=="function")Ua(n)&&(x=1);else if(typeof n=="string")x=zT(n,l,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=Et(31,l,r,p),n.elementType=Z,n.lanes=v,n;case E:return ui(l.children,p,v,r);case b:x=8,p|=24;break;case M:return n=Et(12,l,r,p|2),n.elementType=M,n.lanes=v,n;case G:return n=Et(13,l,r,p),n.elementType=G,n.lanes=v,n;case Y:return n=Et(19,l,r,p),n.elementType=Y,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:case I:x=10;break e;case N:x=9;break e;case $:x=11;break e;case X:x=14;break e;case ge:x=16,d=null;break e}x=29,l=Error(o(130,n===null?"null":typeof n,"")),d=null}return r=Et(x,l,r,p),r.elementType=n,r.type=d,r.lanes=v,r}function ui(n,r,l,d){return n=Et(7,n,d,r),n.lanes=l,n}function Ia(n,r,l){return n=Et(6,n,null,r),n.lanes=l,n}function Pa(n,r,l){return r=Et(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Xi=[],Qi=0,Ds=null,Us=0,qt=[],Vt=0,ci=null,dn=1,fn="";function di(n,r){Xi[Qi++]=Us,Xi[Qi++]=Ds,Ds=n,Us=r}function wf(n,r,l){qt[Vt++]=dn,qt[Vt++]=fn,qt[Vt++]=ci,ci=n;var d=dn;n=fn;var p=32-Ct(d)-1;d&=~(1<<p),l+=1;var v=32-Ct(r)+p;if(30<v){var x=p-p%5;v=(d&(1<<x)-1).toString(32),d>>=x,p-=x,dn=1<<32-Ct(r)+p|l<<p|d,fn=v+n}else dn=1<<v|l<<p|d,fn=n}function La(n){n.return!==null&&(di(n,1),wf(n,1,0))}function Oa(n){for(;n===Ds;)Ds=Xi[--Qi],Xi[Qi]=null,Us=Xi[--Qi],Xi[Qi]=null;for(;n===ci;)ci=qt[--Vt],qt[Vt]=null,fn=qt[--Vt],qt[Vt]=null,dn=qt[--Vt],qt[Vt]=null}var pt=null,Je=null,be=!1,fi=null,en=!1,qa=Error(o(519));function hi(n){var r=Error(o(418,""));throw hr(Lt(r,n)),qa}function Ef(n){var r=n.stateNode,l=n.type,d=n.memoizedProps;switch(r[dt]=n,r[gt]=d,l){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(l=0;l<Or.length;l++)Se(Or[l],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Se("invalid",r),Vd(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ts(r);break;case"select":Se("invalid",r);break;case"textarea":Se("invalid",r),Gd(r,d.value,d.defaultValue,d.children),Ts(r)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||Hm(r.textContent,l)?(d.popover!=null&&(Se("beforetoggle",r),Se("toggle",r)),d.onScroll!=null&&Se("scroll",r),d.onScrollEnd!=null&&Se("scrollend",r),d.onClick!=null&&(r.onclick=hl),r=!0):r=!1,r||hi(n)}function bf(n){for(pt=n.return;pt;)switch(pt.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:pt=pt.return}}function dr(n){if(n!==pt)return!1;if(!be)return bf(n),be=!0,!1;var r=n.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||ec(n.type,n.memoizedProps)),l=!l),l&&Je&&hi(n),bf(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(r===0){Je=Kt(n.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;n=n.nextSibling}Je=null}}else r===27?(r=Je,Kn(n.type)?(n=oc,oc=null,Je=n):Je=r):Je=pt?Kt(n.stateNode.nextSibling):null;return!0}function fr(){Je=pt=null,be=!1}function Af(){var n=fi;return n!==null&&(St===null?St=n:St.push.apply(St,n),fi=null),n}function hr(n){fi===null?fi=[n]:fi.push(n)}var Va=J(null),mi=null,hn=null;function Un(n,r,l){K(Va,r._currentValue),r._currentValue=l}function mn(n){n._currentValue=Va.current,W(Va)}function Ba(n,r,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),n===l)break;n=n.return}}function Ga(n,r,l,d){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var v=p.dependencies;if(v!==null){var x=p.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=p;for(var A=0;A<r.length;A++)if(C.context===r[A]){v.lanes|=l,C=v.alternate,C!==null&&(C.lanes|=l),Ba(v.return,l,n),d||(x=null);break e}v=C.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(o(341));x.lanes|=l,v=x.alternate,v!==null&&(v.lanes|=l),Ba(x,l,n),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===n){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function mr(n,r,l,d){n=null;for(var p=r,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var C=p.type;wt(p.pendingProps.value,x.value)||(n!==null?n.push(C):n=[C])}}else if(p===ct.current){if(x=p.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Fr):n=[Fr])}p=p.return}n!==null&&Ga(r,n,l,d),r.flags|=262144}function Is(n){for(n=n.firstContext;n!==null;){if(!wt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function pi(n){mi=n,hn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ft(n){return Rf(mi,n)}function Ps(n,r){return mi===null&&pi(n),Rf(n,r)}function Rf(n,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},hn===null){if(n===null)throw Error(o(308));hn=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else hn=hn.next=r;return l}var F0=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(l,d){n.push(d)}};this.abort=function(){r.aborted=!0,n.forEach(function(l){return l()})}},z0=t.unstable_scheduleCallback,$0=t.unstable_NormalPriority,We={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ha(){return{controller:new F0,data:new Map,refCount:0}}function pr(n){n.refCount--,n.refCount===0&&z0($0,function(){n.controller.abort()})}var gr=null,Fa=0,ji=0,Wi=null;function J0(n,r){if(gr===null){var l=gr=[];Fa=0,ji=$u(),Wi={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Fa++,r.then(Mf,Mf),r}function Mf(){if(--Fa===0&&gr!==null){Wi!==null&&(Wi.status="fulfilled");var n=gr;gr=null,ji=0,Wi=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Y0(n,r){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return n.then(function(){d.status="fulfilled",d.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var Nf=B.S;B.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&J0(n,r),Nf!==null&&Nf(n,r)};var gi=J(null);function za(){var n=gi.current;return n!==null?n:qe.pooledCache}function Ls(n,r){r===null?K(gi,gi.current):K(gi,r.pool)}function kf(){var n=za();return n===null?null:{parent:We._currentValue,pool:n}}var yr=Error(o(460)),Df=Error(o(474)),Os=Error(o(542)),$a={then:function(){}};function Uf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qs(){}function If(n,r,l){switch(l=n[l],l===void 0?n.push(r):l!==r&&(r.then(qs,qs),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Lf(n),n;default:if(typeof r.status=="string")r.then(qs,qs);else{if(n=qe,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=r,n.status="pending",n.then(function(d){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=d}},function(d){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Lf(n),n}throw vr=r,yr}}var vr=null;function Pf(){if(vr===null)throw Error(o(459));var n=vr;return vr=null,n}function Lf(n){if(n===yr||n===Os)throw Error(o(483))}var In=!1;function Ja(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ya(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ln(n,r,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ke&2)!==0){var p=d.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),d.pending=r,r=Ns(n),xf(n,null,l),r}return Ms(n,d,r,l),Ns(n)}function Tr(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=n.pendingLanes,l|=d,r.lanes=l,Rd(n,l)}}function Ka(n,r){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=x:v=v.next=x,l=l.next}while(l!==null);v===null?p=v=r:v=v.next=r}else p=v=r;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}var Xa=!1;function Sr(){if(Xa){var n=Wi;if(n!==null)throw n}}function _r(n,r,l,d){Xa=!1;var p=n.updateQueue;In=!1;var v=p.firstBaseUpdate,x=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var A=C,O=A.next;A.next=null,x===null?v=O:x.next=O,x=A;var H=n.alternate;H!==null&&(H=H.updateQueue,C=H.lastBaseUpdate,C!==x&&(C===null?H.firstBaseUpdate=O:C.next=O,H.lastBaseUpdate=A))}if(v!==null){var z=p.baseState;x=0,H=O=A=null,C=v;do{var q=C.lane&-536870913,V=q!==C.lane;if(V?(we&q)===q:(d&q)===q){q!==0&&q===ji&&(Xa=!0),H!==null&&(H=H.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ue=n,se=C;q=r;var Le=l;switch(se.tag){case 1:if(ue=se.payload,typeof ue=="function"){z=ue.call(Le,z,q);break e}z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=se.payload,q=typeof ue=="function"?ue.call(Le,z,q):ue,q==null)break e;z=y({},z,q);break e;case 2:In=!0}}q=C.callback,q!==null&&(n.flags|=64,V&&(n.flags|=8192),V=p.callbacks,V===null?p.callbacks=[q]:V.push(q))}else V={lane:q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},H===null?(O=H=V,A=z):H=H.next=V,x|=q;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;V=C,C=V.next,V.next=null,p.lastBaseUpdate=V,p.shared.pending=null}}while(!0);H===null&&(A=z),p.baseState=A,p.firstBaseUpdate=O,p.lastBaseUpdate=H,v===null&&(p.shared.lanes=0),zn|=x,n.lanes=x,n.memoizedState=z}}function Of(n,r){if(typeof n!="function")throw Error(o(191,n));n.call(r)}function qf(n,r){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Of(l[n],r)}var Zi=J(null),Vs=J(0);function Vf(n,r){n=_n,K(Vs,n),K(Zi,r),_n=n|r.baseLanes}function Qa(){K(Vs,_n),K(Zi,Zi.current)}function ja(){_n=Vs.current,W(Zi),W(Vs)}var On=0,pe=null,Ie=null,Qe=null,Bs=!1,eo=!1,yi=!1,Gs=0,xr=0,to=null,K0=0;function Ke(){throw Error(o(321))}function Wa(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!wt(n[l],r[l]))return!1;return!0}function Za(n,r,l,d,p,v){return On=v,pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=n===null||n.memoizedState===null?xh:Ch,yi=!1,v=l(d,p),yi=!1,eo&&(v=Gf(r,l,d,p)),Bf(n),v}function Bf(n){B.H=Ys;var r=Ie!==null&&Ie.next!==null;if(On=0,Qe=Ie=pe=null,Bs=!1,xr=0,to=null,r)throw Error(o(300));n===null||nt||(n=n.dependencies,n!==null&&Is(n)&&(nt=!0))}function Gf(n,r,l,d){pe=n;var p=0;do{if(eo&&(to=null),xr=0,eo=!1,25<=p)throw Error(o(301));if(p+=1,Qe=Ie=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=tT,v=r(l,d)}while(eo);return v}function X0(){var n=B.H,r=n.useState()[0];return r=typeof r.then=="function"?Cr(r):r,n=n.useState()[0],(Ie!==null?Ie.memoizedState:null)!==n&&(pe.flags|=1024),r}function eu(){var n=Gs!==0;return Gs=0,n}function tu(n,r,l){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~l}function nu(n){if(Bs){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Bs=!1}On=0,Qe=Ie=pe=null,eo=!1,xr=Gs=0,to=null}function vt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?pe.memoizedState=Qe=n:Qe=Qe.next=n,Qe}function je(){if(Ie===null){var n=pe.alternate;n=n!==null?n.memoizedState:null}else n=Ie.next;var r=Qe===null?pe.memoizedState:Qe.next;if(r!==null)Qe=r,Ie=n;else{if(n===null)throw pe.alternate===null?Error(o(467)):Error(o(310));Ie=n,n={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Qe===null?pe.memoizedState=Qe=n:Qe=Qe.next=n}return Qe}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cr(n){var r=xr;return xr+=1,to===null&&(to=[]),n=If(to,n,r),r=pe,(Qe===null?r.memoizedState:Qe.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?xh:Ch),n}function Hs(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Cr(n);if(n.$$typeof===I)return ft(n)}throw Error(o(438,String(n)))}function ou(n){var r=null,l=pe.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=pe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=iu(),pe.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(n),d=0;d<n;d++)l[d]=fe;return r.index++,l}function pn(n,r){return typeof r=="function"?r(n):r}function Fs(n){var r=je();return ru(r,Ie,n)}function ru(n,r,l){var d=n.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=l;var p=n.baseQueue,v=d.pending;if(v!==null){if(p!==null){var x=p.next;p.next=v.next,v.next=x}r.baseQueue=p=v,d.pending=null}if(v=n.baseState,p===null)n.memoizedState=v;else{r=p.next;var C=x=null,A=null,O=r,H=!1;do{var z=O.lane&-536870913;if(z!==O.lane?(we&z)===z:(On&z)===z){var q=O.revertLane;if(q===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),z===ji&&(H=!0);else if((On&q)===q){O=O.next,q===ji&&(H=!0);continue}else z={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},A===null?(C=A=z,x=v):A=A.next=z,pe.lanes|=q,zn|=q;z=O.action,yi&&l(v,z),v=O.hasEagerState?O.eagerState:l(v,z)}else q={lane:z,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},A===null?(C=A=q,x=v):A=A.next=q,pe.lanes|=z,zn|=z;O=O.next}while(O!==null&&O!==r);if(A===null?x=v:A.next=C,!wt(v,n.memoizedState)&&(nt=!0,H&&(l=Wi,l!==null)))throw l;n.memoizedState=v,n.baseState=x,n.baseQueue=A,d.lastRenderedState=v}return p===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function su(n){var r=je(),l=r.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var d=l.dispatch,p=l.pending,v=r.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do v=n(v,x.action),x=x.next;while(x!==p);wt(v,r.memoizedState)||(nt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,d]}function Hf(n,r,l){var d=pe,p=je(),v=be;if(v){if(l===void 0)throw Error(o(407));l=l()}else l=r();var x=!wt((Ie||p).memoizedState,l);x&&(p.memoizedState=l,nt=!0),p=p.queue;var C=$f.bind(null,d,p,n);if(wr(2048,8,C,[n]),p.getSnapshot!==r||x||Qe!==null&&Qe.memoizedState.tag&1){if(d.flags|=2048,no(9,zs(),zf.bind(null,d,p,l,r),null),qe===null)throw Error(o(349));v||(On&124)!==0||Ff(d,r,l)}return l}function Ff(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=pe.updateQueue,r===null?(r=iu(),pe.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function zf(n,r,l,d){r.value=l,r.getSnapshot=d,Jf(r)&&Yf(n)}function $f(n,r,l){return l(function(){Jf(r)&&Yf(n)})}function Jf(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!wt(n,l)}catch{return!0}}function Yf(n){var r=Yi(n,2);r!==null&&Nt(r,n,2)}function lu(n){var r=vt();if(typeof n=="function"){var l=n;if(n=l(),yi){Nn(!0);try{l()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:n},r}function Kf(n,r,l,d){return n.baseState=l,ru(n,Ie,typeof d=="function"?d:pn)}function Q0(n,r,l,d,p){if(Js(n))throw Error(o(485));if(n=r.action,n!==null){var v={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){v.listeners.push(x)}};B.T!==null?l(!0):v.isTransition=!1,d(v),l=r.pending,l===null?(v.next=r.pending=v,Xf(r,v)):(v.next=l.next,r.pending=l.next=v)}}function Xf(n,r){var l=r.action,d=r.payload,p=n.state;if(r.isTransition){var v=B.T,x={};B.T=x;try{var C=l(p,d),A=B.S;A!==null&&A(x,C),Qf(n,r,C)}catch(O){au(n,r,O)}finally{B.T=v}}else try{v=l(p,d),Qf(n,r,v)}catch(O){au(n,r,O)}}function Qf(n,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){jf(n,r,d)},function(d){return au(n,r,d)}):jf(n,r,l)}function jf(n,r,l){r.status="fulfilled",r.value=l,Wf(r),n.state=l,r=n.pending,r!==null&&(l=r.next,l===r?n.pending=null:(l=l.next,r.next=l,Xf(n,l)))}function au(n,r,l){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,Wf(r),r=r.next;while(r!==d)}n.action=null}function Wf(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Zf(n,r){return r}function eh(n,r){if(be){var l=qe.formState;if(l!==null){e:{var d=pe;if(be){if(Je){t:{for(var p=Je,v=en;p.nodeType!==8;){if(!v){p=null;break t}if(p=Kt(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Je=Kt(p.nextSibling),d=p.data==="F!";break e}}hi(d)}d=!1}d&&(r=l[0])}}return l=vt(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:r},l.queue=d,l=Th.bind(null,pe,d),d.dispatch=l,d=lu(!1),v=hu.bind(null,pe,!1,d.queue),d=vt(),p={state:r,dispatch:null,action:n,pending:null},d.queue=p,l=Q0.bind(null,pe,p,v,l),p.dispatch=l,d.memoizedState=n,[r,l,!1]}function th(n){var r=je();return nh(r,Ie,n)}function nh(n,r,l){if(r=ru(n,r,Zf)[0],n=Fs(pn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Cr(r)}catch(x){throw x===yr?Os:x}else d=r;r=je();var p=r.queue,v=p.dispatch;return l!==r.memoizedState&&(pe.flags|=2048,no(9,zs(),j0.bind(null,p,l),null)),[d,v,n]}function j0(n,r){n.action=r}function ih(n){var r=je(),l=Ie;if(l!==null)return nh(r,l,n);je(),r=r.memoizedState,l=je();var d=l.queue.dispatch;return l.memoizedState=n,[r,d,!1]}function no(n,r,l,d){return n={tag:n,create:l,deps:d,inst:r,next:null},r=pe.updateQueue,r===null&&(r=iu(),pe.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,r.lastEffect=n),n}function zs(){return{destroy:void 0,resource:void 0}}function oh(){return je().memoizedState}function $s(n,r,l,d){var p=vt();d=d===void 0?null:d,pe.flags|=n,p.memoizedState=no(1|r,zs(),l,d)}function wr(n,r,l,d){var p=je();d=d===void 0?null:d;var v=p.memoizedState.inst;Ie!==null&&d!==null&&Wa(d,Ie.memoizedState.deps)?p.memoizedState=no(r,v,l,d):(pe.flags|=n,p.memoizedState=no(1|r,v,l,d))}function rh(n,r){$s(8390656,8,n,r)}function sh(n,r){wr(2048,8,n,r)}function lh(n,r){return wr(4,2,n,r)}function ah(n,r){return wr(4,4,n,r)}function uh(n,r){if(typeof r=="function"){n=n();var l=r(n);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function ch(n,r,l){l=l!=null?l.concat([n]):null,wr(4,4,uh.bind(null,r,n),l)}function uu(){}function dh(n,r){var l=je();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&Wa(r,d[1])?d[0]:(l.memoizedState=[n,r],n)}function fh(n,r){var l=je();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&Wa(r,d[1]))return d[0];if(d=n(),yi){Nn(!0);try{n()}finally{Nn(!1)}}return l.memoizedState=[d,r],d}function cu(n,r,l){return l===void 0||(On&1073741824)!==0?n.memoizedState=r:(n.memoizedState=l,n=pm(),pe.lanes|=n,zn|=n,l)}function hh(n,r,l,d){return wt(l,r)?l:Zi.current!==null?(n=cu(n,l,d),wt(n,r)||(nt=!0),n):(On&42)===0?(nt=!0,n.memoizedState=l):(n=pm(),pe.lanes|=n,zn|=n,r)}function mh(n,r,l,d,p){var v=j.p;j.p=v!==0&&8>v?v:8;var x=B.T,C={};B.T=C,hu(n,!1,r,l);try{var A=p(),O=B.S;if(O!==null&&O(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=Y0(A,d);Er(n,r,H,Mt(n))}else Er(n,r,d,Mt(n))}catch(z){Er(n,r,{then:function(){},status:"rejected",reason:z},Mt())}finally{j.p=v,B.T=x}}function W0(){}function du(n,r,l,d){if(n.tag!==5)throw Error(o(476));var p=ph(n).queue;mh(n,p,r,oe,l===null?W0:function(){return gh(n),l(d)})}function ph(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:oe},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:l},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function gh(n){var r=ph(n).next.queue;Er(n,r,{},Mt())}function fu(){return ft(Fr)}function yh(){return je().memoizedState}function vh(){return je().memoizedState}function Z0(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var l=Mt();n=Pn(l);var d=Ln(r,n,l);d!==null&&(Nt(d,r,l),Tr(d,r,l)),r={cache:Ha()},n.payload=r;return}r=r.return}}function eT(n,r,l){var d=Mt();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Js(n)?Sh(r,l):(l=Da(n,r,l,d),l!==null&&(Nt(l,n,d),_h(l,r,d)))}function Th(n,r,l){var d=Mt();Er(n,r,l,d)}function Er(n,r,l,d){var p={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Js(n))Sh(r,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var x=r.lastRenderedState,C=v(x,l);if(p.hasEagerState=!0,p.eagerState=C,wt(C,x))return Ms(n,r,p,0),qe===null&&Rs(),!1}catch{}finally{}if(l=Da(n,r,p,d),l!==null)return Nt(l,n,d),_h(l,r,d),!0}return!1}function hu(n,r,l,d){if(d={lane:2,revertLane:$u(),action:d,hasEagerState:!1,eagerState:null,next:null},Js(n)){if(r)throw Error(o(479))}else r=Da(n,l,d,2),r!==null&&Nt(r,n,2)}function Js(n){var r=n.alternate;return n===pe||r!==null&&r===pe}function Sh(n,r){eo=Bs=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function _h(n,r,l){if((l&4194048)!==0){var d=r.lanes;d&=n.pendingLanes,l|=d,r.lanes=l,Rd(n,l)}}var Ys={readContext:ft,use:Hs,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},xh={readContext:ft,use:Hs,useCallback:function(n,r){return vt().memoizedState=[n,r===void 0?null:r],n},useContext:ft,useEffect:rh,useImperativeHandle:function(n,r,l){l=l!=null?l.concat([n]):null,$s(4194308,4,uh.bind(null,r,n),l)},useLayoutEffect:function(n,r){return $s(4194308,4,n,r)},useInsertionEffect:function(n,r){$s(4,2,n,r)},useMemo:function(n,r){var l=vt();r=r===void 0?null:r;var d=n();if(yi){Nn(!0);try{n()}finally{Nn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(n,r,l){var d=vt();if(l!==void 0){var p=l(r);if(yi){Nn(!0);try{l(r)}finally{Nn(!1)}}}else p=r;return d.memoizedState=d.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},d.queue=n,n=n.dispatch=eT.bind(null,pe,n),[d.memoizedState,n]},useRef:function(n){var r=vt();return n={current:n},r.memoizedState=n},useState:function(n){n=lu(n);var r=n.queue,l=Th.bind(null,pe,r);return r.dispatch=l,[n.memoizedState,l]},useDebugValue:uu,useDeferredValue:function(n,r){var l=vt();return cu(l,n,r)},useTransition:function(){var n=lu(!1);return n=mh.bind(null,pe,n.queue,!0,!1),vt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,l){var d=pe,p=vt();if(be){if(l===void 0)throw Error(o(407));l=l()}else{if(l=r(),qe===null)throw Error(o(349));(we&124)!==0||Ff(d,r,l)}p.memoizedState=l;var v={value:l,getSnapshot:r};return p.queue=v,rh($f.bind(null,d,v,n),[n]),d.flags|=2048,no(9,zs(),zf.bind(null,d,v,l,r),null),l},useId:function(){var n=vt(),r=qe.identifierPrefix;if(be){var l=fn,d=dn;l=(d&~(1<<32-Ct(d)-1)).toString(32)+l,r="«"+r+"R"+l,l=Gs++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=K0++,r="«"+r+"r"+l.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:fu,useFormState:eh,useActionState:eh,useOptimistic:function(n){var r=vt();r.memoizedState=r.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=hu.bind(null,pe,!0,l),l.dispatch=r,[n,r]},useMemoCache:ou,useCacheRefresh:function(){return vt().memoizedState=Z0.bind(null,pe)}},Ch={readContext:ft,use:Hs,useCallback:dh,useContext:ft,useEffect:sh,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:fh,useReducer:Fs,useRef:oh,useState:function(){return Fs(pn)},useDebugValue:uu,useDeferredValue:function(n,r){var l=je();return hh(l,Ie.memoizedState,n,r)},useTransition:function(){var n=Fs(pn)[0],r=je().memoizedState;return[typeof n=="boolean"?n:Cr(n),r]},useSyncExternalStore:Hf,useId:yh,useHostTransitionStatus:fu,useFormState:th,useActionState:th,useOptimistic:function(n,r){var l=je();return Kf(l,Ie,n,r)},useMemoCache:ou,useCacheRefresh:vh},tT={readContext:ft,use:Hs,useCallback:dh,useContext:ft,useEffect:sh,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:fh,useReducer:su,useRef:oh,useState:function(){return su(pn)},useDebugValue:uu,useDeferredValue:function(n,r){var l=je();return Ie===null?cu(l,n,r):hh(l,Ie.memoizedState,n,r)},useTransition:function(){var n=su(pn)[0],r=je().memoizedState;return[typeof n=="boolean"?n:Cr(n),r]},useSyncExternalStore:Hf,useId:yh,useHostTransitionStatus:fu,useFormState:ih,useActionState:ih,useOptimistic:function(n,r){var l=je();return Ie!==null?Kf(l,Ie,n,r):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:ou,useCacheRefresh:vh},io=null,br=0;function Ks(n){var r=br;return br+=1,io===null&&(io=[]),If(io,n,r)}function Ar(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Xs(n,r){throw r.$$typeof===T?Error(o(525)):(n=Object.prototype.toString.call(r),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function wh(n){var r=n._init;return r(n._payload)}function Eh(n){function r(U,D){if(n){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function l(U,D){if(!n)return null;for(;D!==null;)r(U,D),D=D.sibling;return null}function d(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function p(U,D){return U=cn(U,D),U.index=0,U.sibling=null,U}function v(U,D,P){return U.index=P,n?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function x(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function C(U,D,P,F){return D===null||D.tag!==6?(D=Ia(P,U.mode,F),D.return=U,D):(D=p(D,P),D.return=U,D)}function A(U,D,P,F){var ee=P.type;return ee===E?H(U,D,P.props.children,F,P.key):D!==null&&(D.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ge&&wh(ee)===D.type)?(D=p(D,P.props),Ar(D,P),D.return=U,D):(D=ks(P.type,P.key,P.props,null,U.mode,F),Ar(D,P),D.return=U,D)}function O(U,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Pa(P,U.mode,F),D.return=U,D):(D=p(D,P.children||[]),D.return=U,D)}function H(U,D,P,F,ee){return D===null||D.tag!==7?(D=ui(P,U.mode,F,ee),D.return=U,D):(D=p(D,P),D.return=U,D)}function z(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ia(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return P=ks(D.type,D.key,D.props,null,U.mode,P),Ar(P,D),P.return=U,P;case w:return D=Pa(D,U.mode,P),D.return=U,D;case ge:var F=D._init;return D=F(D._payload),z(U,D,P)}if(Re(D)||Ae(D))return D=ui(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return z(U,Ks(D),P);if(D.$$typeof===I)return z(U,Ps(U,D),P);Xs(U,D)}return null}function q(U,D,P,F){var ee=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ee!==null?null:C(U,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return P.key===ee?A(U,D,P,F):null;case w:return P.key===ee?O(U,D,P,F):null;case ge:return ee=P._init,P=ee(P._payload),q(U,D,P,F)}if(Re(P)||Ae(P))return ee!==null?null:H(U,D,P,F,null);if(typeof P.then=="function")return q(U,D,Ks(P),F);if(P.$$typeof===I)return q(U,D,Ps(U,P),F);Xs(U,P)}return null}function V(U,D,P,F,ee){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,C(D,U,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return U=U.get(F.key===null?P:F.key)||null,A(D,U,F,ee);case w:return U=U.get(F.key===null?P:F.key)||null,O(D,U,F,ee);case ge:var ye=F._init;return F=ye(F._payload),V(U,D,P,F,ee)}if(Re(F)||Ae(F))return U=U.get(P)||null,H(D,U,F,ee,null);if(typeof F.then=="function")return V(U,D,P,Ks(F),ee);if(F.$$typeof===I)return V(U,D,P,Ps(D,F),ee);Xs(D,F)}return null}function ue(U,D,P,F){for(var ee=null,ye=null,ie=D,ae=D=0,ot=null;ie!==null&&ae<P.length;ae++){ie.index>ae?(ot=ie,ie=null):ot=ie.sibling;var Ee=q(U,ie,P[ae],F);if(Ee===null){ie===null&&(ie=ot);break}n&&ie&&Ee.alternate===null&&r(U,ie),D=v(Ee,D,ae),ye===null?ee=Ee:ye.sibling=Ee,ye=Ee,ie=ot}if(ae===P.length)return l(U,ie),be&&di(U,ae),ee;if(ie===null){for(;ae<P.length;ae++)ie=z(U,P[ae],F),ie!==null&&(D=v(ie,D,ae),ye===null?ee=ie:ye.sibling=ie,ye=ie);return be&&di(U,ae),ee}for(ie=d(ie);ae<P.length;ae++)ot=V(ie,U,ae,P[ae],F),ot!==null&&(n&&ot.alternate!==null&&ie.delete(ot.key===null?ae:ot.key),D=v(ot,D,ae),ye===null?ee=ot:ye.sibling=ot,ye=ot);return n&&ie.forEach(function(Zn){return r(U,Zn)}),be&&di(U,ae),ee}function se(U,D,P,F){if(P==null)throw Error(o(151));for(var ee=null,ye=null,ie=D,ae=D=0,ot=null,Ee=P.next();ie!==null&&!Ee.done;ae++,Ee=P.next()){ie.index>ae?(ot=ie,ie=null):ot=ie.sibling;var Zn=q(U,ie,Ee.value,F);if(Zn===null){ie===null&&(ie=ot);break}n&&ie&&Zn.alternate===null&&r(U,ie),D=v(Zn,D,ae),ye===null?ee=Zn:ye.sibling=Zn,ye=Zn,ie=ot}if(Ee.done)return l(U,ie),be&&di(U,ae),ee;if(ie===null){for(;!Ee.done;ae++,Ee=P.next())Ee=z(U,Ee.value,F),Ee!==null&&(D=v(Ee,D,ae),ye===null?ee=Ee:ye.sibling=Ee,ye=Ee);return be&&di(U,ae),ee}for(ie=d(ie);!Ee.done;ae++,Ee=P.next())Ee=V(ie,U,ae,Ee.value,F),Ee!==null&&(n&&Ee.alternate!==null&&ie.delete(Ee.key===null?ae:Ee.key),D=v(Ee,D,ae),ye===null?ee=Ee:ye.sibling=Ee,ye=Ee);return n&&ie.forEach(function(nS){return r(U,nS)}),be&&di(U,ae),ee}function Le(U,D,P,F){if(typeof P=="object"&&P!==null&&P.type===E&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case S:e:{for(var ee=P.key;D!==null;){if(D.key===ee){if(ee=P.type,ee===E){if(D.tag===7){l(U,D.sibling),F=p(D,P.props.children),F.return=U,U=F;break e}}else if(D.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ge&&wh(ee)===D.type){l(U,D.sibling),F=p(D,P.props),Ar(F,P),F.return=U,U=F;break e}l(U,D);break}else r(U,D);D=D.sibling}P.type===E?(F=ui(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=ks(P.type,P.key,P.props,null,U.mode,F),Ar(F,P),F.return=U,U=F)}return x(U);case w:e:{for(ee=P.key;D!==null;){if(D.key===ee)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){l(U,D.sibling),F=p(D,P.children||[]),F.return=U,U=F;break e}else{l(U,D);break}else r(U,D);D=D.sibling}F=Pa(P,U.mode,F),F.return=U,U=F}return x(U);case ge:return ee=P._init,P=ee(P._payload),Le(U,D,P,F)}if(Re(P))return ue(U,D,P,F);if(Ae(P)){if(ee=Ae(P),typeof ee!="function")throw Error(o(150));return P=ee.call(P),se(U,D,P,F)}if(typeof P.then=="function")return Le(U,D,Ks(P),F);if(P.$$typeof===I)return Le(U,D,Ps(U,P),F);Xs(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(l(U,D.sibling),F=p(D,P),F.return=U,U=F):(l(U,D),F=Ia(P,U.mode,F),F.return=U,U=F),x(U)):l(U,D)}return function(U,D,P,F){try{br=0;var ee=Le(U,D,P,F);return io=null,ee}catch(ie){if(ie===yr||ie===Os)throw ie;var ye=Et(29,ie,null,U.mode);return ye.lanes=F,ye.return=U,ye}finally{}}}var oo=Eh(!0),bh=Eh(!1),Bt=J(null),tn=null;function qn(n){var r=n.alternate;K(Ze,Ze.current&1),K(Bt,n),tn===null&&(r===null||Zi.current!==null||r.memoizedState!==null)&&(tn=n)}function Ah(n){if(n.tag===22){if(K(Ze,Ze.current),K(Bt,n),tn===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(tn=n)}}else Vn()}function Vn(){K(Ze,Ze.current),K(Bt,Bt.current)}function gn(n){W(Bt),tn===n&&(tn=null),W(Ze)}var Ze=J(0);function Qs(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ic(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function mu(n,r,l,d){r=n.memoizedState,l=l(d,r),l=l==null?r:y({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var pu={enqueueSetState:function(n,r,l){n=n._reactInternals;var d=Mt(),p=Pn(d);p.payload=r,l!=null&&(p.callback=l),r=Ln(n,p,d),r!==null&&(Nt(r,n,d),Tr(r,n,d))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var d=Mt(),p=Pn(d);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=Ln(n,p,d),r!==null&&(Nt(r,n,d),Tr(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=Mt(),d=Pn(l);d.tag=2,r!=null&&(d.callback=r),r=Ln(n,d,l),r!==null&&(Nt(r,n,l),Tr(r,n,l))}};function Rh(n,r,l,d,p,v,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,x):r.prototype&&r.prototype.isPureReactComponent?!ur(l,d)||!ur(p,v):!0}function Mh(n,r,l,d){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==n&&pu.enqueueReplaceState(r,r.state,null)}function vi(n,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(n=n.defaultProps){l===r&&(l=y({},l));for(var p in n)l[p]===void 0&&(l[p]=n[p])}return l}var js=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Nh(n){js(n)}function kh(n){console.error(n)}function Dh(n){js(n)}function Ws(n,r){try{var l=n.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function Uh(n,r,l){try{var d=n.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function gu(n,r,l){return l=Pn(l),l.tag=3,l.payload={element:null},l.callback=function(){Ws(n,r)},l}function Ih(n){return n=Pn(n),n.tag=3,n}function Ph(n,r,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;n.payload=function(){return p(v)},n.callback=function(){Uh(r,l,d)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(n.callback=function(){Uh(r,l,d),typeof p!="function"&&($n===null?$n=new Set([this]):$n.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function nT(n,r,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&mr(r,l,p,!0),l=Bt.current,l!==null){switch(l.tag){case 13:return tn===null?Bu():l.alternate===null&&Ye===0&&(Ye=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===$a?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),Hu(n,d,p)),!1;case 22:return l.flags|=65536,d===$a?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),Hu(n,d,p)),!1}throw Error(o(435,l.tag))}return Hu(n,d,p),Bu(),!1}if(be)return r=Bt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,d!==qa&&(n=Error(o(422),{cause:d}),hr(Lt(n,l)))):(d!==qa&&(r=Error(o(423),{cause:d}),hr(Lt(r,l))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,d=Lt(d,l),p=gu(n.stateNode,d,p),Ka(n,p),Ye!==4&&(Ye=2)),!1;var v=Error(o(520),{cause:d});if(v=Lt(v,l),Ir===null?Ir=[v]:Ir.push(v),Ye!==4&&(Ye=2),r===null)return!0;d=Lt(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,n=p&-p,l.lanes|=n,n=gu(l.stateNode,d,n),Ka(l,n),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($n===null||!$n.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Ih(p),Ph(p,n,l,d),Ka(l,p),!1}l=l.return}while(l!==null);return!1}var Lh=Error(o(461)),nt=!1;function lt(n,r,l,d){r.child=n===null?bh(r,null,l,d):oo(r,n.child,l,d)}function Oh(n,r,l,d,p){l=l.render;var v=r.ref;if("ref"in d){var x={};for(var C in d)C!=="ref"&&(x[C]=d[C])}else x=d;return pi(r),d=Za(n,r,l,x,v,p),C=eu(),n!==null&&!nt?(tu(n,r,p),yn(n,r,p)):(be&&C&&La(r),r.flags|=1,lt(n,r,d,p),r.child)}function qh(n,r,l,d,p){if(n===null){var v=l.type;return typeof v=="function"&&!Ua(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,Vh(n,r,v,d,p)):(n=ks(l.type,null,d,r,r.mode,p),n.ref=r.ref,n.return=r,r.child=n)}if(v=n.child,!wu(n,p)){var x=v.memoizedProps;if(l=l.compare,l=l!==null?l:ur,l(x,d)&&n.ref===r.ref)return yn(n,r,p)}return r.flags|=1,n=cn(v,d),n.ref=r.ref,n.return=r,r.child=n}function Vh(n,r,l,d,p){if(n!==null){var v=n.memoizedProps;if(ur(v,d)&&n.ref===r.ref)if(nt=!1,r.pendingProps=d=v,wu(n,p))(n.flags&131072)!==0&&(nt=!0);else return r.lanes=n.lanes,yn(n,r,p)}return yu(n,r,l,d,p)}function Bh(n,r,l){var d=r.pendingProps,p=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=v!==null?v.baseLanes|l:l,n!==null){for(p=r.child=n.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;r.childLanes=v&~d}else r.childLanes=0,r.child=null;return Gh(n,r,d,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ls(r,v!==null?v.cachePool:null),v!==null?Vf(r,v):Qa(),Ah(r);else return r.lanes=r.childLanes=536870912,Gh(n,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(Ls(r,v.cachePool),Vf(r,v),Vn(),r.memoizedState=null):(n!==null&&Ls(r,null),Qa(),Vn());return lt(n,r,p,l),r.child}function Gh(n,r,l,d){var p=za();return p=p===null?null:{parent:We._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},n!==null&&Ls(r,null),Qa(),Ah(r),n!==null&&mr(n,r,d,!0),null}function Zs(n,r){var l=r.ref;if(l===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(n===null||n.ref!==l)&&(r.flags|=4194816)}}function yu(n,r,l,d,p){return pi(r),l=Za(n,r,l,d,void 0,p),d=eu(),n!==null&&!nt?(tu(n,r,p),yn(n,r,p)):(be&&d&&La(r),r.flags|=1,lt(n,r,l,p),r.child)}function Hh(n,r,l,d,p,v){return pi(r),r.updateQueue=null,l=Gf(r,d,l,p),Bf(n),d=eu(),n!==null&&!nt?(tu(n,r,v),yn(n,r,v)):(be&&d&&La(r),r.flags|=1,lt(n,r,l,v),r.child)}function Fh(n,r,l,d,p){if(pi(r),r.stateNode===null){var v=Ki,x=l.contextType;typeof x=="object"&&x!==null&&(v=ft(x)),v=new l(d,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=pu,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=d,v.state=r.memoizedState,v.refs={},Ja(r),x=l.contextType,v.context=typeof x=="object"&&x!==null?ft(x):Ki,v.state=r.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(mu(r,l,x,d),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(x=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),x!==v.state&&pu.enqueueReplaceState(v,v.state,null),_r(r,d,v,p),Sr(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(n===null){v=r.stateNode;var C=r.memoizedProps,A=vi(l,C);v.props=A;var O=v.context,H=l.contextType;x=Ki,typeof H=="object"&&H!==null&&(x=ft(H));var z=l.getDerivedStateFromProps;H=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,H||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||O!==x)&&Mh(r,v,d,x),In=!1;var q=r.memoizedState;v.state=q,_r(r,d,v,p),Sr(),O=r.memoizedState,C||q!==O||In?(typeof z=="function"&&(mu(r,l,z,d),O=r.memoizedState),(A=In||Rh(r,l,A,d,q,O,x))?(H||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=O),v.props=d,v.state=O,v.context=x,d=A):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{v=r.stateNode,Ya(n,r),x=r.memoizedProps,H=vi(l,x),v.props=H,z=r.pendingProps,q=v.context,O=l.contextType,A=Ki,typeof O=="object"&&O!==null&&(A=ft(O)),C=l.getDerivedStateFromProps,(O=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==z||q!==A)&&Mh(r,v,d,A),In=!1,q=r.memoizedState,v.state=q,_r(r,d,v,p),Sr();var V=r.memoizedState;x!==z||q!==V||In||n!==null&&n.dependencies!==null&&Is(n.dependencies)?(typeof C=="function"&&(mu(r,l,C,d),V=r.memoizedState),(H=In||Rh(r,l,H,d,q,V,A)||n!==null&&n.dependencies!==null&&Is(n.dependencies))?(O||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,V,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,V,A)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=V),v.props=d,v.state=V,v.context=A,d=H):(typeof v.componentDidUpdate!="function"||x===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),d=!1)}return v=d,Zs(n,r),d=(r.flags&128)!==0,v||d?(v=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,n!==null&&d?(r.child=oo(r,n.child,null,p),r.child=oo(r,null,l,p)):lt(n,r,l,p),r.memoizedState=v.state,n=r.child):n=yn(n,r,p),n}function zh(n,r,l,d){return fr(),r.flags|=256,lt(n,r,l,d),r.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(n){return{baseLanes:n,cachePool:kf()}}function Su(n,r,l){return n=n!==null?n.childLanes&~l:0,r&&(n|=Gt),n}function $h(n,r,l){var d=r.pendingProps,p=!1,v=(r.flags&128)!==0,x;if((x=v)||(x=n!==null&&n.memoizedState===null?!1:(Ze.current&2)!==0),x&&(p=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,n===null){if(be){if(p?qn(r):Vn(),be){var C=Je,A;if(A=C){e:{for(A=C,C=en;A.nodeType!==8;){if(!C){C=null;break e}if(A=Kt(A.nextSibling),A===null){C=null;break e}}C=A}C!==null?(r.memoizedState={dehydrated:C,treeContext:ci!==null?{id:dn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},A=Et(18,null,null,0),A.stateNode=C,A.return=r,r.child=A,pt=r,Je=null,A=!0):A=!1}A||hi(r)}if(C=r.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ic(C)?r.lanes=32:r.lanes=536870912,null;gn(r)}return C=d.children,d=d.fallback,p?(Vn(),p=r.mode,C=el({mode:"hidden",children:C},p),d=ui(d,p,l,null),C.return=r,d.return=r,C.sibling=d,r.child=C,p=r.child,p.memoizedState=Tu(l),p.childLanes=Su(n,x,l),r.memoizedState=vu,d):(qn(r),_u(r,C))}if(A=n.memoizedState,A!==null&&(C=A.dehydrated,C!==null)){if(v)r.flags&256?(qn(r),r.flags&=-257,r=xu(n,r,l)):r.memoizedState!==null?(Vn(),r.child=n.child,r.flags|=128,r=null):(Vn(),p=d.fallback,C=r.mode,d=el({mode:"visible",children:d.children},C),p=ui(p,C,l,null),p.flags|=2,d.return=r,p.return=r,d.sibling=p,r.child=d,oo(r,n.child,null,l),d=r.child,d.memoizedState=Tu(l),d.childLanes=Su(n,x,l),r.memoizedState=vu,r=p);else if(qn(r),ic(C)){if(x=C.nextSibling&&C.nextSibling.dataset,x)var O=x.dgst;x=O,d=Error(o(419)),d.stack="",d.digest=x,hr({value:d,source:null,stack:null}),r=xu(n,r,l)}else if(nt||mr(n,r,l,!1),x=(l&n.childLanes)!==0,nt||x){if(x=qe,x!==null&&(d=l&-l,d=(d&42)!==0?1:oa(d),d=(d&(x.suspendedLanes|l))!==0?0:d,d!==0&&d!==A.retryLane))throw A.retryLane=d,Yi(n,d),Nt(x,n,d),Lh;C.data==="$?"||Bu(),r=xu(n,r,l)}else C.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=A.treeContext,Je=Kt(C.nextSibling),pt=r,be=!0,fi=null,en=!1,n!==null&&(qt[Vt++]=dn,qt[Vt++]=fn,qt[Vt++]=ci,dn=n.id,fn=n.overflow,ci=r),r=_u(r,d.children),r.flags|=4096);return r}return p?(Vn(),p=d.fallback,C=r.mode,A=n.child,O=A.sibling,d=cn(A,{mode:"hidden",children:d.children}),d.subtreeFlags=A.subtreeFlags&65011712,O!==null?p=cn(O,p):(p=ui(p,C,l,null),p.flags|=2),p.return=r,d.return=r,d.sibling=p,r.child=d,d=p,p=r.child,C=n.child.memoizedState,C===null?C=Tu(l):(A=C.cachePool,A!==null?(O=We._currentValue,A=A.parent!==O?{parent:O,pool:O}:A):A=kf(),C={baseLanes:C.baseLanes|l,cachePool:A}),p.memoizedState=C,p.childLanes=Su(n,x,l),r.memoizedState=vu,d):(qn(r),l=n.child,n=l.sibling,l=cn(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,n!==null&&(x=r.deletions,x===null?(r.deletions=[n],r.flags|=16):x.push(n)),r.child=l,r.memoizedState=null,l)}function _u(n,r){return r=el({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function el(n,r){return n=Et(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function xu(n,r,l){return oo(r,n.child,null,l),n=_u(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Jh(n,r,l){n.lanes|=r;var d=n.alternate;d!==null&&(d.lanes|=r),Ba(n.return,r,l)}function Cu(n,r,l,d,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=p)}function Yh(n,r,l){var d=r.pendingProps,p=d.revealOrder,v=d.tail;if(lt(n,r,d.children,l),d=Ze.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jh(n,l,r);else if(n.tag===19)Jh(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(K(Ze,d),p){case"forwards":for(l=r.child,p=null;l!==null;)n=l.alternate,n!==null&&Qs(n)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),Cu(r,!1,p,l,v);break;case"backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(n=p.alternate,n!==null&&Qs(n)===null){r.child=p;break}n=p.sibling,p.sibling=l,l=p,p=n}Cu(r,!0,l,null,v);break;case"together":Cu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function yn(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),zn|=r.lanes,(l&r.childLanes)===0)if(n!==null){if(mr(n,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(o(153));if(r.child!==null){for(n=r.child,l=cn(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=cn(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function wu(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Is(n)))}function iT(n,r,l){switch(r.tag){case 3:Me(r,r.stateNode.containerInfo),Un(r,We,n.memoizedState.cache),fr();break;case 27:case 5:$o(r);break;case 4:Me(r,r.stateNode.containerInfo);break;case 10:Un(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(qn(r),r.flags|=128,null):(l&r.child.childLanes)!==0?$h(n,r,l):(qn(r),n=yn(n,r,l),n!==null?n.sibling:null);qn(r);break;case 19:var p=(n.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(mr(n,r,l,!1),d=(l&r.childLanes)!==0),p){if(d)return Yh(n,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),K(Ze,Ze.current),d)break;return null;case 22:case 23:return r.lanes=0,Bh(n,r,l);case 24:Un(r,We,n.memoizedState.cache)}return yn(n,r,l)}function Kh(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps)nt=!0;else{if(!wu(n,l)&&(r.flags&128)===0)return nt=!1,iT(n,r,l);nt=(n.flags&131072)!==0}else nt=!1,be&&(r.flags&1048576)!==0&&wf(r,Us,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var d=r.elementType,p=d._init;if(d=p(d._payload),r.type=d,typeof d=="function")Ua(d)?(n=vi(d,n),r.tag=1,r=Fh(null,r,d,n,l)):(r.tag=0,r=yu(null,r,d,n,l));else{if(d!=null){if(p=d.$$typeof,p===$){r.tag=11,r=Oh(null,r,d,n,l);break e}else if(p===X){r.tag=14,r=qh(null,r,d,n,l);break e}}throw r=Dt(d)||d,Error(o(306,r,""))}}return r;case 0:return yu(n,r,r.type,r.pendingProps,l);case 1:return d=r.type,p=vi(d,r.pendingProps),Fh(n,r,d,p,l);case 3:e:{if(Me(r,r.stateNode.containerInfo),n===null)throw Error(o(387));d=r.pendingProps;var v=r.memoizedState;p=v.element,Ya(n,r),_r(r,d,null,l);var x=r.memoizedState;if(d=x.cache,Un(r,We,d),d!==v.cache&&Ga(r,[We],l,!0),Sr(),d=x.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=zh(n,r,d,l);break e}else if(d!==p){p=Lt(Error(o(424)),r),hr(p),r=zh(n,r,d,l);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Je=Kt(n.firstChild),pt=r,be=!0,fi=null,en=!0,l=bh(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fr(),d===p){r=yn(n,r,l);break e}lt(n,r,d,l)}r=r.child}return r;case 26:return Zs(n,r),n===null?(l=Wm(r.type,null,r.pendingProps,null))?r.memoizedState=l:be||(l=r.type,n=r.pendingProps,d=ml(re.current).createElement(l),d[dt]=r,d[gt]=n,ut(d,l,n),tt(d),r.stateNode=d):r.memoizedState=Wm(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return $o(r),n===null&&be&&(d=r.stateNode=Xm(r.type,r.pendingProps,re.current),pt=r,en=!0,p=Je,Kn(r.type)?(oc=p,Je=Kt(d.firstChild)):Je=p),lt(n,r,r.pendingProps.children,l),Zs(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&be&&((p=d=Je)&&(d=kT(d,r.type,r.pendingProps,en),d!==null?(r.stateNode=d,pt=r,Je=Kt(d.firstChild),en=!1,p=!0):p=!1),p||hi(r)),$o(r),p=r.type,v=r.pendingProps,x=n!==null?n.memoizedProps:null,d=v.children,ec(p,v)?d=null:x!==null&&ec(p,x)&&(r.flags|=32),r.memoizedState!==null&&(p=Za(n,r,X0,null,null,l),Fr._currentValue=p),Zs(n,r),lt(n,r,d,l),r.child;case 6:return n===null&&be&&((n=l=Je)&&(l=DT(l,r.pendingProps,en),l!==null?(r.stateNode=l,pt=r,Je=null,n=!0):n=!1),n||hi(r)),null;case 13:return $h(n,r,l);case 4:return Me(r,r.stateNode.containerInfo),d=r.pendingProps,n===null?r.child=oo(r,null,d,l):lt(n,r,d,l),r.child;case 11:return Oh(n,r,r.type,r.pendingProps,l);case 7:return lt(n,r,r.pendingProps,l),r.child;case 8:return lt(n,r,r.pendingProps.children,l),r.child;case 12:return lt(n,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,Un(r,r.type,d.value),lt(n,r,d.children,l),r.child;case 9:return p=r.type._context,d=r.pendingProps.children,pi(r),p=ft(p),d=d(p),r.flags|=1,lt(n,r,d,l),r.child;case 14:return qh(n,r,r.type,r.pendingProps,l);case 15:return Vh(n,r,r.type,r.pendingProps,l);case 19:return Yh(n,r,l);case 31:return d=r.pendingProps,l=r.mode,d={mode:d.mode,children:d.children},n===null?(l=el(d,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=cn(n.child,d),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Bh(n,r,l);case 24:return pi(r),d=ft(We),n===null?(p=za(),p===null&&(p=qe,v=Ha(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),r.memoizedState={parent:d,cache:p},Ja(r),Un(r,We,p)):((n.lanes&l)!==0&&(Ya(n,r),_r(r,null,null,l),Sr()),p=n.memoizedState,v=r.memoizedState,p.parent!==d?(p={parent:d,cache:d},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Un(r,We,d)):(d=v.cache,Un(r,We,d),d!==p.cache&&Ga(r,[We],l,!0))),lt(n,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(o(156,r.tag))}function vn(n){n.flags|=4}function Xh(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ip(r)){if(r=Bt.current,r!==null&&((we&4194048)===we?tn!==null:(we&62914560)!==we&&(we&536870912)===0||r!==tn))throw vr=$a,Df;n.flags|=8192}}function tl(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?bd():536870912,n.lanes|=r,ao|=r)}function Rr(n,r){if(!be)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function ze(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(r)for(var p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=l,r}function oT(n,r,l){var d=r.pendingProps;switch(Oa(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(r),null;case 1:return ze(r),null;case 3:return l=r.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),mn(We),Zt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(dr(r)?vn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Af())),ze(r),null;case 26:return l=r.memoizedState,n===null?(vn(r),l!==null?(ze(r),Xh(r,l)):(ze(r),r.flags&=-16777217)):l?l!==n.memoizedState?(vn(r),ze(r),Xh(r,l)):(ze(r),r.flags&=-16777217):(n.memoizedProps!==d&&vn(r),ze(r),r.flags&=-16777217),null;case 27:Di(r),l=re.current;var p=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==d&&vn(r);else{if(!d){if(r.stateNode===null)throw Error(o(166));return ze(r),null}n=te.current,dr(r)?Ef(r):(n=Xm(p,d,l),r.stateNode=n,vn(r))}return ze(r),null;case 5:if(Di(r),l=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==d&&vn(r);else{if(!d){if(r.stateNode===null)throw Error(o(166));return ze(r),null}if(n=te.current,dr(r))Ef(r);else{switch(p=ml(re.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?p.createElement(l,{is:d.is}):p.createElement(l)}}n[dt]=r,n[gt]=d;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=n;e:switch(ut(n,l,d),l){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&vn(r)}}return ze(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==d&&vn(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(o(166));if(n=re.current,dr(r)){if(n=r.stateNode,l=r.memoizedProps,d=null,p=pt,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}n[dt]=r,n=!!(n.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Hm(n.nodeValue,l)),n||hi(r)}else n=ml(n).createTextNode(d),n[dt]=r,r.stateNode=n}return ze(r),null;case 13:if(d=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=dr(r),d!==null&&d.dehydrated!==null){if(n===null){if(!p)throw Error(o(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[dt]=r}else fr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ze(r),p=!1}else p=Af(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(gn(r),r):(gn(r),null)}if(gn(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=d!==null,n=n!==null&&n.memoizedState!==null,l){d=r.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)}return l!==n&&l&&(r.child.flags|=8192),tl(r,r.updateQueue),ze(r),null;case 4:return Zt(),n===null&&Xu(r.stateNode.containerInfo),ze(r),null;case 10:return mn(r.type),ze(r),null;case 19:if(W(Ze),p=r.memoizedState,p===null)return ze(r),null;if(d=(r.flags&128)!==0,v=p.rendering,v===null)if(d)Rr(p,!1);else{if(Ye!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=Qs(n),v!==null){for(r.flags|=128,Rr(p,!1),n=v.updateQueue,r.updateQueue=n,tl(r,n),r.subtreeFlags=0,n=l,l=r.child;l!==null;)Cf(l,n),l=l.sibling;return K(Ze,Ze.current&1|2),r.child}n=n.sibling}p.tail!==null&&Ut()>ol&&(r.flags|=128,d=!0,Rr(p,!1),r.lanes=4194304)}else{if(!d)if(n=Qs(v),n!==null){if(r.flags|=128,d=!0,n=n.updateQueue,r.updateQueue=n,tl(r,n),Rr(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!be)return ze(r),null}else 2*Ut()-p.renderingStartTime>ol&&l!==536870912&&(r.flags|=128,d=!0,Rr(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(n=p.last,n!==null?n.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ut(),r.sibling=null,n=Ze.current,K(Ze,d?n&1|2:n&1),r):(ze(r),null);case 22:case 23:return gn(r),ja(),d=r.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(ze(r),r.subtreeFlags&6&&(r.flags|=8192)):ze(r),l=r.updateQueue,l!==null&&tl(r,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),n!==null&&W(gi),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),mn(We),ze(r),null;case 25:return null;case 30:return null}throw Error(o(156,r.tag))}function rT(n,r){switch(Oa(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return mn(We),Zt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Di(r),null;case 13:if(gn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(o(340));fr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return W(Ze),null;case 4:return Zt(),null;case 10:return mn(r.type),null;case 22:case 23:return gn(r),ja(),n!==null&&W(gi),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return mn(We),null;case 25:return null;default:return null}}function Qh(n,r){switch(Oa(r),r.tag){case 3:mn(We),Zt();break;case 26:case 27:case 5:Di(r);break;case 4:Zt();break;case 13:gn(r);break;case 19:W(Ze);break;case 10:mn(r.type);break;case 22:case 23:gn(r),ja(),n!==null&&W(gi);break;case 24:mn(We)}}function Mr(n,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&n)===n){d=void 0;var v=l.create,x=l.inst;d=v(),x.destroy=d}l=l.next}while(l!==p)}}catch(C){Oe(r,r.return,C)}}function Bn(n,r,l){try{var d=r.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&n)===n){var x=d.inst,C=x.destroy;if(C!==void 0){x.destroy=void 0,p=r;var A=l,O=C;try{O()}catch(H){Oe(p,A,H)}}}d=d.next}while(d!==v)}}catch(H){Oe(r,r.return,H)}}function jh(n){var r=n.updateQueue;if(r!==null){var l=n.stateNode;try{qf(r,l)}catch(d){Oe(n,n.return,d)}}}function Wh(n,r,l){l.props=vi(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(d){Oe(n,r,d)}}function Nr(n,r){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(p){Oe(n,r,p)}}function nn(n,r){var l=n.ref,d=n.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){Oe(n,r,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Oe(n,r,p)}else l.current=null}function Zh(n){var r=n.type,l=n.memoizedProps,d=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){Oe(n,n.return,p)}}function Eu(n,r,l){try{var d=n.stateNode;bT(d,n.type,l,r),d[gt]=r}catch(p){Oe(n,n.return,p)}}function em(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Kn(n.type)||n.tag===4}function bu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||em(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Kn(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Au(n,r,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(n),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=hl));else if(d!==4&&(d===27&&Kn(n.type)&&(l=n.stateNode,r=null),n=n.child,n!==null))for(Au(n,r,l),n=n.sibling;n!==null;)Au(n,r,l),n=n.sibling}function nl(n,r,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(d!==4&&(d===27&&Kn(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(nl(n,r,l),n=n.sibling;n!==null;)nl(n,r,l),n=n.sibling}function tm(n){var r=n.stateNode,l=n.memoizedProps;try{for(var d=n.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);ut(r,d,l),r[dt]=n,r[gt]=l}catch(v){Oe(n,n.return,v)}}var Tn=!1,Xe=!1,Ru=!1,nm=typeof WeakSet=="function"?WeakSet:Set,it=null;function sT(n,r){if(n=n.containerInfo,Wu=Sl,n=hf(n),ba(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var x=0,C=-1,A=-1,O=0,H=0,z=n,q=null;t:for(;;){for(var V;z!==l||p!==0&&z.nodeType!==3||(C=x+p),z!==v||d!==0&&z.nodeType!==3||(A=x+d),z.nodeType===3&&(x+=z.nodeValue.length),(V=z.firstChild)!==null;)q=z,z=V;for(;;){if(z===n)break t;if(q===l&&++O===p&&(C=x),q===v&&++H===d&&(A=x),(V=z.nextSibling)!==null)break;z=q,q=z.parentNode}z=V}l=C===-1||A===-1?null:{start:C,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Zu={focusedElem:n,selectionRange:l},Sl=!1,it=r;it!==null;)if(r=it,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,it=n;else for(;it!==null;){switch(r=it,v=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,l=r,p=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var ue=vi(l.type,p,l.elementType===l.type);n=d.getSnapshotBeforeUpdate(ue,v),d.__reactInternalSnapshotBeforeUpdate=n}catch(se){Oe(l,l.return,se)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,l=n.nodeType,l===9)nc(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":nc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=r.sibling,n!==null){n.return=r.return,it=n;break}it=r.return}}function im(n,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Gn(n,l),d&4&&Mr(5,l);break;case 1:if(Gn(n,l),d&4)if(n=l.stateNode,r===null)try{n.componentDidMount()}catch(x){Oe(l,l.return,x)}else{var p=vi(l.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(p,r,n.__reactInternalSnapshotBeforeUpdate)}catch(x){Oe(l,l.return,x)}}d&64&&jh(l),d&512&&Nr(l,l.return);break;case 3:if(Gn(n,l),d&64&&(n=l.updateQueue,n!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{qf(n,r)}catch(x){Oe(l,l.return,x)}}break;case 27:r===null&&d&4&&tm(l);case 26:case 5:Gn(n,l),r===null&&d&4&&Zh(l),d&512&&Nr(l,l.return);break;case 12:Gn(n,l);break;case 13:Gn(n,l),d&4&&sm(n,l),d&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=pT.bind(null,l),UT(n,l))));break;case 22:if(d=l.memoizedState!==null||Tn,!d){r=r!==null&&r.memoizedState!==null||Xe,p=Tn;var v=Xe;Tn=d,(Xe=r)&&!v?Hn(n,l,(l.subtreeFlags&8772)!==0):Gn(n,l),Tn=p,Xe=v}break;case 30:break;default:Gn(n,l)}}function om(n){var r=n.alternate;r!==null&&(n.alternate=null,om(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&la(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var He=null,Tt=!1;function Sn(n,r,l){for(l=l.child;l!==null;)rm(n,r,l),l=l.sibling}function rm(n,r,l){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(jo,l)}catch{}switch(l.tag){case 26:Xe||nn(l,r),Sn(n,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||nn(l,r);var d=He,p=Tt;Kn(l.type)&&(He=l.stateNode,Tt=!1),Sn(n,r,l),Vr(l.stateNode),He=d,Tt=p;break;case 5:Xe||nn(l,r);case 6:if(d=He,p=Tt,He=null,Sn(n,r,l),He=d,Tt=p,He!==null)if(Tt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(v){Oe(l,r,v)}else try{He.removeChild(l.stateNode)}catch(v){Oe(l,r,v)}break;case 18:He!==null&&(Tt?(n=He,Ym(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Yr(n)):Ym(He,l.stateNode));break;case 4:d=He,p=Tt,He=l.stateNode.containerInfo,Tt=!0,Sn(n,r,l),He=d,Tt=p;break;case 0:case 11:case 14:case 15:Xe||Bn(2,l,r),Xe||Bn(4,l,r),Sn(n,r,l);break;case 1:Xe||(nn(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Wh(l,r,d)),Sn(n,r,l);break;case 21:Sn(n,r,l);break;case 22:Xe=(d=Xe)||l.memoizedState!==null,Sn(n,r,l),Xe=d;break;default:Sn(n,r,l)}}function sm(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yr(n)}catch(l){Oe(r,r.return,l)}}function lT(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new nm),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new nm),r;default:throw Error(o(435,n.tag))}}function Mu(n,r){var l=lT(n);r.forEach(function(d){var p=gT.bind(null,n,d);l.has(d)||(l.add(d),d.then(p,p))})}function bt(n,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],v=n,x=r,C=x;e:for(;C!==null;){switch(C.tag){case 27:if(Kn(C.type)){He=C.stateNode,Tt=!1;break e}break;case 5:He=C.stateNode,Tt=!1;break e;case 3:case 4:He=C.stateNode.containerInfo,Tt=!0;break e}C=C.return}if(He===null)throw Error(o(160));rm(v,x,p),He=null,Tt=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)lm(r,n),r=r.sibling}var Yt=null;function lm(n,r){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:bt(r,n),At(n),d&4&&(Bn(3,n,n.return),Mr(3,n),Bn(5,n,n.return));break;case 1:bt(r,n),At(n),d&512&&(Xe||l===null||nn(l,l.return)),d&64&&Tn&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=Yt;if(bt(r,n),At(n),d&512&&(Xe||l===null||nn(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=n.memoizedState,l===null)if(d===null)if(n.stateNode===null){e:{d=n.type,l=n.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[er]||v[dt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),ut(v,d,l),v[dt]=n,tt(v),d=v;break e;case"link":var x=tp("link","href",p).get(d+(l.href||""));if(x){for(var C=0;C<x.length;C++)if(v=x[C],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(C,1);break t}}v=p.createElement(d),ut(v,d,l),p.head.appendChild(v);break;case"meta":if(x=tp("meta","content",p).get(d+(l.content||""))){for(C=0;C<x.length;C++)if(v=x[C],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(C,1);break t}}v=p.createElement(d),ut(v,d,l),p.head.appendChild(v);break;default:throw Error(o(468,d))}v[dt]=n,tt(v),d=v}n.stateNode=d}else np(p,n.type,n.stateNode);else n.stateNode=ep(p,d,n.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?np(p,n.type,n.stateNode):ep(p,d,n.memoizedProps)):d===null&&n.stateNode!==null&&Eu(n,n.memoizedProps,l.memoizedProps)}break;case 27:bt(r,n),At(n),d&512&&(Xe||l===null||nn(l,l.return)),l!==null&&d&4&&Eu(n,n.memoizedProps,l.memoizedProps);break;case 5:if(bt(r,n),At(n),d&512&&(Xe||l===null||nn(l,l.return)),n.flags&32){p=n.stateNode;try{Bi(p,"")}catch(V){Oe(n,n.return,V)}}d&4&&n.stateNode!=null&&(p=n.memoizedProps,Eu(n,p,l!==null?l.memoizedProps:p)),d&1024&&(Ru=!0);break;case 6:if(bt(r,n),At(n),d&4){if(n.stateNode===null)throw Error(o(162));d=n.memoizedProps,l=n.stateNode;try{l.nodeValue=d}catch(V){Oe(n,n.return,V)}}break;case 3:if(yl=null,p=Yt,Yt=pl(r.containerInfo),bt(r,n),Yt=p,At(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Yr(r.containerInfo)}catch(V){Oe(n,n.return,V)}Ru&&(Ru=!1,am(n));break;case 4:d=Yt,Yt=pl(n.stateNode.containerInfo),bt(r,n),At(n),Yt=d;break;case 12:bt(r,n),At(n);break;case 13:bt(r,n),At(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Pu=Ut()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Mu(n,d)));break;case 22:p=n.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,O=Tn,H=Xe;if(Tn=O||p,Xe=H||A,bt(r,n),Xe=H,Tn=O,At(n),d&8192)e:for(r=n.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||A||Tn||Xe||Ti(n)),l=null,r=n;;){if(r.tag===5||r.tag===26){if(l===null){A=l=r;try{if(v=A.stateNode,p)x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{C=A.stateNode;var z=A.memoizedProps.style,q=z!=null&&z.hasOwnProperty("display")?z.display:null;C.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(V){Oe(A,A.return,V)}}}else if(r.tag===6){if(l===null){A=r;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(V){Oe(A,A.return,V)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=n.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Mu(n,l))));break;case 19:bt(r,n),At(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Mu(n,d)));break;case 30:break;case 21:break;default:bt(r,n),At(n)}}function At(n){var r=n.flags;if(r&2){try{for(var l,d=n.return;d!==null;){if(em(d)){l=d;break}d=d.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var p=l.stateNode,v=bu(n);nl(n,v,p);break;case 5:var x=l.stateNode;l.flags&32&&(Bi(x,""),l.flags&=-33);var C=bu(n);nl(n,C,x);break;case 3:case 4:var A=l.stateNode.containerInfo,O=bu(n);Au(n,O,A);break;default:throw Error(o(161))}}catch(H){Oe(n,n.return,H)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function am(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;am(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Gn(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)im(n,r.alternate,r),r=r.sibling}function Ti(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Bn(4,r,r.return),Ti(r);break;case 1:nn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Wh(r,r.return,l),Ti(r);break;case 27:Vr(r.stateNode);case 26:case 5:nn(r,r.return),Ti(r);break;case 22:r.memoizedState===null&&Ti(r);break;case 30:Ti(r);break;default:Ti(r)}n=n.sibling}}function Hn(n,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,p=n,v=r,x=v.flags;switch(v.tag){case 0:case 11:case 15:Hn(p,v,l),Mr(4,v);break;case 1:if(Hn(p,v,l),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(O){Oe(d,d.return,O)}if(d=v,p=d.updateQueue,p!==null){var C=d.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)Of(A[p],C)}catch(O){Oe(d,d.return,O)}}l&&x&64&&jh(v),Nr(v,v.return);break;case 27:tm(v);case 26:case 5:Hn(p,v,l),l&&d===null&&x&4&&Zh(v),Nr(v,v.return);break;case 12:Hn(p,v,l);break;case 13:Hn(p,v,l),l&&x&4&&sm(p,v);break;case 22:v.memoizedState===null&&Hn(p,v,l),Nr(v,v.return);break;case 30:break;default:Hn(p,v,l)}r=r.sibling}}function Nu(n,r){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&pr(l))}function ku(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&pr(n))}function on(n,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)um(n,r,l,d),r=r.sibling}function um(n,r,l,d){var p=r.flags;switch(r.tag){case 0:case 11:case 15:on(n,r,l,d),p&2048&&Mr(9,r);break;case 1:on(n,r,l,d);break;case 3:on(n,r,l,d),p&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&pr(n)));break;case 12:if(p&2048){on(n,r,l,d),n=r.stateNode;try{var v=r.memoizedProps,x=v.id,C=v.onPostCommit;typeof C=="function"&&C(x,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){Oe(r,r.return,A)}}else on(n,r,l,d);break;case 13:on(n,r,l,d);break;case 23:break;case 22:v=r.stateNode,x=r.alternate,r.memoizedState!==null?v._visibility&2?on(n,r,l,d):kr(n,r):v._visibility&2?on(n,r,l,d):(v._visibility|=2,ro(n,r,l,d,(r.subtreeFlags&10256)!==0)),p&2048&&Nu(x,r);break;case 24:on(n,r,l,d),p&2048&&ku(r.alternate,r);break;default:on(n,r,l,d)}}function ro(n,r,l,d,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=n,x=r,C=l,A=d,O=x.flags;switch(x.tag){case 0:case 11:case 15:ro(v,x,C,A,p),Mr(8,x);break;case 23:break;case 22:var H=x.stateNode;x.memoizedState!==null?H._visibility&2?ro(v,x,C,A,p):kr(v,x):(H._visibility|=2,ro(v,x,C,A,p)),p&&O&2048&&Nu(x.alternate,x);break;case 24:ro(v,x,C,A,p),p&&O&2048&&ku(x.alternate,x);break;default:ro(v,x,C,A,p)}r=r.sibling}}function kr(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=n,d=r,p=d.flags;switch(d.tag){case 22:kr(l,d),p&2048&&Nu(d.alternate,d);break;case 24:kr(l,d),p&2048&&ku(d.alternate,d);break;default:kr(l,d)}r=r.sibling}}var Dr=8192;function so(n){if(n.subtreeFlags&Dr)for(n=n.child;n!==null;)cm(n),n=n.sibling}function cm(n){switch(n.tag){case 26:so(n),n.flags&Dr&&n.memoizedState!==null&&JT(Yt,n.memoizedState,n.memoizedProps);break;case 5:so(n);break;case 3:case 4:var r=Yt;Yt=pl(n.stateNode.containerInfo),so(n),Yt=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Dr,Dr=16777216,so(n),Dr=r):so(n));break;default:so(n)}}function dm(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ur(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];it=d,hm(d,n)}dm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fm(n),n=n.sibling}function fm(n){switch(n.tag){case 0:case 11:case 15:Ur(n),n.flags&2048&&Bn(9,n,n.return);break;case 3:Ur(n);break;case 12:Ur(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,il(n)):Ur(n);break;default:Ur(n)}}function il(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];it=d,hm(d,n)}dm(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Bn(8,r,r.return),il(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,il(r));break;default:il(r)}n=n.sibling}}function hm(n,r){for(;it!==null;){var l=it;switch(l.tag){case 0:case 11:case 15:Bn(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:pr(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,it=d;else e:for(l=n;it!==null;){d=it;var p=d.sibling,v=d.return;if(om(d),d===l){it=null;break e}if(p!==null){p.return=v,it=p;break e}it=v}}}var aT={getCacheForType:function(n){var r=ft(We),l=r.data.get(n);return l===void 0&&(l=n(),r.data.set(n,l)),l}},uT=typeof WeakMap=="function"?WeakMap:Map,ke=0,qe=null,Te=null,we=0,De=0,Rt=null,Fn=!1,lo=!1,Du=!1,_n=0,Ye=0,zn=0,Si=0,Uu=0,Gt=0,ao=0,Ir=null,St=null,Iu=!1,Pu=0,ol=1/0,rl=null,$n=null,at=0,Jn=null,uo=null,co=0,Lu=0,Ou=null,mm=null,Pr=0,qu=null;function Mt(){if((ke&2)!==0&&we!==0)return we&-we;if(B.T!==null){var n=ji;return n!==0?n:$u()}return Md()}function pm(){Gt===0&&(Gt=(we&536870912)===0||be?Ed():536870912);var n=Bt.current;return n!==null&&(n.flags|=32),Gt}function Nt(n,r,l){(n===qe&&(De===2||De===9)||n.cancelPendingCommit!==null)&&(fo(n,0),Yn(n,we,Gt,!1)),Zo(n,l),((ke&2)===0||n!==qe)&&(n===qe&&((ke&2)===0&&(Si|=l),Ye===4&&Yn(n,we,Gt,!1)),rn(n))}function gm(n,r,l){if((ke&6)!==0)throw Error(o(327));var d=!l&&(r&124)===0&&(r&n.expiredLanes)===0||Wo(n,r),p=d?fT(n,r):Gu(n,r,!0),v=d;do{if(p===0){lo&&!d&&Yn(n,r,0,!1);break}else{if(l=n.current.alternate,v&&!cT(l)){p=Gu(n,r,!1),v=!1;continue}if(p===2){if(v=r,n.errorRecoveryDisabledLanes&v)var x=0;else x=n.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var C=n;p=Ir;var A=C.current.memoizedState.isDehydrated;if(A&&(fo(C,x).flags|=256),x=Gu(C,x,!1),x!==2){if(Du&&!A){C.errorRecoveryDisabledLanes|=v,Si|=v,p=4;break e}v=St,St=p,v!==null&&(St===null?St=v:St.push.apply(St,v))}p=x}if(v=!1,p!==2)continue}}if(p===1){fo(n,0),Yn(n,r,0,!0);break}e:{switch(d=n,v=p,v){case 0:case 1:throw Error(o(345));case 4:if((r&4194048)!==r)break;case 6:Yn(d,r,Gt,!Fn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(o(329))}if((r&62914560)===r&&(p=Pu+300-Ut(),10<p)){if(Yn(d,r,Gt,!Fn),gs(d,0,!0)!==0)break e;d.timeoutHandle=$m(ym.bind(null,d,l,St,rl,Iu,r,Gt,Si,ao,Fn,v,2,-0,0),p);break e}ym(d,l,St,rl,Iu,r,Gt,Si,ao,Fn,v,0,-0,0)}}break}while(!0);rn(n)}function ym(n,r,l,d,p,v,x,C,A,O,H,z,q,V){if(n.timeoutHandle=-1,z=r.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Hr={stylesheets:null,count:0,unsuspend:$T},cm(r),z=YT(),z!==null)){n.cancelPendingCommit=z(wm.bind(null,n,r,v,l,d,p,x,C,A,H,1,q,V)),Yn(n,v,x,!O);return}wm(n,r,v,l,d,p,x,C,A)}function cT(n){for(var r=n;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],v=p.getSnapshot;p=p.value;try{if(!wt(v(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yn(n,r,l,d){r&=~Uu,r&=~Si,n.suspendedLanes|=r,n.pingedLanes&=~r,d&&(n.warmLanes|=r),d=n.expirationTimes;for(var p=r;0<p;){var v=31-Ct(p),x=1<<v;d[v]=-1,p&=~x}l!==0&&Ad(n,l,r)}function sl(){return(ke&6)===0?(Lr(0),!1):!0}function Vu(){if(Te!==null){if(De===0)var n=Te.return;else n=Te,hn=mi=null,nu(n),io=null,br=0,n=Te;for(;n!==null;)Qh(n.alternate,n),n=n.return;Te=null}}function fo(n,r){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,RT(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Vu(),qe=n,Te=l=cn(n.current,null),we=r,De=0,Rt=null,Fn=!1,lo=Wo(n,r),Du=!1,ao=Gt=Uu=Si=zn=Ye=0,St=Ir=null,Iu=!1,(r&8)!==0&&(r|=r&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=r;0<d;){var p=31-Ct(d),v=1<<p;r|=n[p],d&=~v}return _n=r,Rs(),l}function vm(n,r){pe=null,B.H=Ys,r===yr||r===Os?(r=Pf(),De=3):r===Df?(r=Pf(),De=4):De=r===Lh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rt=r,Te===null&&(Ye=1,Ws(n,Lt(r,n.current)))}function Tm(){var n=B.H;return B.H=Ys,n===null?Ys:n}function Sm(){var n=B.A;return B.A=aT,n}function Bu(){Ye=4,Fn||(we&4194048)!==we&&Bt.current!==null||(lo=!0),(zn&134217727)===0&&(Si&134217727)===0||qe===null||Yn(qe,we,Gt,!1)}function Gu(n,r,l){var d=ke;ke|=2;var p=Tm(),v=Sm();(qe!==n||we!==r)&&(rl=null,fo(n,r)),r=!1;var x=Ye;e:do try{if(De!==0&&Te!==null){var C=Te,A=Rt;switch(De){case 8:Vu(),x=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(r=!0);var O=De;if(De=0,Rt=null,ho(n,C,A,O),l&&lo){x=0;break e}break;default:O=De,De=0,Rt=null,ho(n,C,A,O)}}dT(),x=Ye;break}catch(H){vm(n,H)}while(!0);return r&&n.shellSuspendCounter++,hn=mi=null,ke=d,B.H=p,B.A=v,Te===null&&(qe=null,we=0,Rs()),x}function dT(){for(;Te!==null;)_m(Te)}function fT(n,r){var l=ke;ke|=2;var d=Tm(),p=Sm();qe!==n||we!==r?(rl=null,ol=Ut()+500,fo(n,r)):lo=Wo(n,r);e:do try{if(De!==0&&Te!==null){r=Te;var v=Rt;t:switch(De){case 1:De=0,Rt=null,ho(n,r,v,1);break;case 2:case 9:if(Uf(v)){De=0,Rt=null,xm(r);break}r=function(){De!==2&&De!==9||qe!==n||(De=7),rn(n)},v.then(r,r);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Uf(v)?(De=0,Rt=null,xm(r)):(De=0,Rt=null,ho(n,r,v,7));break;case 5:var x=null;switch(Te.tag){case 26:x=Te.memoizedState;case 5:case 27:var C=Te;if(!x||ip(x)){De=0,Rt=null;var A=C.sibling;if(A!==null)Te=A;else{var O=C.return;O!==null?(Te=O,ll(O)):Te=null}break t}}De=0,Rt=null,ho(n,r,v,5);break;case 6:De=0,Rt=null,ho(n,r,v,6);break;case 8:Vu(),Ye=6;break e;default:throw Error(o(462))}}hT();break}catch(H){vm(n,H)}while(!0);return hn=mi=null,B.H=d,B.A=p,ke=l,Te!==null?0:(qe=null,we=0,Rs(),Ye)}function hT(){for(;Te!==null&&!ta();)_m(Te)}function _m(n){var r=Kh(n.alternate,n,_n);n.memoizedProps=n.pendingProps,r===null?ll(n):Te=r}function xm(n){var r=n,l=r.alternate;switch(r.tag){case 15:case 0:r=Hh(l,r,r.pendingProps,r.type,void 0,we);break;case 11:r=Hh(l,r,r.pendingProps,r.type.render,r.ref,we);break;case 5:nu(r);default:Qh(l,r),r=Te=Cf(r,_n),r=Kh(l,r,_n)}n.memoizedProps=n.pendingProps,r===null?ll(n):Te=r}function ho(n,r,l,d){hn=mi=null,nu(r),io=null,br=0;var p=r.return;try{if(nT(n,p,r,l,we)){Ye=1,Ws(n,Lt(l,n.current)),Te=null;return}}catch(v){if(p!==null)throw Te=p,v;Ye=1,Ws(n,Lt(l,n.current)),Te=null;return}r.flags&32768?(be||d===1?n=!0:lo||(we&536870912)!==0?n=!1:(Fn=n=!0,(d===2||d===9||d===3||d===6)&&(d=Bt.current,d!==null&&d.tag===13&&(d.flags|=16384))),Cm(r,n)):ll(r)}function ll(n){var r=n;do{if((r.flags&32768)!==0){Cm(r,Fn);return}n=r.return;var l=oT(r.alternate,r,_n);if(l!==null){Te=l;return}if(r=r.sibling,r!==null){Te=r;return}Te=r=n}while(r!==null);Ye===0&&(Ye=5)}function Cm(n,r){do{var l=rT(n.alternate,n);if(l!==null){l.flags&=32767,Te=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(n=n.sibling,n!==null)){Te=n;return}Te=n=l}while(n!==null);Ye=6,Te=null}function wm(n,r,l,d,p,v,x,C,A){n.cancelPendingCommit=null;do al();while(at!==0);if((ke&6)!==0)throw Error(o(327));if(r!==null){if(r===n.current)throw Error(o(177));if(v=r.lanes|r.childLanes,v|=ka,$v(n,l,v,x,C,A),n===qe&&(Te=qe=null,we=0),uo=r,Jn=n,co=l,Lu=v,Ou=p,mm=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yT(xe,function(){return Mm(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=B.T,B.T=null,p=j.p,j.p=2,x=ke,ke|=4;try{sT(n,r,l)}finally{ke=x,j.p=p,B.T=d}}at=1,Em(),bm(),Am()}}function Em(){if(at===1){at=0;var n=Jn,r=uo,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var d=j.p;j.p=2;var p=ke;ke|=4;try{lm(r,n);var v=Zu,x=hf(n.containerInfo),C=v.focusedElem,A=v.selectionRange;if(x!==C&&C&&C.ownerDocument&&ff(C.ownerDocument.documentElement,C)){if(A!==null&&ba(C)){var O=A.start,H=A.end;if(H===void 0&&(H=O),"selectionStart"in C)C.selectionStart=O,C.selectionEnd=Math.min(H,C.value.length);else{var z=C.ownerDocument||document,q=z&&z.defaultView||window;if(q.getSelection){var V=q.getSelection(),ue=C.textContent.length,se=Math.min(A.start,ue),Le=A.end===void 0?se:Math.min(A.end,ue);!V.extend&&se>Le&&(x=Le,Le=se,se=x);var U=df(C,se),D=df(C,Le);if(U&&D&&(V.rangeCount!==1||V.anchorNode!==U.node||V.anchorOffset!==U.offset||V.focusNode!==D.node||V.focusOffset!==D.offset)){var P=z.createRange();P.setStart(U.node,U.offset),V.removeAllRanges(),se>Le?(V.addRange(P),V.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),V.addRange(P))}}}}for(z=[],V=C;V=V.parentNode;)V.nodeType===1&&z.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<z.length;C++){var F=z[C];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Sl=!!Wu,Zu=Wu=null}finally{ke=p,j.p=d,B.T=l}}n.current=r,at=2}}function bm(){if(at===2){at=0;var n=Jn,r=uo,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var d=j.p;j.p=2;var p=ke;ke|=4;try{im(n,r.alternate,r)}finally{ke=p,j.p=d,B.T=l}}at=3}}function Am(){if(at===4||at===3){at=0,Xo();var n=Jn,r=uo,l=co,d=mm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?at=5:(at=0,uo=Jn=null,Rm(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&($n=null),ra(l),r=r.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(jo,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=B.T,p=j.p,j.p=2,B.T=null;try{for(var v=n.onRecoverableError,x=0;x<d.length;x++){var C=d[x];v(C.value,{componentStack:C.stack})}}finally{B.T=r,j.p=p}}(co&3)!==0&&al(),rn(n),p=n.pendingLanes,(l&4194090)!==0&&(p&42)!==0?n===qu?Pr++:(Pr=0,qu=n):Pr=0,Lr(0)}}function Rm(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,pr(r)))}function al(n){return Em(),bm(),Am(),Mm()}function Mm(){if(at!==5)return!1;var n=Jn,r=Lu;Lu=0;var l=ra(co),d=B.T,p=j.p;try{j.p=32>l?32:l,B.T=null,l=Ou,Ou=null;var v=Jn,x=co;if(at=0,uo=Jn=null,co=0,(ke&6)!==0)throw Error(o(331));var C=ke;if(ke|=4,fm(v.current),um(v,v.current,x,l),ke=C,Lr(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(jo,v)}catch{}return!0}finally{j.p=p,B.T=d,Rm(n,r)}}function Nm(n,r,l){r=Lt(l,r),r=gu(n.stateNode,r,2),n=Ln(n,r,2),n!==null&&(Zo(n,2),rn(n))}function Oe(n,r,l){if(n.tag===3)Nm(n,n,l);else for(;r!==null;){if(r.tag===3){Nm(r,n,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($n===null||!$n.has(d))){n=Lt(l,n),l=Ih(2),d=Ln(r,l,2),d!==null&&(Ph(l,d,r,n),Zo(d,2),rn(d));break}}r=r.return}}function Hu(n,r,l){var d=n.pingCache;if(d===null){d=n.pingCache=new uT;var p=new Set;d.set(r,p)}else p=d.get(r),p===void 0&&(p=new Set,d.set(r,p));p.has(l)||(Du=!0,p.add(l),n=mT.bind(null,n,r,l),r.then(n,n))}function mT(n,r,l){var d=n.pingCache;d!==null&&d.delete(r),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,qe===n&&(we&l)===l&&(Ye===4||Ye===3&&(we&62914560)===we&&300>Ut()-Pu?(ke&2)===0&&fo(n,0):Uu|=l,ao===we&&(ao=0)),rn(n)}function km(n,r){r===0&&(r=bd()),n=Yi(n,r),n!==null&&(Zo(n,r),rn(n))}function pT(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),km(n,l)}function gT(n,r){var l=0;switch(n.tag){case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(o(314))}d!==null&&d.delete(r),km(n,l)}function yT(n,r){return Yo(n,r)}var ul=null,mo=null,Fu=!1,cl=!1,zu=!1,_i=0;function rn(n){n!==mo&&n.next===null&&(mo===null?ul=mo=n:mo=mo.next=n),cl=!0,Fu||(Fu=!0,TT())}function Lr(n,r){if(!zu&&cl){zu=!0;do for(var l=!1,d=ul;d!==null;){if(n!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var x=d.suspendedLanes,C=d.pingedLanes;v=(1<<31-Ct(42|n)+1)-1,v&=p&~(x&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Pm(d,v))}else v=we,v=gs(d,d===qe?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Wo(d,v)||(l=!0,Pm(d,v));d=d.next}while(l);zu=!1}}function vT(){Dm()}function Dm(){cl=Fu=!1;var n=0;_i!==0&&(AT()&&(n=_i),_i=0);for(var r=Ut(),l=null,d=ul;d!==null;){var p=d.next,v=Um(d,r);v===0?(d.next=null,l===null?ul=p:l.next=p,p===null&&(mo=l)):(l=d,(n!==0||(v&3)!==0)&&(cl=!0)),d=p}Lr(n)}function Um(n,r){for(var l=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var x=31-Ct(v),C=1<<x,A=p[x];A===-1?((C&l)===0||(C&d)!==0)&&(p[x]=zv(C,r)):A<=r&&(n.expiredLanes|=C),v&=~C}if(r=qe,l=we,l=gs(n,n===r?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,l===0||n===r&&(De===2||De===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Ko(d),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Wo(n,l)){if(r=l&-l,r===n.callbackPriority)return r;switch(d!==null&&Ko(d),ra(l)){case 2:case 8:l=le;break;case 32:l=xe;break;case 268435456:l=Ue;break;default:l=xe}return d=Im.bind(null,n),l=Yo(l,d),n.callbackPriority=r,n.callbackNode=l,r}return d!==null&&d!==null&&Ko(d),n.callbackPriority=2,n.callbackNode=null,2}function Im(n,r){if(at!==0&&at!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(al()&&n.callbackNode!==l)return null;var d=we;return d=gs(n,n===qe?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(gm(n,d,r),Um(n,Ut()),n.callbackNode!=null&&n.callbackNode===l?Im.bind(null,n):null)}function Pm(n,r){if(al())return null;gm(n,r,!0)}function TT(){MT(function(){(ke&6)!==0?Yo(Q,vT):Dm()})}function $u(){return _i===0&&(_i=Ed()),_i}function Lm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:_s(""+n)}function Om(n,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,n.id&&l.setAttribute("form",n.id),r.parentNode.insertBefore(l,r),n=new FormData(n),l.parentNode.removeChild(l),n}function ST(n,r,l,d,p){if(r==="submit"&&l&&l.stateNode===p){var v=Lm((p[gt]||null).action),x=d.submitter;x&&(r=(r=x[gt]||null)?Lm(r.formAction):x.getAttribute("formAction"),r!==null&&(v=r,x=null));var C=new Es("action","action",null,d,p);n.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(_i!==0){var A=x?Om(p,x):new FormData(p);du(l,{pending:!0,data:A,method:p.method,action:v},null,A)}}else typeof v=="function"&&(C.preventDefault(),A=x?Om(p,x):new FormData(p),du(l,{pending:!0,data:A,method:p.method,action:v},v,A))},currentTarget:p}]})}}for(var Ju=0;Ju<Na.length;Ju++){var Yu=Na[Ju],_T=Yu.toLowerCase(),xT=Yu[0].toUpperCase()+Yu.slice(1);Jt(_T,"on"+xT)}Jt(gf,"onAnimationEnd"),Jt(yf,"onAnimationIteration"),Jt(vf,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(V0,"onTransitionRun"),Jt(B0,"onTransitionStart"),Jt(G0,"onTransitionCancel"),Jt(Tf,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function qm(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],p=d.event;d=d.listeners;e:{var v=void 0;if(r)for(var x=d.length-1;0<=x;x--){var C=d[x],A=C.instance,O=C.currentTarget;if(C=C.listener,A!==v&&p.isPropagationStopped())break e;v=C,p.currentTarget=O;try{v(p)}catch(H){js(H)}p.currentTarget=null,v=A}else for(x=0;x<d.length;x++){if(C=d[x],A=C.instance,O=C.currentTarget,C=C.listener,A!==v&&p.isPropagationStopped())break e;v=C,p.currentTarget=O;try{v(p)}catch(H){js(H)}p.currentTarget=null,v=A}}}}function Se(n,r){var l=r[sa];l===void 0&&(l=r[sa]=new Set);var d=n+"__bubble";l.has(d)||(Vm(r,n,2,!1),l.add(d))}function Ku(n,r,l){var d=0;r&&(d|=4),Vm(l,n,d,r)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Xu(n){if(!n[dl]){n[dl]=!0,kd.forEach(function(l){l!=="selectionchange"&&(CT.has(l)||Ku(l,!1,n),Ku(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[dl]||(r[dl]=!0,Ku("selectionchange",!1,r))}}function Vm(n,r,l,d){switch(up(r)){case 2:var p=QT;break;case 8:p=jT;break;default:p=uc}l=p.bind(null,r,l,n),p=void 0,!ya||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(r,l,{capture:!0,passive:p}):n.addEventListener(r,l,!0):p!==void 0?n.addEventListener(r,l,{passive:p}):n.addEventListener(r,l,!1)}function Qu(n,r,l,d,p){var v=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var C=d.stateNode.containerInfo;if(C===p)break;if(x===4)for(x=d.return;x!==null;){var A=x.tag;if((A===3||A===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;C!==null;){if(x=Ii(C),x===null)return;if(A=x.tag,A===5||A===6||A===26||A===27){d=v=x;continue e}C=C.parentNode}}d=d.return}$d(function(){var O=v,H=pa(l),z=[];e:{var q=Sf.get(n);if(q!==void 0){var V=Es,ue=n;switch(n){case"keypress":if(Cs(l)===0)break e;case"keydown":case"keyup":V=y0;break;case"focusin":ue="focus",V=_a;break;case"focusout":ue="blur",V=_a;break;case"beforeblur":case"afterblur":V=_a;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=S0;break;case gf:case yf:case vf:V=a0;break;case Tf:V=x0;break;case"scroll":case"scrollend":V=i0;break;case"wheel":V=w0;break;case"copy":case"cut":case"paste":V=c0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Qd;break;case"toggle":case"beforetoggle":V=b0}var se=(r&4)!==0,Le=!se&&(n==="scroll"||n==="scrollend"),U=se?q!==null?q+"Capture":null:q;se=[];for(var D=O,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=nr(D,U),F!=null&&se.push(qr(D,F,P))),Le)break;D=D.return}0<se.length&&(q=new V(q,ue,null,l,H),z.push({event:q,listeners:se}))}}if((r&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",q&&l!==ma&&(ue=l.relatedTarget||l.fromElement)&&(Ii(ue)||ue[Ui]))break e;if((V||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,V?(ue=l.relatedTarget||l.toElement,V=O,ue=ue?Ii(ue):null,ue!==null&&(Le=a(ue),se=ue.tag,ue!==Le||se!==5&&se!==27&&se!==6)&&(ue=null)):(V=null,ue=O),V!==ue)){if(se=Kd,F="onMouseLeave",U="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(se=Qd,F="onPointerLeave",U="onPointerEnter",D="pointer"),Le=V==null?q:tr(V),P=ue==null?q:tr(ue),q=new se(F,D+"leave",V,l,H),q.target=Le,q.relatedTarget=P,F=null,Ii(H)===O&&(se=new se(U,D+"enter",ue,l,H),se.target=P,se.relatedTarget=Le,F=se),Le=F,V&&ue)t:{for(se=V,U=ue,D=0,P=se;P;P=po(P))D++;for(P=0,F=U;F;F=po(F))P++;for(;0<D-P;)se=po(se),D--;for(;0<P-D;)U=po(U),P--;for(;D--;){if(se===U||U!==null&&se===U.alternate)break t;se=po(se),U=po(U)}se=null}else se=null;V!==null&&Bm(z,q,V,se,!1),ue!==null&&Le!==null&&Bm(z,Le,ue,se,!0)}}e:{if(q=O?tr(O):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var ee=rf;else if(nf(q))if(sf)ee=L0;else{ee=I0;var ye=U0}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?O&&ha(O.elementType)&&(ee=rf):ee=P0;if(ee&&(ee=ee(n,O))){of(z,ee,l,H);break e}ye&&ye(n,q,O),n==="focusout"&&O&&q.type==="number"&&O.memoizedProps.value!=null&&fa(q,"number",q.value)}switch(ye=O?tr(O):window,n){case"focusin":(nf(ye)||ye.contentEditable==="true")&&(zi=ye,Aa=O,cr=null);break;case"focusout":cr=Aa=zi=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,mf(z,l,H);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":mf(z,l,H)}var ie;if(Ca)e:{switch(n){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Fi?ef(n,l)&&(ae="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ae="onCompositionStart");ae&&(jd&&l.locale!=="ko"&&(Fi||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Fi&&(ie=Jd()):(Dn=H,va="value"in Dn?Dn.value:Dn.textContent,Fi=!0)),ye=fl(O,ae),0<ye.length&&(ae=new Xd(ae,n,null,l,H),z.push({event:ae,listeners:ye}),ie?ae.data=ie:(ie=tf(l),ie!==null&&(ae.data=ie)))),(ie=R0?M0(n,l):N0(n,l))&&(ae=fl(O,"onBeforeInput"),0<ae.length&&(ye=new Xd("onBeforeInput","beforeinput",null,l,H),z.push({event:ye,listeners:ae}),ye.data=ie)),ST(z,n,O,l,H)}qm(z,r)})}function qr(n,r,l){return{instance:n,listener:r,currentTarget:l}}function fl(n,r){for(var l=r+"Capture",d=[];n!==null;){var p=n,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=nr(n,l),p!=null&&d.unshift(qr(n,p,v)),p=nr(n,r),p!=null&&d.push(qr(n,p,v))),n.tag===3)return d;n=n.return}return[]}function po(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Bm(n,r,l,d,p){for(var v=r._reactName,x=[];l!==null&&l!==d;){var C=l,A=C.alternate,O=C.stateNode;if(C=C.tag,A!==null&&A===d)break;C!==5&&C!==26&&C!==27||O===null||(A=O,p?(O=nr(l,v),O!=null&&x.unshift(qr(l,O,A))):p||(O=nr(l,v),O!=null&&x.push(qr(l,O,A)))),l=l.return}x.length!==0&&n.push({event:r,listeners:x})}var wT=/\r\n?/g,ET=/\u0000|\uFFFD/g;function Gm(n){return(typeof n=="string"?n:""+n).replace(wT,`
`).replace(ET,"")}function Hm(n,r){return r=Gm(r),Gm(n)===r}function hl(){}function Pe(n,r,l,d,p,v){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Bi(n,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Bi(n,""+d);break;case"className":vs(n,"class",d);break;case"tabIndex":vs(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(n,l,d);break;case"style":Fd(n,d,v);break;case"data":if(r!=="object"){vs(n,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){n.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=_s(""+d),n.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Pe(n,r,"name",p.name,p,null),Pe(n,r,"formEncType",p.formEncType,p,null),Pe(n,r,"formMethod",p.formMethod,p,null),Pe(n,r,"formTarget",p.formTarget,p,null)):(Pe(n,r,"encType",p.encType,p,null),Pe(n,r,"method",p.method,p,null),Pe(n,r,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=_s(""+d),n.setAttribute(l,d);break;case"onClick":d!=null&&(n.onclick=hl);break;case"onScroll":d!=null&&Se("scroll",n);break;case"onScrollEnd":d!=null&&Se("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(o(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(o(60));n.innerHTML=l}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}l=_s(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""+d):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":d===!0?n.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,d):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(l,d):n.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(l):n.setAttribute(l,d);break;case"popover":Se("beforetoggle",n),Se("toggle",n),ys(n,"popover",d);break;case"xlinkActuate":an(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":an(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":an(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":an(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":an(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":an(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":an(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":an(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":an(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ys(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=t0.get(l)||l,ys(n,l,d))}}function ju(n,r,l,d,p,v){switch(l){case"style":Fd(n,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(o(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(o(60));n.innerHTML=l}}break;case"children":typeof d=="string"?Bi(n,d):(typeof d=="number"||typeof d=="bigint")&&Bi(n,""+d);break;case"onScroll":d!=null&&Se("scroll",n);break;case"onScrollEnd":d!=null&&Se("scrollend",n);break;case"onClick":d!=null&&(n.onclick=hl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),v=n[gt]||null,v=v!=null?v[l]:null,typeof v=="function"&&n.removeEventListener(r,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(r,d,p);break e}l in n?n[l]=d:d===!0?n.setAttribute(l,""):ys(n,l,d)}}}function ut(n,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",n),Se("load",n);var d=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var x=l[v];if(x!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,r));default:Pe(n,r,v,x,l,null)}}p&&Pe(n,r,"srcSet",l.srcSet,l,null),d&&Pe(n,r,"src",l.src,l,null);return;case"input":Se("invalid",n);var C=v=x=p=null,A=null,O=null;for(d in l)if(l.hasOwnProperty(d)){var H=l[d];if(H!=null)switch(d){case"name":p=H;break;case"type":x=H;break;case"checked":A=H;break;case"defaultChecked":O=H;break;case"value":v=H;break;case"defaultValue":C=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,r));break;default:Pe(n,r,d,H,l,null)}}Vd(n,v,C,A,O,x,p,!1),Ts(n);return;case"select":Se("invalid",n),d=x=v=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":v=C;break;case"defaultValue":x=C;break;case"multiple":d=C;default:Pe(n,r,p,C,l,null)}r=v,l=x,n.multiple=!!d,r!=null?Vi(n,!!d,r,!1):l!=null&&Vi(n,!!d,l,!0);return;case"textarea":Se("invalid",n),v=p=d=null;for(x in l)if(l.hasOwnProperty(x)&&(C=l[x],C!=null))switch(x){case"value":d=C;break;case"defaultValue":p=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:Pe(n,r,x,C,l,null)}Gd(n,d,p,v),Ts(n);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(d=l[A],d!=null))switch(A){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Pe(n,r,A,d,l,null)}return;case"dialog":Se("beforetoggle",n),Se("toggle",n),Se("cancel",n),Se("close",n);break;case"iframe":case"object":Se("load",n);break;case"video":case"audio":for(d=0;d<Or.length;d++)Se(Or[d],n);break;case"image":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"embed":case"source":case"link":Se("error",n),Se("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in l)if(l.hasOwnProperty(O)&&(d=l[O],d!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,r));default:Pe(n,r,O,d,l,null)}return;default:if(ha(r)){for(H in l)l.hasOwnProperty(H)&&(d=l[H],d!==void 0&&ju(n,r,H,d,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(d=l[C],d!=null&&Pe(n,r,C,d,l,null))}function bT(n,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,x=null,C=null,A=null,O=null,H=null;for(V in l){var z=l[V];if(l.hasOwnProperty(V)&&z!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":A=z;default:d.hasOwnProperty(V)||Pe(n,r,V,null,d,z)}}for(var q in d){var V=d[q];if(z=l[q],d.hasOwnProperty(q)&&(V!=null||z!=null))switch(q){case"type":v=V;break;case"name":p=V;break;case"checked":O=V;break;case"defaultChecked":H=V;break;case"value":x=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,r));break;default:V!==z&&Pe(n,r,q,V,d,z)}}da(n,x,C,A,O,H,v,p);return;case"select":V=x=C=q=null;for(v in l)if(A=l[v],l.hasOwnProperty(v)&&A!=null)switch(v){case"value":break;case"multiple":V=A;default:d.hasOwnProperty(v)||Pe(n,r,v,null,d,A)}for(p in d)if(v=d[p],A=l[p],d.hasOwnProperty(p)&&(v!=null||A!=null))switch(p){case"value":q=v;break;case"defaultValue":C=v;break;case"multiple":x=v;default:v!==A&&Pe(n,r,p,v,d,A)}r=C,l=x,d=V,q!=null?Vi(n,!!l,q,!1):!!d!=!!l&&(r!=null?Vi(n,!!l,r,!0):Vi(n,!!l,l?[]:"",!1));return;case"textarea":V=q=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Pe(n,r,C,null,d,p)}for(x in d)if(p=d[x],v=l[x],d.hasOwnProperty(x)&&(p!=null||v!=null))switch(x){case"value":q=p;break;case"defaultValue":V=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==v&&Pe(n,r,x,p,d,v)}Bd(n,q,V);return;case"option":for(var ue in l)if(q=l[ue],l.hasOwnProperty(ue)&&q!=null&&!d.hasOwnProperty(ue))switch(ue){case"selected":n.selected=!1;break;default:Pe(n,r,ue,null,d,q)}for(A in d)if(q=d[A],V=l[A],d.hasOwnProperty(A)&&q!==V&&(q!=null||V!=null))switch(A){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Pe(n,r,A,q,d,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in l)q=l[se],l.hasOwnProperty(se)&&q!=null&&!d.hasOwnProperty(se)&&Pe(n,r,se,null,d,q);for(O in d)if(q=d[O],V=l[O],d.hasOwnProperty(O)&&q!==V&&(q!=null||V!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,r));break;default:Pe(n,r,O,q,d,V)}return;default:if(ha(r)){for(var Le in l)q=l[Le],l.hasOwnProperty(Le)&&q!==void 0&&!d.hasOwnProperty(Le)&&ju(n,r,Le,void 0,d,q);for(H in d)q=d[H],V=l[H],!d.hasOwnProperty(H)||q===V||q===void 0&&V===void 0||ju(n,r,H,q,d,V);return}}for(var U in l)q=l[U],l.hasOwnProperty(U)&&q!=null&&!d.hasOwnProperty(U)&&Pe(n,r,U,null,d,q);for(z in d)q=d[z],V=l[z],!d.hasOwnProperty(z)||q===V||q==null&&V==null||Pe(n,r,z,q,d,V)}var Wu=null,Zu=null;function ml(n){return n.nodeType===9?n:n.ownerDocument}function Fm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function ec(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tc=null;function AT(){var n=window.event;return n&&n.type==="popstate"?n===tc?!1:(tc=n,!0):(tc=null,!1)}var $m=typeof setTimeout=="function"?setTimeout:void 0,RT=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(n){return Jm.resolve(null).then(n).catch(NT)}:$m;function NT(n){setTimeout(function(){throw n})}function Kn(n){return n==="head"}function Ym(n,r){var l=r,d=0,p=0;do{var v=l.nextSibling;if(n.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<d&&8>d){l=d;var x=n.ownerDocument;if(l&1&&Vr(x.documentElement),l&2&&Vr(x.body),l&4)for(l=x.head,Vr(l),x=l.firstChild;x;){var C=x.nextSibling,A=x.nodeName;x[er]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=C}}if(p===0){n.removeChild(v),Yr(r);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:d=l.charCodeAt(0)-48;else d=0;l=v}while(l);Yr(r)}function nc(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":nc(l),la(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function kT(n,r,l,d){for(;n.nodeType===1;){var p=l;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[er])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=Kt(n.nextSibling),n===null)break}return null}function DT(n,r,l){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Kt(n.nextSibling),n===null))return null;return n}function ic(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function UT(n,r){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function Kt(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var oc=null;function Km(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return n;r--}else l==="/$"&&r++}n=n.previousSibling}return null}function Xm(n,r,l){switch(r=ml(l),n){case"html":if(n=r.documentElement,!n)throw Error(o(452));return n;case"head":if(n=r.head,!n)throw Error(o(453));return n;case"body":if(n=r.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Vr(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);la(n)}var Ht=new Map,Qm=new Set;function pl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var xn=j.d;j.d={f:IT,r:PT,D:LT,C:OT,L:qT,m:VT,X:GT,S:BT,M:HT};function IT(){var n=xn.f(),r=sl();return n||r}function PT(n){var r=Pi(n);r!==null&&r.tag===5&&r.type==="form"?gh(r):xn.r(n)}var go=typeof document>"u"?null:document;function jm(n,r,l){var d=go;if(d&&typeof r=="string"&&r){var p=Pt(r);p='link[rel="'+n+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Qm.has(p)||(Qm.add(p),n={rel:n,crossOrigin:l,href:r},d.querySelector(p)===null&&(r=d.createElement("link"),ut(r,"link",n),tt(r),d.head.appendChild(r)))}}function LT(n){xn.D(n),jm("dns-prefetch",n,null)}function OT(n,r){xn.C(n,r),jm("preconnect",n,r)}function qT(n,r,l){xn.L(n,r,l);var d=go;if(d&&n&&r){var p='link[rel="preload"][as="'+Pt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Pt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Pt(l.imageSizes)+'"]')):p+='[href="'+Pt(n)+'"]';var v=p;switch(r){case"style":v=yo(n);break;case"script":v=vo(n)}Ht.has(v)||(n=y({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:n,as:r},l),Ht.set(v,n),d.querySelector(p)!==null||r==="style"&&d.querySelector(Br(v))||r==="script"&&d.querySelector(Gr(v))||(r=d.createElement("link"),ut(r,"link",n),tt(r),d.head.appendChild(r)))}}function VT(n,r){xn.m(n,r);var l=go;if(l&&n){var d=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Pt(d)+'"][href="'+Pt(n)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=vo(n)}if(!Ht.has(v)&&(n=y({rel:"modulepreload",href:n},r),Ht.set(v,n),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gr(v)))return}d=l.createElement("link"),ut(d,"link",n),tt(d),l.head.appendChild(d)}}}function BT(n,r,l){xn.S(n,r,l);var d=go;if(d&&n){var p=Li(d).hoistableStyles,v=yo(n);r=r||"default";var x=p.get(v);if(!x){var C={loading:0,preload:null};if(x=d.querySelector(Br(v)))C.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":r},l),(l=Ht.get(v))&&rc(n,l);var A=x=d.createElement("link");tt(A),ut(A,"link",n),A._p=new Promise(function(O,H){A.onload=O,A.onerror=H}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,gl(x,r,d)}x={type:"stylesheet",instance:x,count:1,state:C},p.set(v,x)}}}function GT(n,r){xn.X(n,r);var l=go;if(l&&n){var d=Li(l).hoistableScripts,p=vo(n),v=d.get(p);v||(v=l.querySelector(Gr(p)),v||(n=y({src:n,async:!0},r),(r=Ht.get(p))&&sc(n,r),v=l.createElement("script"),tt(v),ut(v,"link",n),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function HT(n,r){xn.M(n,r);var l=go;if(l&&n){var d=Li(l).hoistableScripts,p=vo(n),v=d.get(p);v||(v=l.querySelector(Gr(p)),v||(n=y({src:n,async:!0,type:"module"},r),(r=Ht.get(p))&&sc(n,r),v=l.createElement("script"),tt(v),ut(v,"link",n),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function Wm(n,r,l,d){var p=(p=re.current)?pl(p):null;if(!p)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=yo(l.href),l=Li(p).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=yo(l.href);var v=Li(p).hoistableStyles,x=v.get(n);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,x),(v=p.querySelector(Br(n)))&&!v._p&&(x.instance=v,x.state.loading=5),Ht.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ht.set(n,l),v||FT(p,n,l,x.state))),r&&d===null)throw Error(o(528,""));return x}if(r&&d!==null)throw Error(o(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(l),l=Li(p).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function yo(n){return'href="'+Pt(n)+'"'}function Br(n){return'link[rel="stylesheet"]['+n+"]"}function Zm(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function FT(n,r,l,d){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=n.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),ut(r,"link",l),tt(r),n.head.appendChild(r))}function vo(n){return'[src="'+Pt(n)+'"]'}function Gr(n){return"script[async]"+n}function ep(n,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=n.querySelector('style[data-href~="'+Pt(l.href)+'"]');if(d)return r.instance=d,tt(d),d;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),tt(d),ut(d,"style",p),gl(d,l.precedence,n),r.instance=d;case"stylesheet":p=yo(l.href);var v=n.querySelector(Br(p));if(v)return r.state.loading|=4,r.instance=v,tt(v),v;d=Zm(l),(p=Ht.get(p))&&rc(d,p),v=(n.ownerDocument||n).createElement("link"),tt(v);var x=v;return x._p=new Promise(function(C,A){x.onload=C,x.onerror=A}),ut(v,"link",d),r.state.loading|=4,gl(v,l.precedence,n),r.instance=v;case"script":return v=vo(l.src),(p=n.querySelector(Gr(v)))?(r.instance=p,tt(p),p):(d=l,(p=Ht.get(v))&&(d=y({},l),sc(d,p)),n=n.ownerDocument||n,p=n.createElement("script"),tt(p),ut(p,"link",d),n.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(o(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,gl(d,l.precedence,n));return r.instance}function gl(n,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,x=0;x<d.length;x++){var C=d[x];if(C.dataset.precedence===r)v=C;else if(v!==p)break}v?v.parentNode.insertBefore(n,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(n,r.firstChild))}function rc(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function sc(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var yl=null;function tp(n,r,l){if(yl===null){var d=new Map,p=yl=new Map;p.set(l,d)}else p=yl,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(n))return d;for(d.set(n,null),l=l.getElementsByTagName(n),p=0;p<l.length;p++){var v=l[p];if(!(v[er]||v[dt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var x=v.getAttribute(r)||"";x=n+x;var C=d.get(x);C?C.push(v):d.set(x,[v])}}return d}function np(n,r,l){n=n.ownerDocument||n,n.head.insertBefore(l,r==="title"?n.querySelector("head > title"):null)}function zT(n,r,l){if(l===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ip(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hr=null;function $T(){}function JT(n,r,l){if(Hr===null)throw Error(o(475));var d=Hr;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=yo(l.href),v=n.querySelector(Br(p));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=vl.bind(d),n.then(d,d)),r.state.loading|=4,r.instance=v,tt(v);return}v=n.ownerDocument||n,l=Zm(l),(p=Ht.get(p))&&rc(l,p),v=v.createElement("link"),tt(v);var x=v;x._p=new Promise(function(C,A){x.onload=C,x.onerror=A}),ut(v,"link",l),r.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=vl.bind(d),n.addEventListener("load",r),n.addEventListener("error",r))}}function YT(){if(Hr===null)throw Error(o(475));var n=Hr;return n.stylesheets&&n.count===0&&lc(n,n.stylesheets),0<n.count?function(r){var l=setTimeout(function(){if(n.stylesheets&&lc(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(l)}}:null}function vl(){if(this.count--,this.count===0){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tl=null;function lc(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tl=new Map,r.forEach(KT,n),Tl=null,vl.call(n))}function KT(n,r){if(!(r.state.loading&4)){var l=Tl.get(n);if(l)var d=l.get(null);else{l=new Map,Tl.set(n,l);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var x=p[v];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),d=x)}d&&l.set(null,d)}p=r.instance,x=p.getAttribute("data-precedence"),v=l.get(x)||d,v===d&&l.set(null,p),l.set(x,p),this.count++,d=vl.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),r.state.loading|=4}}var Fr={$$typeof:I,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function XT(n,r,l,d,p,v,x,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function op(n,r,l,d,p,v,x,C,A,O,H,z){return n=new XT(n,r,l,x,C,A,O,z),r=1,v===!0&&(r|=24),v=Et(3,null,null,r),n.current=v,v.stateNode=n,r=Ha(),r.refCount++,n.pooledCache=r,r.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:r},Ja(v),n}function rp(n){return n?(n=Ki,n):Ki}function sp(n,r,l,d,p,v){p=rp(p),d.context===null?d.context=p:d.pendingContext=p,d=Pn(r),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=Ln(n,d,r),l!==null&&(Nt(l,n,r),Tr(l,n,r))}function lp(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function ac(n,r){lp(n,r),(n=n.alternate)&&lp(n,r)}function ap(n){if(n.tag===13){var r=Yi(n,67108864);r!==null&&Nt(r,n,67108864),ac(n,67108864)}}var Sl=!0;function QT(n,r,l,d){var p=B.T;B.T=null;var v=j.p;try{j.p=2,uc(n,r,l,d)}finally{j.p=v,B.T=p}}function jT(n,r,l,d){var p=B.T;B.T=null;var v=j.p;try{j.p=8,uc(n,r,l,d)}finally{j.p=v,B.T=p}}function uc(n,r,l,d){if(Sl){var p=cc(d);if(p===null)Qu(n,r,d,_l,l),cp(n,d);else if(ZT(p,n,r,l,d))d.stopPropagation();else if(cp(n,d),r&4&&-1<WT.indexOf(n)){for(;p!==null;){var v=Pi(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var x=oi(v.pendingLanes);if(x!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;x;){var A=1<<31-Ct(x);C.entanglements[1]|=A,x&=~A}rn(v),(ke&6)===0&&(ol=Ut()+500,Lr(0))}}break;case 13:C=Yi(v,2),C!==null&&Nt(C,v,2),sl(),ac(v,2)}if(v=cc(d),v===null&&Qu(n,r,d,_l,l),v===p)break;p=v}p!==null&&d.stopPropagation()}else Qu(n,r,d,null,l)}}function cc(n){return n=pa(n),dc(n)}var _l=null;function dc(n){if(_l=null,n=Ii(n),n!==null){var r=a(n);if(r===null)n=null;else{var l=r.tag;if(l===13){if(n=f(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return _l=n,null}function up(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case Q:return 2;case le:return 8;case xe:case Ge:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var fc=!1,Xn=null,Qn=null,jn=null,zr=new Map,$r=new Map,Wn=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cp(n,r){switch(n){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":zr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(r.pointerId)}}function Jr(n,r,l,d,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},r!==null&&(r=Pi(r),r!==null&&ap(r)),n):(n.eventSystemFlags|=d,r=n.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),n)}function ZT(n,r,l,d,p){switch(r){case"focusin":return Xn=Jr(Xn,n,r,l,d,p),!0;case"dragenter":return Qn=Jr(Qn,n,r,l,d,p),!0;case"mouseover":return jn=Jr(jn,n,r,l,d,p),!0;case"pointerover":var v=p.pointerId;return zr.set(v,Jr(zr.get(v)||null,n,r,l,d,p)),!0;case"gotpointercapture":return v=p.pointerId,$r.set(v,Jr($r.get(v)||null,n,r,l,d,p)),!0}return!1}function dp(n){var r=Ii(n.target);if(r!==null){var l=a(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){n.blockedOn=r,Jv(n.priority,function(){if(l.tag===13){var d=Mt();d=oa(d);var p=Yi(l,d);p!==null&&Nt(p,l,d),ac(l,d)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xl(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=cc(n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);ma=d,l.target.dispatchEvent(d),ma=null}else return r=Pi(l),r!==null&&ap(r),n.blockedOn=l,!1;r.shift()}return!0}function fp(n,r,l){xl(n)&&l.delete(r)}function eS(){fc=!1,Xn!==null&&xl(Xn)&&(Xn=null),Qn!==null&&xl(Qn)&&(Qn=null),jn!==null&&xl(jn)&&(jn=null),zr.forEach(fp),$r.forEach(fp)}function Cl(n,r){n.blockedOn===r&&(n.blockedOn=null,fc||(fc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eS)))}var wl=null;function hp(n){wl!==n&&(wl=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wl===n&&(wl=null);for(var r=0;r<n.length;r+=3){var l=n[r],d=n[r+1],p=n[r+2];if(typeof d!="function"){if(dc(d||l)===null)continue;break}var v=Pi(l);v!==null&&(n.splice(r,3),r-=3,du(v,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function Yr(n){function r(A){return Cl(A,n)}Xn!==null&&Cl(Xn,n),Qn!==null&&Cl(Qn,n),jn!==null&&Cl(jn,n),zr.forEach(r),$r.forEach(r);for(var l=0;l<Wn.length;l++){var d=Wn[l];d.blockedOn===n&&(d.blockedOn=null)}for(;0<Wn.length&&(l=Wn[0],l.blockedOn===null);)dp(l),l.blockedOn===null&&Wn.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],v=l[d+1],x=p[gt]||null;if(typeof v=="function")x||hp(l);else if(x){var C=null;if(v&&v.hasAttribute("formAction")){if(p=v,x=v[gt]||null)C=x.formAction;else if(dc(p)!==null)continue}else C=x.action;typeof C=="function"?l[d+1]=C:(l.splice(d,3),d-=3),hp(l)}}}function hc(n){this._internalRoot=n}El.prototype.render=hc.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(o(409));var l=r.current,d=Mt();sp(l,d,n,r,null,null)},El.prototype.unmount=hc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;sp(n.current,2,null,n,null,null),sl(),r[Ui]=null}};function El(n){this._internalRoot=n}El.prototype.unstable_scheduleHydration=function(n){if(n){var r=Md();n={blockedOn:null,target:n,priority:r};for(var l=0;l<Wn.length&&r!==0&&r<Wn[l].priority;l++);Wn.splice(l,0,n),l===0&&dp(n)}};var mp=e.version;if(mp!=="19.1.1")throw Error(o(527,mp,"19.1.1"));j.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=g(r),n=n!==null?h(n):null,n=n===null?null:n.stateNode,n};var tS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{jo=bl.inject(tS),xt=bl}catch{}}return Xr.createRoot=function(n,r){if(!s(n))throw Error(o(299));var l=!1,d="",p=Nh,v=kh,x=Dh,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks)),r=op(n,1,!1,null,null,l,d,p,v,x,C,null),n[Ui]=r.current,Xu(n),new hc(r)},Xr.hydrateRoot=function(n,r,l){if(!s(n))throw Error(o(299));var d=!1,p="",v=Nh,x=kh,C=Dh,A=null,O=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(O=l.formState)),r=op(n,1,!0,r,l??null,d,p,v,x,C,A,O),r.context=rp(null),l=r.current,d=Mt(),d=oa(d),p=Pn(d),p.callback=null,Ln(l,p,d),l=d,r.current.lanes=l,Zo(r,l),rn(r),n[Ui]=r.current,Xu(n),new El(r)},Xr.version="19.1.1",Xr}var wp;function hS(){if(wp)return gc.exports;wp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gc.exports=fS(),gc.exports}var mS=hS();const pS=sd(mS);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ep="popstate";function gS(t={}){function e(s,a){let{pathname:f="/",search:m="",hash:g=""}=Ri(s.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ic("",{pathname:f,search:m,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(s,a){let f=s.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=s.location.href,h=g.indexOf("#");m=h===-1?g:g.slice(0,h)}return m+"#"+(typeof a=="string"?a:ss(a))}function o(s,a){$t(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return vS(e,i,o,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $t(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yS(){return Math.random().toString(36).substring(2,10)}function bp(t,e){return{usr:t.state,key:t.key,idx:e}}function Ic(t,e,i=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ri(e):e,state:i,key:e&&e.key||o||yS()}}function ss({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ri(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function vS(t,e,i,o={}){let{window:s=document.defaultView,v5Compat:a=!1}=o,f=s.history,m="POP",g=null,h=y();h==null&&(h=0,f.replaceState({...f.state,idx:h},""));function y(){return(f.state||{idx:null}).idx}function T(){m="POP";let M=y(),L=M==null?null:M-h;h=M,g&&g({action:m,location:b.location,delta:L})}function S(M,L){m="PUSH";let N=Ic(b.location,M,L);i&&i(N,M),h=y()+1;let I=bp(N,h),$=b.createHref(N);try{f.pushState(I,"",$)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign($)}a&&g&&g({action:m,location:b.location,delta:1})}function w(M,L){m="REPLACE";let N=Ic(b.location,M,L);i&&i(N,M),h=y();let I=bp(N,h),$=b.createHref(N);f.replaceState(I,"",$),a&&g&&g({action:m,location:b.location,delta:0})}function E(M){return TS(M)}let b={get action(){return m},get location(){return t(s,f)},listen(M){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(Ep,T),g=M,()=>{s.removeEventListener(Ep,T),g=null}},createHref(M){return e(s,M)},createURL:E,encodeLocation(M){let L=E(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:w,go(M){return f.go(M)}};return b}function TS(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(i,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:ss(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function _y(t,e,i="/"){return SS(t,e,i,!1)}function SS(t,e,i,o){let s=typeof e=="string"?Ri(e):e,a=An(s.pathname||"/",i);if(a==null)return null;let f=xy(t);_S(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let h=DS(a);m=NS(f[g],h,o)}return m}function xy(t,e=[],i=[],o=""){let s=(a,f,m)=>{let g={relativePath:m===void 0?a.path||"":m,caseSensitive:a.caseSensitive===!0,childrenIndex:f,route:a};g.relativePath.startsWith("/")&&(Fe(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let h=bn([o,g.relativePath]),y=i.concat(g);a.children&&a.children.length>0&&(Fe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),xy(a.children,e,y,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:RS(h,a.index),routesMeta:y})};return t.forEach((a,f)=>{var m;if(a.path===""||!((m=a.path)!=null&&m.includes("?")))s(a,f);else for(let g of Cy(a.path))s(a,f,g)}),e}function Cy(t){let e=t.split("/");if(e.length===0)return[];let[i,...o]=e,s=i.endsWith("?"),a=i.replace(/\?$/,"");if(o.length===0)return s?[a,""]:[a];let f=Cy(o.join("/")),m=[];return m.push(...f.map(g=>g===""?a:[a,g].join("/"))),s&&m.push(...f),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function _S(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:MS(e.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var xS=/^:[\w-]+$/,CS=3,wS=2,ES=1,bS=10,AS=-2,Ap=t=>t==="*";function RS(t,e){let i=t.split("/"),o=i.length;return i.some(Ap)&&(o+=AS),e&&(o+=wS),i.filter(s=>!Ap(s)).reduce((s,a)=>s+(xS.test(a)?CS:a===""?ES:bS),o)}function MS(t,e){return t.length===e.length&&t.slice(0,-1).every((o,s)=>o===e[s])?t[t.length-1]-e[e.length-1]:0}function NS(t,e,i=!1){let{routesMeta:o}=t,s={},a="/",f=[];for(let m=0;m<o.length;++m){let g=o[m],h=m===o.length-1,y=a==="/"?e:e.slice(a.length)||"/",T=Bl({path:g.relativePath,caseSensitive:g.caseSensitive,end:h},y),S=g.route;if(!T&&h&&i&&!o[o.length-1].route.index&&(T=Bl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!T)return null;Object.assign(s,T.params),f.push({params:s,pathname:bn([a,T.pathname]),pathnameBase:LS(bn([a,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(a=bn([a,T.pathnameBase]))}return f}function Bl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,o]=kS(t.path,t.caseSensitive,t.end),s=e.match(i);if(!s)return null;let a=s[0],f=a.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:o.reduce((h,{paramName:y,isOptional:T},S)=>{if(y==="*"){let E=m[S]||"";f=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const w=m[S];return T&&!w?h[y]=void 0:h[y]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:f,pattern:t}}function kS(t,e=!1,i=!0){$t(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(o.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function DS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function An(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,o=t.charAt(i);return o&&o!=="/"?null:t.slice(i)||"/"}function US(t,e="/"){let{pathname:i,search:o="",hash:s=""}=typeof t=="string"?Ri(t):t;return{pathname:i?i.startsWith("/")?i:IS(i,e):e,search:OS(o),hash:qS(s)}}function IS(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function Sc(t,e,i,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PS(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function ad(t){let e=PS(t);return e.map((i,o)=>o===e.length-1?i.pathname:i.pathnameBase)}function ud(t,e,i,o=!1){let s;typeof t=="string"?s=Ri(t):(s={...t},Fe(!s.pathname||!s.pathname.includes("?"),Sc("?","pathname","search",s)),Fe(!s.pathname||!s.pathname.includes("#"),Sc("#","pathname","hash",s)),Fe(!s.search||!s.search.includes("#"),Sc("#","search","hash",s)));let a=t===""||s.pathname==="",f=a?"/":s.pathname,m;if(f==null)m=i;else{let T=e.length-1;if(!o&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;s.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=US(s,m),h=f&&f!=="/"&&f.endsWith("/"),y=(a||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(h||y)&&(g.pathname+="/"),g}var bn=t=>t.join("/").replace(/\/\/+/g,"/"),LS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var wy=["POST","PUT","PATCH","DELETE"];new Set(wy);var BS=["GET",...wy];new Set(BS);var Oo=R.createContext(null);Oo.displayName="DataRouter";var Yl=R.createContext(null);Yl.displayName="DataRouterState";R.createContext(!1);var Ey=R.createContext({isTransitioning:!1});Ey.displayName="ViewTransition";var GS=R.createContext(new Map);GS.displayName="Fetchers";var HS=R.createContext(null);HS.displayName="Await";var jt=R.createContext(null);jt.displayName="Navigation";var as=R.createContext(null);as.displayName="Location";var Wt=R.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var cd=R.createContext(null);cd.displayName="RouteError";function FS(t,{relative:e}={}){Fe(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=R.useContext(jt),{hash:s,pathname:a,search:f}=us(t,{relative:e}),m=a;return i!=="/"&&(m=a==="/"?i:bn([i,a])),o.createHref({pathname:m,search:f,hash:s})}function qo(){return R.useContext(as)!=null}function Rn(){return Fe(qo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(as).location}var by="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ay(t){R.useContext(jt).static||R.useLayoutEffect(t)}function dd(){let{isDataRoute:t}=R.useContext(Wt);return t?i_():zS()}function zS(){Fe(qo(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Oo),{basename:e,navigator:i}=R.useContext(jt),{matches:o}=R.useContext(Wt),{pathname:s}=Rn(),a=JSON.stringify(ad(o)),f=R.useRef(!1);return Ay(()=>{f.current=!0}),R.useCallback((g,h={})=>{if($t(f.current,by),!f.current)return;if(typeof g=="number"){i.go(g);return}let y=ud(g,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:bn([e,y.pathname])),(h.replace?i.replace:i.push)(y,h.state,h)},[e,i,a,s,t])}R.createContext(null);function $S(){let{matches:t}=R.useContext(Wt),e=t[t.length-1];return e?e.params:{}}function us(t,{relative:e}={}){let{matches:i}=R.useContext(Wt),{pathname:o}=Rn(),s=JSON.stringify(ad(i));return R.useMemo(()=>ud(t,JSON.parse(s),o,e==="path"),[t,s,o,e])}function JS(t,e){return Ry(t,e)}function Ry(t,e,i,o){var L;Fe(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(jt),{matches:a}=R.useContext(Wt),f=a[a.length-1],m=f?f.params:{},g=f?f.pathname:"/",h=f?f.pathnameBase:"/",y=f&&f.route;{let N=y&&y.path||"";My(g,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let T=Rn(),S;if(e){let N=typeof e=="string"?Ri(e):e;Fe(h==="/"||((L=N.pathname)==null?void 0:L.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=T;let w=S.pathname||"/",E=w;if(h!=="/"){let N=h.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=_y(t,{pathname:E});$t(y||b!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),$t(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=jS(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:bn([h,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:bn([h,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,i,o);return e&&M?R.createElement(as.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function YS(){let t=n_(),e=VS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),i?R.createElement("pre",{style:s},i):null,f)}var KS=R.createElement(YS,null),XS=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Wt.Provider,{value:this.props.routeContext},R.createElement(cd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QS({routeContext:t,match:e,children:i}){let o=R.useContext(Oo);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Wt.Provider,{value:t},i)}function jS(t,e=[],i=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let s=t,a=i==null?void 0:i.errors;if(a!=null){let g=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Fe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let f=!1,m=-1;if(i)for(let g=0;g<s.length;g++){let h=s[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=g),h.route.id){let{loaderData:y,errors:T}=i,S=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!T||T[h.route.id]===void 0);if(h.route.lazy||S){f=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((g,h,y)=>{let T,S=!1,w=null,E=null;i&&(T=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||KS,f&&(m<0&&y===0?(My("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):m===y&&(S=!0,E=h.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,y+1)),M=()=>{let L;return T?L=w:S?L=E:h.route.Component?L=R.createElement(h.route.Component,null):h.route.element?L=h.route.element:L=g,R.createElement(QS,{match:h,routeContext:{outlet:g,matches:b,isDataRoute:i!=null},children:L})};return i&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?R.createElement(XS,{location:i.location,revalidation:i.revalidation,component:w,error:T,children:M(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):M()},null)}function fd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(t){let e=R.useContext(Oo);return Fe(e,fd(t)),e}function ZS(t){let e=R.useContext(Yl);return Fe(e,fd(t)),e}function e_(t){let e=R.useContext(Wt);return Fe(e,fd(t)),e}function hd(t){let e=e_(t),i=e.matches[e.matches.length-1];return Fe(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function t_(){return hd("useRouteId")}function n_(){var o;let t=R.useContext(cd),e=ZS("useRouteError"),i=hd("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[i]}function i_(){let{router:t}=WS("useNavigate"),e=hd("useNavigate"),i=R.useRef(!1);return Ay(()=>{i.current=!0}),R.useCallback(async(s,a={})=>{$t(i.current,by),i.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Rp={};function My(t,e,i){!e&&!Rp[t]&&(Rp[t]=!0,$t(!1,i))}R.memo(o_);function o_({routes:t,future:e,state:i}){return Ry(t,void 0,i,e)}function Pc({to:t,replace:e,state:i,relative:o}){Fe(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=R.useContext(jt);$t(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(Wt),{pathname:f}=Rn(),m=dd(),g=ud(t,ad(a),f,o==="path"),h=JSON.stringify(g);return R.useEffect(()=>{m(JSON.parse(h),{replace:e,state:i,relative:o})},[m,h,o,e,i]),null}function Mo(t){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r_({basename:t="/",children:e=null,location:i,navigationType:o="POP",navigator:s,static:a=!1}){Fe(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:f,navigator:s,static:a,future:{}}),[f,s,a]);typeof i=="string"&&(i=Ri(i));let{pathname:g="/",search:h="",hash:y="",state:T=null,key:S="default"}=i,w=R.useMemo(()=>{let E=An(g,f);return E==null?null:{location:{pathname:E,search:h,hash:y,state:T,key:S},navigationType:o}},[f,g,h,y,T,S,o]);return $t(w!=null,`<Router basename="${f}"> is not able to match the URL "${g}${h}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(jt.Provider,{value:m},R.createElement(as.Provider,{children:e,value:w}))}function s_({children:t,location:e}){return JS(Lc(t),e)}function Lc(t,e=[]){let i=[];return R.Children.forEach(t,(o,s)=>{if(!R.isValidElement(o))return;let a=[...e,s];if(o.type===R.Fragment){i.push.apply(i,Lc(o.props.children,a));return}Fe(o.type===Mo,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Lc(o.props.children,a)),i.push(f)}),i}var Pl="get",Ll="application/x-www-form-urlencoded";function Kl(t){return t!=null&&typeof t.tagName=="string"}function l_(t){return Kl(t)&&t.tagName.toLowerCase()==="button"}function a_(t){return Kl(t)&&t.tagName.toLowerCase()==="form"}function u_(t){return Kl(t)&&t.tagName.toLowerCase()==="input"}function c_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d_(t,e){return t.button===0&&(!e||e==="_self")&&!c_(t)}var Al=null;function f_(){if(Al===null)try{new FormData(document.createElement("form"),0),Al=!1}catch{Al=!0}return Al}var h_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _c(t){return t!=null&&!h_.has(t)?($t(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ll}"`),null):t}function m_(t,e){let i,o,s,a,f;if(a_(t)){let m=t.getAttribute("action");o=m?An(m,e):null,i=t.getAttribute("method")||Pl,s=_c(t.getAttribute("enctype"))||Ll,a=new FormData(t)}else if(l_(t)||u_(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(o=g?An(g,e):null,i=t.getAttribute("formmethod")||m.getAttribute("method")||Pl,s=_c(t.getAttribute("formenctype"))||_c(m.getAttribute("enctype"))||Ll,a=new FormData(m,t),!f_()){let{name:h,type:y,value:T}=t;if(y==="image"){let S=h?`${h}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else h&&a.append(h,T)}}else{if(Kl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Pl,o=null,s=Ll,f=t}return a&&s==="text/plain"&&(f=a,a=void 0),{action:o,method:i.toLowerCase(),encType:s,formData:a,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function md(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p_(t,e,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o.pathname==="/"?o.pathname=`_root.${i}`:e&&An(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function g_(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function v_(t,e,i){let o=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let f=await g_(a,i);return f.links?f.links():[]}return[]}));return x_(o.flat(1).filter(y_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Mp(t,e,i,o,s,a){let f=(g,h)=>i[h]?g.route.id!==i[h].route.id:!0,m=(g,h)=>{var y;return i[h].pathname!==g.pathname||((y=i[h].route.path)==null?void 0:y.endsWith("*"))&&i[h].params["*"]!==g.params["*"]};return a==="assets"?e.filter((g,h)=>f(g,h)||m(g,h)):a==="data"?e.filter((g,h)=>{var T;let y=o.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(f(g,h)||m(g,h))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=i[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function T_(t,e,{includeHydrateFallback:i}={}){return S_(t.map(o=>{let s=e.routes[o.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),i&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function S_(t){return[...new Set(t)]}function __(t){let e={},i=Object.keys(t).sort();for(let o of i)e[o]=t[o];return e}function x_(t,e){let i=new Set;return new Set(e),t.reduce((o,s)=>{let a=JSON.stringify(__(s));return i.has(a)||(i.add(a),o.push({key:a,link:s})),o},[])}function Ny(){let t=R.useContext(Oo);return md(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function C_(){let t=R.useContext(Yl);return md(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pd=R.createContext(void 0);pd.displayName="FrameworkContext";function ky(){let t=R.useContext(pd);return md(t,"You must render this element inside a <HydratedRouter> element"),t}function w_(t,e){let i=R.useContext(pd),[o,s]=R.useState(!1),[a,f]=R.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:h,onMouseLeave:y,onTouchStart:T}=e,S=R.useRef(null);R.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let b=L=>{L.forEach(N=>{f(N.isIntersecting)})},M=new IntersectionObserver(b,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[t]),R.useEffect(()=>{if(o){let b=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(b)}}},[o]);let w=()=>{s(!0)},E=()=>{s(!1),f(!1)};return i?t!=="intent"?[a,S,{}]:[a,S,{onFocus:Qr(m,w),onBlur:Qr(g,E),onMouseEnter:Qr(h,w),onMouseLeave:Qr(y,E),onTouchStart:Qr(T,w)}]:[!1,S,{}]}function Qr(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function E_({page:t,...e}){let{router:i}=Ny(),o=R.useMemo(()=>_y(i.routes,t,i.basename),[i.routes,t,i.basename]);return o?R.createElement(A_,{page:t,matches:o,...e}):null}function b_(t){let{manifest:e,routeModules:i}=ky(),[o,s]=R.useState([]);return R.useEffect(()=>{let a=!1;return v_(t,e,i).then(f=>{a||s(f)}),()=>{a=!0}},[t,e,i]),o}function A_({page:t,matches:e,...i}){let o=Rn(),{manifest:s,routeModules:a}=ky(),{basename:f}=Ny(),{loaderData:m,matches:g}=C_(),h=R.useMemo(()=>Mp(t,e,g,s,o,"data"),[t,e,g,s,o]),y=R.useMemo(()=>Mp(t,e,g,s,o,"assets"),[t,e,g,s,o]),T=R.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let E=new Set,b=!1;if(e.forEach(L=>{var I;let N=s.routes[L.route.id];!N||!N.hasLoader||(!h.some($=>$.route.id===L.route.id)&&L.route.id in m&&((I=a[L.route.id])!=null&&I.shouldRevalidate)||N.hasClientLoader?b=!0:E.add(L.route.id))}),E.size===0)return[];let M=p_(t,f,"data");return b&&E.size>0&&M.searchParams.set("_routes",e.filter(L=>E.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[f,m,o,s,h,e,t,a]),S=R.useMemo(()=>T_(y,s),[y,s]),w=b_(y);return R.createElement(R.Fragment,null,T.map(E=>R.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),S.map(E=>R.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),w.map(({key:E,link:b})=>R.createElement("link",{key:E,nonce:i.nonce,...b})))}function R_(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dy&&(window.__reactRouterVersion="7.8.0")}catch{}function M_({basename:t,children:e,window:i}){let o=R.useRef();o.current==null&&(o.current=gS({window:i,v5Compat:!0}));let s=o.current,[a,f]=R.useState({action:s.action,location:s.location}),m=R.useCallback(g=>{R.startTransition(()=>f(g))},[f]);return R.useLayoutEffect(()=>s.listen(m),[s,m]),R.createElement(r_,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var Uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xl=R.forwardRef(function({onClick:e,discover:i="render",prefetch:o="none",relative:s,reloadDocument:a,replace:f,state:m,target:g,to:h,preventScrollReset:y,viewTransition:T,...S},w){let{basename:E}=R.useContext(jt),b=typeof h=="string"&&Uy.test(h),M,L=!1;if(typeof h=="string"&&b&&(M=h,Dy))try{let Z=new URL(window.location.href),fe=h.startsWith("//")?new URL(Z.protocol+h):new URL(h),de=An(fe.pathname,E);fe.origin===Z.origin&&de!=null?h=de+fe.search+fe.hash:L=!0}catch{$t(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=FS(h,{relative:s}),[I,$,G]=w_(o,S),Y=D_(h,{replace:f,state:m,target:g,preventScrollReset:y,relative:s,viewTransition:T});function X(Z){e&&e(Z),Z.defaultPrevented||Y(Z)}let ge=R.createElement("a",{...S,...G,href:M||N,onClick:L||a?e:X,ref:R_(w,$),target:g,"data-discover":!b&&i==="render"?"true":void 0});return I&&!b?R.createElement(R.Fragment,null,ge,R.createElement(E_,{page:N})):ge});Xl.displayName="Link";var es=R.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:f,viewTransition:m,children:g,...h},y){let T=us(f,{relative:h.relative}),S=Rn(),w=R.useContext(Yl),{navigator:E,basename:b}=R.useContext(jt),M=w!=null&&O_(T)&&m===!0,L=E.encodeLocation?E.encodeLocation(T).pathname:T.pathname,N=S.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(N=N.toLowerCase(),I=I?I.toLowerCase():null,L=L.toLowerCase()),I&&b&&(I=An(I,b)||I);const $=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let G=N===L||!s&&N.startsWith(L)&&N.charAt($)==="/",Y=I!=null&&(I===L||!s&&I.startsWith(L)&&I.charAt(L.length)==="/"),X={isActive:G,isPending:Y,isTransitioning:M},ge=G?e:void 0,Z;typeof o=="function"?Z=o(X):Z=[o,G?"active":null,Y?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let fe=typeof a=="function"?a(X):a;return R.createElement(Xl,{...h,"aria-current":ge,className:Z,ref:y,style:fe,to:f,viewTransition:m},typeof g=="function"?g(X):g)});es.displayName="NavLink";var N_=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:o,replace:s,state:a,method:f=Pl,action:m,onSubmit:g,relative:h,preventScrollReset:y,viewTransition:T,...S},w)=>{let E=P_(),b=L_(m,{relative:h}),M=f.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&Uy.test(m),N=I=>{if(g&&g(I),I.defaultPrevented)return;I.preventDefault();let $=I.nativeEvent.submitter,G=($==null?void 0:$.getAttribute("formmethod"))||f;E($||I.currentTarget,{fetcherKey:e,method:G,navigate:i,replace:s,state:a,relative:h,preventScrollReset:y,viewTransition:T})};return R.createElement("form",{ref:w,method:M,action:b,onSubmit:o?g:N,...S,"data-discover":!L&&t==="render"?"true":void 0})});N_.displayName="Form";function k_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iy(t){let e=R.useContext(Oo);return Fe(e,k_(t)),e}function D_(t,{target:e,replace:i,state:o,preventScrollReset:s,relative:a,viewTransition:f}={}){let m=dd(),g=Rn(),h=us(t,{relative:a});return R.useCallback(y=>{if(d_(y,e)){y.preventDefault();let T=i!==void 0?i:ss(g)===ss(h);m(t,{replace:T,state:o,preventScrollReset:s,relative:a,viewTransition:f})}},[g,m,h,i,o,e,t,s,a,f])}var U_=0,I_=()=>`__${String(++U_)}__`;function P_(){let{router:t}=Iy("useSubmit"),{basename:e}=R.useContext(jt),i=t_();return R.useCallback(async(o,s={})=>{let{action:a,method:f,encType:m,formData:g,body:h}=m_(o,e);if(s.navigate===!1){let y=s.fetcherKey||I_();await t.fetch(y,i,s.action||a,{preventScrollReset:s.preventScrollReset,formData:g,body:h,formMethod:s.method||f,formEncType:s.encType||m,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:g,body:h,formMethod:s.method||f,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:i,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,i])}function L_(t,{relative:e}={}){let{basename:i}=R.useContext(jt),o=R.useContext(Wt);Fe(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),a={...us(t||".",{relative:e})},f=Rn();if(t==null){a.search=f.search;let m=new URLSearchParams(a.search),g=m.getAll("index");if(g.some(y=>y==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let y=m.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(a.pathname=a.pathname==="/"?i:bn([i,a.pathname])),ss(a)}function O_(t,{relative:e}={}){let i=R.useContext(Ey);Fe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Iy("useViewTransitionState"),s=us(t,{relative:e});if(!i.isTransitioning)return!1;let a=An(i.currentLocation.pathname,o)||i.currentLocation.pathname,f=An(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Bl(s.pathname,f)!=null||Bl(s.pathname,a)!=null}const ce=({name:t,...e})=>{switch(t){case"dashboard":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),_.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),_.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),_.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]});case"edit":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),_.jsx("path",{d:"m15 5 4 4"})]});case"save":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),_.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),_.jsx("polyline",{points:"7 3 7 8 15 8"})]});case"book":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),_.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]});case"sparkles":return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9z"})});case"trash":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M3 6h18"}),_.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]});case"copy":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),_.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]});case"check":return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("path",{d:"M20 6 9 17l-5-5"})});case"check-circle":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),_.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]});case"close":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});case"alert-triangle":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),_.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});case"settings":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15-.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),_.jsx("circle",{cx:"12",cy:"12",r:"3"})]});case"plus":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),_.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]});case"chevron-down":return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("polyline",{points:"6 9 12 15 18 9"})});case"sun":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("circle",{cx:"12",cy:"12",r:"4"}),_.jsx("path",{d:"M12 2v2"}),_.jsx("path",{d:"M12 20v2"}),_.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),_.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),_.jsx("path",{d:"M2 12h2"}),_.jsx("path",{d:"M20 12h2"}),_.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),_.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]});case"moon":return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})});case"compass":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("circle",{cx:"12",cy:"12",r:"10"}),_.jsx("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"})]});case"search":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("circle",{cx:"11",cy:"11",r:"8"}),_.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]});case"folder":return _.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"})});case"arrow-left":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"m12 19-7-7 7-7"}),_.jsx("path",{d:"M19 12H5"})]});case"tag":return _.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M12.586 2.586a2 2 0 0 0-2.828 0L2.172 10.172a2 2 0 0 0 0 2.828l7.414 7.414a2 2 0 0 0 2.828 0l7.414-7.414a2 2 0 0 0 0-2.828Z"}),_.jsx("circle",{cx:"16",cy:"8",r:"1"})]});default:return null}};function q_(t,e){const[i,o]=R.useState(()=>{if(typeof window>"u")return e;try{const a=window.localStorage.getItem(t);return a?JSON.parse(a):e}catch(a){return console.error(a),e}}),s=R.useCallback(a=>{try{o(f=>{const m=a instanceof Function?a(f):a;return typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(m)),m})}catch(f){console.error(f)}},[t]);return[i,s]}const Py=R.createContext(void 0),V_=({children:t})=>{const[e,i]=q_("theme","dark");R.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(e)},[e]);const o=()=>{i(s=>s==="light"?"dark":"light")};return _.jsx(Py.Provider,{value:{theme:e,toggleTheme:o},children:t})},B_=()=>{const t=R.useContext(Py);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},G_="modulepreload",H_=function(t){return"/"+t},Np={},cs=function(e,i,o){let s=Promise.resolve();if(i&&i.length>0){let f=function(h){return Promise.all(h.map(y=>Promise.resolve(y).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));s=f(i.map(h=>{if(h=H_(h),h in Np)return;Np[h]=!0;const y=h.endsWith(".css"),T=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${T}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":G_,y||(S.as="script"),S.crossOrigin="",S.href=h,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((w,E)=>{S.addEventListener("load",w),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return s.then(f=>{for(const m of f||[])m.status==="rejected"&&a(m.reason);return e().catch(a)})},F_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...i)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Vo);return{default:o}},[]).then(({default:o})=>o(...i)):e=fetch,(...i)=>e(...i)};class gd extends Error{constructor(e,i="FunctionsError",o){super(e),this.name=i,this.context=o}}class z_ extends gd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kp extends gd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Dp extends gd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Oc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Oc||(Oc={}));var $_=function(t,e,i,o){function s(a){return a instanceof i?a:new i(function(f){f(a)})}return new(i||(i=Promise))(function(a,f){function m(y){try{h(o.next(y))}catch(T){f(T)}}function g(y){try{h(o.throw(y))}catch(T){f(T)}}function h(y){y.done?a(y.value):s(y.value).then(m,g)}h((o=o.apply(t,e||[])).next())})};class J_{constructor(e,{headers:i={},customFetch:o,region:s=Oc.Any}={}){this.url=e,this.headers=i,this.region=s,this.fetch=F_(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var o;return $_(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:f}=i;let m={},{region:g}=i;g||(g=this.region);const h=new URL(`${this.url}/${e}`);g&&g!=="any"&&(m["x-region"]=g,h.searchParams.set("forceFunctionRegion",g));let y;f&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(m["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(m["Content-Type"]="application/json",y=JSON.stringify(f)));const T=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),s),body:y}).catch(b=>{throw new z_(b)}),S=T.headers.get("x-relay-error");if(S&&S==="true")throw new kp(T);if(!T.ok)throw new Dp(T);let w=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),E;return w==="application/json"?E=yield T.json():w==="application/octet-stream"?E=yield T.blob():w==="text/event-stream"?E=T:w==="multipart/form-data"?E=yield T.formData():E=yield T.text(),{data:E,error:null,response:T}}catch(s){return{data:null,error:s,response:s instanceof Dp||s instanceof kp?s.context:void 0}}})}}var rt={},To={},So={},_o={},xo={},Co={},Y_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lo=Y_();const K_=Lo.fetch,Ly=Lo.fetch.bind(Lo),Oy=Lo.Headers,X_=Lo.Request,Q_=Lo.Response,Vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oy,Request:X_,Response:Q_,default:Ly,fetch:K_},Symbol.toStringTag,{value:"Module"})),j_=iS(Vo);var Rl={},Up;function qy(){if(Up)return Rl;Up=1,Object.defineProperty(Rl,"__esModule",{value:!0});class t extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Rl.default=t,Rl}var Ip;function Vy(){if(Ip)return Co;Ip=1;var t=Co&&Co.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Co,"__esModule",{value:!0});const e=t(j_),i=t(qy());class o{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,f){return this.headers=Object.assign({},this.headers),this.headers[a]=f,this}then(a,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var y,T,S;let w=null,E=null,b=null,M=h.status,L=h.statusText;if(h.ok){if(this.method!=="HEAD"){const G=await h.text();G===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=G:E=JSON.parse(G))}const I=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),$=(T=h.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");I&&$&&$.length>1&&(b=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,b=null,M=406,L="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const I=await h.text();try{w=JSON.parse(I),Array.isArray(w)&&h.status===404&&(E=[],w=null,M=200,L="OK")}catch{h.status===404&&I===""?(M=204,L="No Content"):w={message:I}}if(w&&this.isMaybeSingle&&(!((S=w==null?void 0:w.details)===null||S===void 0)&&S.includes("0 rows"))&&(w=null,M=200,L="OK"),w&&this.shouldThrowOnError)throw new i.default(w)}return{error:w,data:E,count:b,status:M,statusText:L}});return this.shouldThrowOnError||(g=g.catch(h=>{var y,T,S;return{error:{message:`${(y=h==null?void 0:h.name)!==null&&y!==void 0?y:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(T=h==null?void 0:h.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(S=h==null?void 0:h.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(a,f)}returns(){return this}overrideTypes(){return this}}return Co.default=o,Co}var Pp;function By(){if(Pp)return xo;Pp=1;var t=xo&&xo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xo,"__esModule",{value:!0});const e=t(Vy());class i extends e.default{select(s){let a=!1;const f=(s??"*").split("").map(m=>/\s/.test(m)&&!a?"":(m==='"'&&(a=!a),m)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:a=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const h=g?`${g}.order`:"order",y=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${y?`${y},`:""}${s}.${a?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:f=a}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${s}`),this}range(s,a,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,h=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:a=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:h="text"}={}){var y;const T=[s?"analyze":null,a?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${S}"; options=${T};`,h==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return xo.default=i,xo}var Lp;function yd(){if(Lp)return _o;Lp=1;var t=_o&&_o.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(_o,"__esModule",{value:!0});const e=t(By());class i extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const f=Array.from(new Set(a)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(s,`in.(${f})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:f,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const h=f===void 0?"":`(${f})`;return this.url.searchParams.append(s,`${g}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,f])=>{this.url.searchParams.append(a,`eq.${f}`)}),this}not(s,a,f){return this.url.searchParams.append(s,`not.${a}.${f}`),this}or(s,{foreignTable:a,referencedTable:f=a}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${s})`),this}filter(s,a,f){return this.url.searchParams.append(s,`${a}.${f}`),this}}return _o.default=i,_o}var Op;function Gy(){if(Op)return So;Op=1;var t=So&&So.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(So,"__esModule",{value:!0});const e=t(yd());class i{constructor(s,{headers:a={},schema:f,fetch:m}){this.url=s,this.headers=a,this.schema=f,this.fetch=m}select(s,{head:a=!1,count:f}={}){const m=a?"HEAD":"GET";let g=!1;const h=(s??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",h),f&&(this.headers.Prefer=`count=${f}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:a,defaultToNull:f=!0}={}){const m="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),a&&g.push(`count=${a}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(s)){const h=s.reduce((y,T)=>y.concat(Object.keys(T)),[]);if(h.length>0){const y=[...new Set(h)].map(T=>`"${T}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:a,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){const h="POST",y=[`resolution=${f?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&y.push(this.headers.Prefer),m&&y.push(`count=${m}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(s)){const T=s.reduce((S,w)=>S.concat(Object.keys(w)),[]);if(T.length>0){const S=[...new Set(T)].map(w=>`"${w}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:a}={}){const f="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),a&&m.push(`count=${a}`),this.headers.Prefer=m.join(","),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const a="DELETE",f=[];return s&&f.push(`count=${s}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return So.default=i,So}var jr={},Wr={},qp;function W_(){return qp||(qp=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.version=void 0,Wr.version="0.0.0-automated"),Wr}var Vp;function Z_(){if(Vp)return jr;Vp=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.DEFAULT_HEADERS=void 0;const t=W_();return jr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},jr}var Bp;function ex(){if(Bp)return To;Bp=1;var t=To&&To.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(To,"__esModule",{value:!0});const e=t(Gy()),i=t(yd()),o=Z_();class s{constructor(f,{headers:m={},schema:g,fetch:h}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),m),this.schemaName=g,this.fetch=h}from(f){const m=new URL(`${this.url}/${f}`);return new e.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new s(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,m={},{head:g=!1,get:h=!1,count:y}={}){let T;const S=new URL(`${this.url}/rpc/${f}`);let w;g||h?(T=g?"HEAD":"GET",Object.entries(m).filter(([b,M])=>M!==void 0).map(([b,M])=>[b,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([b,M])=>{S.searchParams.append(b,M)})):(T="POST",w=m);const E=Object.assign({},this.headers);return y&&(E.Prefer=`count=${y}`),new i.default({method:T,url:S,headers:E,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return To.default=s,To}var Gp;function tx(){if(Gp)return rt;Gp=1;var t=rt&&rt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(rt,"__esModule",{value:!0}),rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const e=t(ex());rt.PostgrestClient=e.default;const i=t(Gy());rt.PostgrestQueryBuilder=i.default;const o=t(yd());rt.PostgrestFilterBuilder=o.default;const s=t(By());rt.PostgrestTransformBuilder=s.default;const a=t(Vy());rt.PostgrestBuilder=a.default;const f=t(qy());return rt.PostgrestError=f.default,rt.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:f.default},rt}var nx=tx();const ix=sd(nx),{PostgrestClient:ox,PostgrestQueryBuilder:JD,PostgrestFilterBuilder:YD,PostgrestTransformBuilder:KD,PostgrestBuilder:XD,PostgrestError:QD}=ix;class rx{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const i=parseInt(process.versions.node.split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const o=this.getWebSocketConstructor();return new o(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sx="2.15.1",lx=`realtime-js/${sx}`,ax="1.0.0",qc=1e4,ux=1e3,cx=100;var ns;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ns||(ns={}));var et;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(et||(et={}));var Qt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qt||(Qt={}));var Vc;(function(t){t.websocket="websocket"})(Vc||(Vc={}));var Ei;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ei||(Ei={}));class dx{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),o=new TextDecoder;return this._decodeBroadcast(e,i,o)}_decodeBroadcast(e,i,o){const s=i.getUint8(1),a=i.getUint8(2);let f=this.HEADER_LENGTH+2;const m=o.decode(e.slice(f,f+s));f=f+s;const g=o.decode(e.slice(f,f+a));f=f+a;const h=JSON.parse(o.decode(e.slice(f,e.byteLength)));return{ref:null,topic:m,event:g,payload:h}}}class Hy{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const Hp=(t,e,i={})=>{var o;const s=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(e).reduce((a,f)=>(a[f]=fx(f,t,e,s),a),{})},fx=(t,e,i,o)=>{const s=e.find(m=>m.name===t),a=s==null?void 0:s.type,f=i[t];return a&&!o.includes(a)?Fy(a,f):Bc(f)},Fy=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return gx(e,i)}switch(t){case Ve.bool:return hx(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return mx(e);case Ve.json:case Ve.jsonb:return px(e);case Ve.timestamp:return yx(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Bc(e);default:return Bc(e)}},Bc=t=>t,hx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mx=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},px=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gx=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,o=t[i];if(t[0]==="{"&&o==="}"){let a;const f=t.slice(1,i);try{a=JSON.parse("["+f+"]")}catch{a=f?f.split(","):[]}return a.map(m=>Fy(e,m))}return t},yx=t=>typeof t=="string"?t.replace(" ","T"):t,zy=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class xc{constructor(e,i,o={},s=qc){this.channel=e,this.event=i,this.payload=o,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var o;return this._hasReceived(e)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fp||(Fp={}));class is{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},s=>{const{onJoin:a,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,s,a,f),this.pendingDiffs.forEach(g=>{this.state=is.syncDiff(this.state,g,a,f)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},s=>{const{onJoin:a,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=is.syncDiff(this.state,s,a,f),m())}),this.onJoin((s,a,f)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:f})}),this.onLeave((s,a,f)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,o,s){const a=this.cloneDeep(e),f=this.transformState(i),m={},g={};return this.map(a,(h,y)=>{f[h]||(g[h]=y)}),this.map(f,(h,y)=>{const T=a[h];if(T){const S=y.map(M=>M.presence_ref),w=T.map(M=>M.presence_ref),E=y.filter(M=>w.indexOf(M.presence_ref)<0),b=T.filter(M=>S.indexOf(M.presence_ref)<0);E.length>0&&(m[h]=E),b.length>0&&(g[h]=b)}else m[h]=y}),this.syncDiff(a,{joins:m,leaves:g},o,s)}static syncDiff(e,i,o,s){const{joins:a,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),s||(s=()=>{}),this.map(a,(m,g)=>{var h;const y=(h=e[m])!==null&&h!==void 0?h:[];if(e[m]=this.cloneDeep(g),y.length>0){const T=e[m].map(w=>w.presence_ref),S=y.filter(w=>T.indexOf(w.presence_ref)<0);e[m].unshift(...S)}o(m,y,g)}),this.map(f,(m,g)=>{let h=e[m];if(!h)return;const y=g.map(T=>T.presence_ref);h=h.filter(T=>y.indexOf(T.presence_ref)<0),e[m]=h,s(m,h,g),h.length===0&&delete e[m]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(o=>i(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,o)=>{const s=e[o];return"metas"in s?i[o]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):i[o]=s,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zp||(zp={}));var os;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(os||(os={}));var wn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class vd{constructor(e,i={config:{}},o){this.topic=e,this.params=i,this.socket=o,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new xc(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new Hy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new is(this),this.broadcastEndpointURL=zy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,i=this.timeout){var o,s;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:a,presence:f,private:m}}=this.params,g=(s=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[os.PRESENCE]&&this.bindings[os.PRESENCE].length>0,y={},T={broadcast:a,presence:Object.assign(Object.assign({},f),{enabled:h}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(wn.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(wn.CLOSED)),this.updateJoinPayload(Object.assign({config:T},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var w;if(this.socket.setAuth(),S===void 0){e==null||e(wn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,b=(w=E==null?void 0:E.length)!==null&&w!==void 0?w:0,M=[];for(let L=0;L<b;L++){const N=E[L],{filter:{event:I,schema:$,table:G,filter:Y}}=N,X=S&&S[L];if(X&&X.event===I&&X.schema===$&&X.table===G&&X.filter===Y)M.push(Object.assign(Object.assign({},N),{id:X.id}));else{this.unsubscribe(),this.state=et.errored,e==null||e(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(wn.SUBSCRIBED);return}}).receive("error",S=>{this.state=et.errored,e==null||e(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,o){return this.state===et.joined&&e===os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,i,o)}async send(e,i={}){var o,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:f}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:f,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var f,m,g;const h=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=et.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(s=>{o=new xc(this,Qt.leave,{},e),o.receive("ok",()=>{i(),s("ok")}).receive("timeout",()=>{i(),s("timed out")}).receive("error",()=>{s("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(e,i,o){const s=new AbortController,a=setTimeout(()=>s.abort(),o),f=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:s.signal}));return clearTimeout(a),f}_push(e,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xc(this,e,i,o);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cx){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,o){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,o){var s,a;const f=e.toLocaleLowerCase(),{close:m,error:g,leave:h,join:y}=Qt;if(o&&[m,g,h,y].indexOf(f)>=0&&o!==this._joinRef())return;let S=this._onMessage(f,i,o);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var E,b,M;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((M=(b=w.filter)===null||b===void 0?void 0:b.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===f}).map(w=>w.callback(S,o)):(a=this.bindings[f])===null||a===void 0||a.filter(w=>{var E,b,M,L,N,I;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const $=w.id,G=(E=w.filter)===null||E===void 0?void 0:E.event;return $&&((b=i.ids)===null||b===void 0?void 0:b.includes($))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((M=i.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const $=(N=(L=w==null?void 0:w.filter)===null||L===void 0?void 0:L.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return $==="*"||$===((I=i==null?void 0:i.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof S=="object"&&"ids"in S){const E=S.data,{schema:b,table:M,commit_timestamp:L,type:N,errors:I}=E;S=Object.assign(Object.assign({},{schema:b,table:M,commit_timestamp:L,eventType:N,new:{},old:{},errors:I}),this._getPayloadRecords(E))}w.callback(S,o)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,o){const s=e.toLocaleLowerCase(),a={type:s,filter:i,callback:o};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,i){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===o&&vd.isEqual(s.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const o in e)if(e[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qt.close,{},e)}_onError(e){this._on(Qt.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=Hp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=Hp(e.columns,e.old_record)),i}}const $p=()=>{},Ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vx=[1e3,2e3,5e3,1e4],Tx=1e4,Sx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _x{constructor(e,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qc,this.transport=null,this.heartbeatIntervalMs=Ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$p,this.ref=0,this.reconnectTimer=null,this.logger=$p,this.conn=null,this.sendBuffer=[],this.serializer=new dx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...f)=>cs(async()=>{const{default:m}=await Promise.resolve().then(()=>Vo);return{default:m}},void 0).then(({default:m})=>m(...f)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...f)=>a(...f)},!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${Vc.websocket}`,this.httpEndpoint=zy(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ax}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},e?this.conn.close(e,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,o){this.logger(e,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return Ei.Connecting;case ns.open:return Ei.Open;case ns.closing:return Ei.Closing;default:return Ei.Closed}}isConnected(){return this.connectionState()===Ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const o=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===o);if(s)return s;{const a=new vd(`realtime:${e}`,i,this);return this.channels.push(a),a}}push(e){const{topic:i,event:o,payload:s,ref:a}=e,f=()=>{this.encode(e,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${i} ${o} (${a})`,s),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ux,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{i.topic==="phoenix"&&i.event==="phx_reply"&&this.heartbeatCallback(i.payload.status==="ok"?"ok":"error"),i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:s,payload:a,ref:f}=i,m=f?`(${f})`:"",g=a.status||"";this.log("receive",`${g} ${o} ${s} ${m}`.trim(),a),this.channels.filter(h=>h._isMember(o)).forEach(h=>h._trigger(s,a,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qt.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const o=e.match(/\?/)?"&":"?",s=new URLSearchParams(i);return`${e}${o}${s}`}_workerObjectUrl(e){let i;if(e)i=e;else{const o=new Blob([Sx],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i;e?i=e:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const s={access_token:i,version:lx};i&&o.updateJoinPayload(s),o.joinedOnce&&o._isJoined()&&o._push(Qt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(i)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Hy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,o,s,a,f,m,g,h;if(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:qc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ml.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(f=e==null?void 0:e.accessToken)!==null&&f!==void 0?f:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(y=>vx[y-1]||Tx),this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((y,T)=>T(JSON.stringify(y))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Td extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xx extends Td{constructor(e,i,o){super(e),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gc extends Td{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var Cx=function(t,e,i,o){function s(a){return a instanceof i?a:new i(function(f){f(a)})}return new(i||(i=Promise))(function(a,f){function m(y){try{h(o.next(y))}catch(T){f(T)}}function g(y){try{h(o.throw(y))}catch(T){f(T)}}function h(y){y.done?a(y.value):s(y.value).then(m,g)}h((o=o.apply(t,e||[])).next())})};const $y=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...i)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Vo);return{default:o}},void 0).then(({default:o})=>o(...i)):e=fetch,(...i)=>e(...i)},wx=()=>Cx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>Vo),void 0)).Response:Response}),Hc=t=>{if(Array.isArray(t))return t.map(i=>Hc(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,o])=>{const s=i.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Hc(o)}),e},Ex=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Mi=function(t,e,i,o){function s(a){return a instanceof i?a:new i(function(f){f(a)})}return new(i||(i=Promise))(function(a,f){function m(y){try{h(o.next(y))}catch(T){f(T)}}function g(y){try{h(o.throw(y))}catch(T){f(T)}}function h(y){y.done?a(y.value):s(y.value).then(m,g)}h((o=o.apply(t,e||[])).next())})};const Cc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bx=(t,e,i)=>Mi(void 0,void 0,void 0,function*(){const o=yield wx();t instanceof o&&!(i!=null&&i.noResolveJson)?t.json().then(s=>{const a=t.status||500,f=(s==null?void 0:s.statusCode)||a+"";e(new xx(Cc(s),a,f))}).catch(s=>{e(new Gc(Cc(s),s))}):e(new Gc(Cc(t),t))}),Ax=(t,e,i,o)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?s:(Ex(o)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(o)):s.body=o,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),i))};function ds(t,e,i,o,s,a){return Mi(this,void 0,void 0,function*(){return new Promise((f,m)=>{t(i,Ax(e,o,s,a)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>bx(g,m,o))})})}function Gl(t,e,i,o){return Mi(this,void 0,void 0,function*(){return ds(t,"GET",e,i,o)})}function En(t,e,i,o,s){return Mi(this,void 0,void 0,function*(){return ds(t,"POST",e,o,s,i)})}function Fc(t,e,i,o,s){return Mi(this,void 0,void 0,function*(){return ds(t,"PUT",e,o,s,i)})}function Rx(t,e,i,o){return Mi(this,void 0,void 0,function*(){return ds(t,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function Jy(t,e,i,o,s){return Mi(this,void 0,void 0,function*(){return ds(t,"DELETE",e,o,s,i)})}var _t=function(t,e,i,o){function s(a){return a instanceof i?a:new i(function(f){f(a)})}return new(i||(i=Promise))(function(a,f){function m(y){try{h(o.next(y))}catch(T){f(T)}}function g(y){try{h(o.throw(y))}catch(T){f(T)}}function h(y){y.done?a(y.value):s(y.value).then(m,g)}h((o=o.apply(t,e||[])).next())})};const Mx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nx{constructor(e,i={},o,s){this.url=e,this.headers=i,this.bucketId=o,this.fetch=$y(s)}uploadOrUpdate(e,i,o,s){return _t(this,void 0,void 0,function*(){try{let a;const f=Object.assign(Object.assign({},Jp),s);let m=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(a=new FormData,a.append("cacheControl",f.cacheControl),g&&a.append("metadata",this.encodeMetadata(g)),a.append("",o)):typeof FormData<"u"&&o instanceof FormData?(a=o,a.append("cacheControl",f.cacheControl),g&&a.append("metadata",this.encodeMetadata(g))):(a=o,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),s!=null&&s.headers&&(m=Object.assign(Object.assign({},m),s.headers));const h=this._removeEmptyFolders(i),y=this._getFinalPath(h),T=yield(e=="PUT"?Fc:En)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:h,id:T.Id,fullPath:T.Key},error:null}}catch(a){if(st(a))return{data:null,error:a};throw a}})}upload(e,i,o){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,o)})}uploadToSignedUrl(e,i,o,s){return _t(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),f=this._getFinalPath(a),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",i);try{let g;const h=Object.assign({upsert:Jp.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",h.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",h.cacheControl)):(g=o,y["cache-control"]=`max-age=${h.cacheControl}`,y["content-type"]=h.contentType);const T=yield Fc(this.fetch,m.toString(),g,{headers:y});return{data:{path:a,fullPath:T.Key},error:null}}catch(g){if(st(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,i){return _t(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const s=Object.assign({},this.headers);i!=null&&i.upsert&&(s["x-upsert"]="true");const a=yield En(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:s}),f=new URL(this.url+a.url),m=f.searchParams.get("token");if(!m)throw new Td("No token returned by API");return{data:{signedUrl:f.toString(),path:e,token:m},error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}update(e,i,o){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,o)})}move(e,i,o){return _t(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}copy(e,i,o){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield En(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}createSignedUrl(e,i,o){return _t(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield En(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${f}`)},{data:a,error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}createSignedUrls(e,i,o){return _t(this,void 0,void 0,function*(){try{const s=yield En(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),a=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:s.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${a}`):null})),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}download(e,i){return _t(this,void 0,void 0,function*(){const s=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=a?`?${a}`:"";try{const m=this._getFinalPath(e);return{data:yield(yield Gl(this.fetch,`${this.url}/${s}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(st(m))return{data:null,error:m};throw m}})}info(e){return _t(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const o=yield Gl(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Hc(o),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}exists(e){return _t(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield Rx(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(st(o)&&o instanceof Gc){const s=o.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,i){const o=this._getFinalPath(e),s=[],a=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";a!==""&&s.push(a);const m=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&s.push(g);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${o}${h}`)}}}remove(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Jy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(st(i))return{data:null,error:i};throw i}})}list(e,i,o){return _t(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Mx),i),{prefix:e||""});return{data:yield En(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},o),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const kx="2.10.5",Dx={"X-Client-Info":`storage-js/${kx}`};var wo=function(t,e,i,o){function s(a){return a instanceof i?a:new i(function(f){f(a)})}return new(i||(i=Promise))(function(a,f){function m(y){try{h(o.next(y))}catch(T){f(T)}}function g(y){try{h(o.throw(y))}catch(T){f(T)}}function h(y){y.done?a(y.value):s(y.value).then(m,g)}h((o=o.apply(t,e||[])).next())})};class Ux{constructor(e,i={},o,s){const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Dx),i),this.fetch=$y(o)}listBuckets(){return wo(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(st(e))return{data:null,error:e};throw e}})}getBucket(e){return wo(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(st(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return wo(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}updateBucket(e,i){return wo(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}emptyBucket(e){return wo(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(st(i))return{data:null,error:i};throw i}})}deleteBucket(e){return wo(this,void 0,void 0,function*(){try{return{data:yield Jy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(st(i))return{data:null,error:i};throw i}})}}class Ix extends Ux{constructor(e,i={},o,s){super(e,i,o,s)}from(e){return new Nx(this.url,this.headers,e,this.fetch)}}const Px="2.55.0";let ts="";typeof Deno<"u"?ts="deno":typeof document<"u"?ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ts="react-native":ts="node";const Lx={"X-Client-Info":`supabase-js-${ts}/${Px}`},Ox={headers:Lx},qx={schema:"public"},Vx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bx={};var Gx=function(t,e,i,o){function s(a){return a instanceof i?a:new i(function(f){f(a)})}return new(i||(i=Promise))(function(a,f){function m(y){try{h(o.next(y))}catch(T){f(T)}}function g(y){try{h(o.throw(y))}catch(T){f(T)}}function h(y){y.done?a(y.value):s(y.value).then(m,g)}h((o=o.apply(t,e||[])).next())})};const Hx=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ly:e=fetch,(...i)=>e(...i)},Fx=()=>typeof Headers>"u"?Oy:Headers,zx=(t,e,i)=>{const o=Hx(i),s=Fx();return(a,f)=>Gx(void 0,void 0,void 0,function*(){var m;const g=(m=yield e())!==null&&m!==void 0?m:t;let h=new s(f==null?void 0:f.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${g}`),o(a,Object.assign(Object.assign({},f),{headers:h}))})};var $x=function(t,e,i,o){function s(a){return a instanceof i?a:new i(function(f){f(a)})}return new(i||(i=Promise))(function(a,f){function m(y){try{h(o.next(y))}catch(T){f(T)}}function g(y){try{h(o.throw(y))}catch(T){f(T)}}function h(y){y.done?a(y.value):s(y.value).then(m,g)}h((o=o.apply(t,e||[])).next())})};function Jx(t){return t.endsWith("/")?t:t+"/"}function Yx(t,e){var i,o;const{db:s,auth:a,realtime:f,global:m}=t,{db:g,auth:h,realtime:y,global:T}=e,S={db:Object.assign(Object.assign({},g),s),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},T),m),{headers:Object.assign(Object.assign({},(i=T==null?void 0:T.headers)!==null&&i!==void 0?i:{}),(o=m==null?void 0:m.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>$x(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}const Yy="2.71.1",No=30*1e3,zc=3,wc=zc*No,Kx="http://localhost:9999",Xx="supabase.auth.token",Qx={"X-Client-Info":`gotrue-js/${Yy}`},$c="X-Supabase-Api-Version",Ky={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wx=600*1e3;class Sd extends Error{constructor(e,i,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function he(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zx extends Sd{constructor(e,i,o){super(e,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function eC(t){return he(t)&&t.name==="AuthApiError"}class Xy extends Sd{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class ii extends Sd{constructor(e,i,o,s){super(e,o,s),this.name=i,this.status=o}}class ti extends ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tC(t){return he(t)&&t.name==="AuthSessionMissingError"}class Nl extends ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kl extends ii{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dl extends ii{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nC(t){return he(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yp extends ii{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jc extends ii{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Ec(t){return he(t)&&t.name==="AuthRetryableFetchError"}class Kp extends ii{constructor(e,i,o){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class Yc extends ii{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xp=` 	
\r=`.split(""),iC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xp.length;e+=1)t[Xp[e].charCodeAt(0)]=-2;for(let e=0;e<Hl.length;e+=1)t[Hl[e].charCodeAt(0)]=e;return t})();function Qp(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;i(Hl[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;i(Hl[o]),e.queuedBits-=6}}function Qy(t,e,i){const o=iC[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jp(t){const e=[],i=f=>{e.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=f=>{sC(f,o,i)};for(let f=0;f<t.length;f+=1)Qy(t.charCodeAt(f),s,a);return e.join("")}function oC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rC(t,e){for(let i=0;i<t.length;i+=1){let o=t.charCodeAt(i);if(o>55295&&o<=56319){const s=(o-55296)*1024&65535;o=(t.charCodeAt(i+1)-56320&65535|s)+65536,i+=1}oC(o,e)}}function sC(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function lC(t){const e=[],i={queue:0,queuedBits:0},o=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Qy(t.charCodeAt(s),i,o);return new Uint8Array(e)}function aC(t){const e=[];return rC(t,i=>e.push(i)),new Uint8Array(e)}function uC(t){const e=[],i={queue:0,queuedBits:0},o=s=>{e.push(s)};return t.forEach(s=>Qp(s,i,o)),Qp(null,i,o),e.join("")}function cC(t){return Math.round(Date.now()/1e3)+t}function dC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",xi={tested:!1,writable:!1},jy=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function fC(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return i.searchParams.forEach((o,s)=>{e[s]=o}),e}const Wy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...i)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Vo);return{default:o}},void 0).then(({default:o})=>o(...i)):e=fetch,(...i)=>e(...i)},hC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ko=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},Ci=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ei=async(t,e)=>{await t.removeItem(e)};class Ql{constructor(){this.promise=new Ql.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Ql.promiseConstructor=Promise;function bc(t){const e=t.split(".");if(e.length!==3)throw new Yc("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!jx.test(e[o]))throw new Yc("JWT not in base64url format");return{header:JSON.parse(jp(e[0])),payload:JSON.parse(jp(e[1])),signature:lC(e[2]),raw:{header:e[0],payload:e[1]}}}async function mC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pC(t,e){return new Promise((o,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const f=await t(a);if(!e(a,null,f)){o(f);return}}catch(f){if(!e(a,f)){s(f);return}}})()})}function gC(t){return("0"+t.toString(16)).substr(-2)}function yC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let s="";for(let a=0;a<56;a++)s+=i.charAt(Math.floor(Math.random()*o));return s}return crypto.getRandomValues(e),Array.from(e,gC).join("")}async function vC(t){const i=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",i),s=new Uint8Array(o);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function TC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await vC(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eo(t,e,i=!1){const o=yC();let s=o;i&&(s+="/PASSWORD_RECOVERY"),await ko(t,`${e}-code-verifier`,s);const a=await TC(o);return[a,o===a?"plain":"s256"]}const SC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _C(t){const e=t.headers.get($c);if(!e||!e.match(SC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function CC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bo(t){if(!wC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ac(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wp(t){return JSON.parse(JSON.stringify(t))}var EC=function(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(i[o[s]]=t[o[s]]);return i};const wi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bC=[502,503,504];async function Zp(t){var e;if(!hC(t))throw new Jc(wi(t),0);if(bC.includes(t.status))throw new Jc(wi(t),t.status);let i;try{i=await t.json()}catch(a){throw new Xy(wi(a),a)}let o;const s=_C(t);if(s&&s.getTime()>=Ky["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new Kp(wi(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new ti}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((a,f)=>a&&typeof f=="string",!0))throw new Kp(wi(i),t.status,i.weak_password.reasons);throw new Zx(wi(i),t.status||500,o)}const AC=(t,e,i,o)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(o),Object.assign(Object.assign({},s),i))};async function _e(t,e,i,o){var s;const a=Object.assign({},o==null?void 0:o.headers);a[$c]||(a[$c]=Ky["2024-01-01"].name),o!=null&&o.jwt&&(a.Authorization=`Bearer ${o.jwt}`);const f=(s=o==null?void 0:o.query)!==null&&s!==void 0?s:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await RC(t,e,i+m,{headers:a,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function RC(t,e,i,o,s,a){const f=AC(e,o,s,a);let m;try{m=await t(i,Object.assign({},f))}catch(g){throw console.error(g),new Jc(wi(g),0)}if(m.ok||await Zp(m),o!=null&&o.noResolveJson)return m;try{return await m.json()}catch(g){await Zp(g)}}function Cn(t){var e;let i=null;DC(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=cC(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:o},error:null}}function eg(t){const e=Cn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ni(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MC(t){return{data:t,error:null}}function NC(t){const{action_link:e,email_otp:i,hashed_token:o,redirect_to:s,verification_type:a}=t,f=EC(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:i,hashed_token:o,redirect_to:s,verification_type:a},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function kC(t){return t}function DC(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rc=["global","local","others"];var UC=function(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(i[o[s]]=t[o[s]]);return i};class IC{constructor({url:e="",headers:i={},fetch:o}){this.url=e,this.headers=i,this.fetch=Wy(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i=Rc[0]){if(Rc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rc.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,i={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ni})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:i}=e,o=UC(e,["options"]),s=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(s.new_email=o==null?void 0:o.newEmail,delete s.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:NC,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(he(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ni})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,o,s,a,f,m,g;try{const h={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:kC});if(y.error)throw y.error;const T=await y.json(),S=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(E.split(";")[1].split("=")[1]);h[`${M}Page`]=b}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},T),h),error:null}}catch(h){if(he(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){bo(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ni})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){bo(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:ni})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,i=!1){bo(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:ni})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){bo(e.userId);try{const{data:i,error:o}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:i,error:o}}catch(i){if(he(i))return{data:null,error:i};throw i}}async _deleteFactor(e){bo(e.userId),bo(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}}function tg(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}function PC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ao={debug:!!(globalThis&&jy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class LC extends Zy{}async function OC(t,e,i){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async s=>{if(s){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await i()}finally{Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new LC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ao.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}PC();const qC={url:Kx,storageKey:Xx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ng(t,e,i){return await i()}const Ro={};class ls{constructor(e){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ls.nextInstanceID,ls.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qC),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new IC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Wy(s.fetch),this.lock=s.lock||ng,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=OC:this.lock=ng,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:jy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=tg(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,i;return(i=(e=Ro[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){Ro[this.storageKey]=Object.assign(Object.assign({},Ro[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=Ro[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ro[this.storageKey]=Object.assign(Object.assign({},Ro[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=fC(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),Xt()&&this.detectSessionInUrl&&o!=="none"){const{data:s,error:a}=await this._getSessionFromURL(i,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),nC(a)){const g=(e=a.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:f,redirectType:m}=s;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return he(i)?{error:i}:{error:new Xy("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,o,s;try{const a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cn}),{data:f,error:m}=a;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,h=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:h,session:g},error:null}}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var i,o,s;try{let a;if("email"in e){const{email:y,password:T,options:S}=e;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await Eo(this.storage,this.storageKey)),a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:T,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:w,code_challenge_method:E},xform:Cn})}else if("phone"in e){const{phone:y,password:T,options:S}=e;a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:T,data:(o=S==null?void 0:S.data)!==null&&o!==void 0?o:{},channel:(s=S==null?void 0:S.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Cn})}else throw new kl("You must provide either an email or phone number and a password");const{data:f,error:m}=a;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,h=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:h,session:g},error:null}}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let i;if("email"in e){const{email:a,password:f,options:m}=e;i=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:eg})}else if("phone"in e){const{phone:a,password:f,options:m}=e;i=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:eg})}else throw new kl("You must provide either an email or phone number and a password");const{data:o,error:s}=i;return s?{data:{user:null,session:null},error:s}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Nl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,o,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;if(i==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(e){var i,o,s,a,f,m,g,h,y,T,S,w;let E,b;if("message"in e)E=e.message,b=e.signature;else{const{chain:M,wallet:L,statement:N,options:I}=e;let $;if(Xt())if(typeof L=="object")$=L;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))$=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=L}const G=new URL((i=I==null?void 0:I.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in $&&$.signIn){const Y=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),N?{statement:N}:null));let X;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")X=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)X=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)E=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),b=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${G.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(s=(o=I==null?void 0:I.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=I==null?void 0:I.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((m=I==null?void 0:I.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((g=I==null?void 0:I.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((T=(y=I==null?void 0:I.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||T===void 0)&&T.length?["Resources",...I.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const Y=await $.signMessage(new TextEncoder().encode(E),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=Y}}try{const{data:M,error:L}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:uC(b)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Cn});if(L)throw L;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new Nl}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:L})}catch(M){if(he(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(e){const i=await Ci(this.storage,`${this.storageKey}-code-verifier`),[o,s]=(i??"").split("/");try{const{data:a,error:f}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Cn});if(await ei(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Nl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:f})}catch(a){if(he(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:i,provider:o,token:s,access_token:a,nonce:f}=e,m=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:s,access_token:a,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Cn}),{data:g,error:h}=m;return h?{data:{user:null,session:null},error:h}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Nl}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:h})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,o,s,a,f;try{if("email"in e){const{email:m,options:g}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Eo(this.storage,this.storageKey));const{error:T}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:h,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in e){const{phone:m,options:g}=e,{data:h,error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:y}}throw new kl("You must provide either an email or phone number.")}catch(m){if(he(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(e){var i,o;try{let s,a;"options"in e&&(s=(i=e.options)===null||i===void 0?void 0:i.redirectTo,a=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:m}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Cn});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,h=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:h,session:g},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var i,o,s;try{let a=null,f=null;return this.flowType==="pkce"&&([a,f]=await Eo(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:f}),headers:this.headers,xform:MC})}catch(a){if(he(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:o}=e;if(o)throw o;if(!i)throw new ti;const{error:s}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(he(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:o,type:s,options:a}=e,{error:f}=await _e(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in e){const{phone:o,type:s,options:a}=e,{data:f,error:m}=await _e(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new kl("You must provide either an email or phone number and a type")}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<wc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const f=await Ci(this.userStorage,this.storageKey+"-user");f!=null&&f.user?e.user=f.user:e.user=Ac()}if(this.storage.isServer&&e.user){let f=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,h,y)=>(!f&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,h,y))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ni}):await this._useSession(async i=>{var o,s,a;const{data:f,error:m}=i;if(m)throw m;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ti}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=f.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:ni})})}catch(i){if(he(i))return tC(i)&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async o=>{const{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new ti;const f=s.session;let m=null,g=null;this.flowType==="pkce"&&e.email!=null&&([m,g]=await Eo(this.storage,this.storageKey));const{data:h,error:y}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:ni});if(y)throw y;return f.user=h.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ti;const i=Date.now()/1e3;let o=i,s=!0,a=null;const{payload:f}=bc(e.access_token);if(f.exp&&(o=f.exp,s=o<=i),s){const{session:m,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};a=m}else{const{data:m,error:g}=await this._getUser(e.access_token);if(g)throw g;a={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(he(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var o;if(!e){const{data:f,error:m}=i;if(m)throw m;e=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new ti;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!Xt())throw new Dl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Yp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yp("No code detected.");const{data:N,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:s,access_token:a,refresh_token:f,expires_in:m,expires_at:g,token_type:h}=e;if(!a||!m||!f||!h)throw new Dl("No session defined in URL");const y=Math.round(Date.now()/1e3),T=parseInt(m);let S=y+T;g&&(S=parseInt(g));const w=S-y;w*1e3<=No&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${T}s`);const E=S-T;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,S,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,S,y);const{data:b,error:M}=await this._getUser(a);if(M)throw M;const L={provider_token:o,provider_refresh_token:s,access_token:a,expires_in:T,expires_at:S,refresh_token:f,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:e.type},error:null}}catch(o){if(he(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:s,error:a}=i;if(a)return{error:a};const f=(o=s.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:m}=await this.admin.signOut(f,e);if(m&&!(eC(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return e!=="others"&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=dC(),o={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async i=>{var o,s;try{const{data:{session:a},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,i={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=await Eo(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(a){if(he(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:o,error:s}=await this._useSession(async a=>{var f,m,g,h,y;const{data:T,error:S}=a;if(S)throw S;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(f=e.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(h=T.session)===null||h===void 0?void 0:h.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return Xt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:e.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(he(o))return{data:{provider:e.provider,url:null},error:o};throw o}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var o,s;const{data:a,error:f}=i;if(f)throw f;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await pC(async s=>(s>0&&await mC(200*Math.pow(2,s-1)),this._debug(i,"refreshing attempt",s),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cn})),(s,a)=>{const f=200*Math.pow(2,s);return a&&Ec(a)&&Date.now()+f-o<No})}catch(o){if(this._debug(i,"error",o),he(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",o),Xt()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const s=await Ci(this.storage,this.storageKey);if(s&&this.userStorage){let f=await Ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:s.user},await ko(this.userStorage,this.storageKey+"-user",f)),s.user=(e=f==null?void 0:f.user)!==null&&e!==void 0?e:Ac()}else if(s&&!s.user&&!s.user){const f=await Ci(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(s.user=f.user,await ei(this.storage,this.storageKey+"-user"),await ko(this.storage,this.storageKey,s)):s.user=Ac()}if(this._debug(o,"session from storage",s),!this._isValidSession(s)){this._debug(o,"session is not valid"),s!==null&&await this._removeSession();return}const a=((i=s.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<wc;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${wc}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:f}=await this._callRefreshToken(s.refresh_token);f&&(console.error(f),Ec(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(s.access_token);!m&&(f!=null&&f.user)?(s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(o,"error",s),console.error(s);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var i,o;if(!e)throw new ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ql;const{data:a,error:f}=await this._refreshAccessToken(e);if(f)throw f;if(!a.session)throw new ti;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const m={session:a.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(a){if(this._debug(s,"error",a),he(a)){const f={session:null,error:a};return Ec(a)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,i,o=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:i});const a=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,i)}catch(g){a.push(g)}});if(await Promise.all(f),a.length>0){for(let m=0;m<a.length;m+=1)console.error(a[m]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await ko(this.userStorage,this.storageKey+"-user",{user:i.user});const s=Object.assign({},i);delete s.user;const a=Wp(s);await ko(this.storage,this.storageKey,a)}else{const s=Wp(i);await ko(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ei(this.storage,this.storageKey),await ei(this.storage,this.storageKey+"-code-verifier"),await ei(this.storage,this.storageKey+"-user"),this.userStorage&&await ei(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),No);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((o.expires_at*1e3-e)/No);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${No}ms, refresh threshold is ${zc} ticks`),s<=zc&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,o){const s=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&s.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&s.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[a,f]=await Eo(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(f)}`});s.push(m.toString())}if(o!=null&&o.queryParams){const a=new URLSearchParams(o.queryParams);s.push(a.toString())}return o!=null&&o.skipBrowserRedirect&&s.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var o;const{data:s,error:a}=i;return a?{data:null,error:a}:await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var o,s;const{data:a,error:f}=i;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:h}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((s=g==null?void 0:g.totp)===null||s===void 0)&&s.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:s,error:a}=i;if(a)return{data:null,error:a};const{data:f,error:m}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(i){if(he(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:s,error:a}=i;return a?{data:null,error:a}:await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(he(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:o}=await this._challenge({factorId:e.factorId});return o?{data:null,error:o}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=(e==null?void 0:e.factors)||[],s=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),a=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,o;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=bc(s.access_token);let m=null;f.aal&&(m=f.aal);let g=m;((o=(i=s.user.factors)===null||i===void 0?void 0:i.filter(T=>T.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=f.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,i={keys:[]}){let o=i.keys.find(m=>m.kid===e);if(o)return o;const s=Date.now();if(o=this.jwks.keys.find(m=>m.kid===e),o&&this.jwks_cached_at+Wx>s)return o;const{data:a,error:f}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(m=>m.kid===e),!o)?null:o}async getClaims(e,i={}){try{let o=e;if(!o){const{data:w,error:E}=await this.getSession();if(E||!w.session)return{data:null,error:E};o=w.session.access_token}const{header:s,payload:a,signature:f,raw:{header:m,payload:g}}=bc(o);i!=null&&i.allowExpired||xC(a.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!h){const{error:w}=await this.getUser(o);if(w)throw w;return{data:{claims:a,header:s,signature:f},error:null}}const y=CC(s.alg),T=await crypto.subtle.importKey("jwk",h,y,!0,["verify"]);if(!await crypto.subtle.verify(y,T,f,aC(`${m}.${g}`)))throw new Yc("Invalid JWT signature");return{data:{claims:a,header:s,signature:f},error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}}}ls.nextInstanceID=0;const VC=ls;class BC extends VC{constructor(e){super(e)}}var GC=function(t,e,i,o){function s(a){return a instanceof i?a:new i(function(f){f(a)})}return new(i||(i=Promise))(function(a,f){function m(y){try{h(o.next(y))}catch(T){f(T)}}function g(y){try{h(o.throw(y))}catch(T){f(T)}}function h(y){y.done?a(y.value):s(y.value).then(m,g)}h((o=o.apply(t,e||[])).next())})};class HC{constructor(e,i,o){var s,a,f;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const m=Jx(e),g=new URL(m);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const h=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:qx,realtime:Bx,auth:Object.assign(Object.assign({},Vx),{storageKey:h}),global:Ox},T=Yx(o??{},y);this.storageKey=(s=T.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=T.global.headers)!==null&&a!==void 0?a:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(S,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=T.auth)!==null&&f!==void 0?f:{},this.headers,T.global.fetch),this.fetch=zx(i,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.rest=new ox(new URL("rest/v1",g).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new Ix(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new J_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},o={}){return this.rest.rpc(e,i,o)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return GC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:o,storage:s,storageKey:a,flowType:f,lock:m,debug:g},h,y){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BC({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),h),storageKey:a,autoRefreshToken:e,persistSession:i,detectSessionInUrl:o,storage:s,flowType:f,lock:m,debug:g,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new _x(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,i,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FC=(t,e,i)=>new HC(t,e,i);function zC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $C="https://lqcphqhczaknmalnrnli.supabase.co",JC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxY3BocWhjemFrbm1hbG5ybmxpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwNDg5MTksImV4cCI6MjA3MDYyNDkxOX0.KSzR2xgR7ZhTQQI_zoVDRRuIc7VN5nvBlVZgY3Pt3sQ",$e=FC($C,JC),ev=R.createContext(void 0),YC=({children:t})=>{const[e,i]=R.useState(null),[o,s]=R.useState(null),[a,f]=R.useState(null),[m,g]=R.useState(!0);R.useEffect(()=>{const{data:{subscription:E}}=$e.auth.onAuthStateChange((b,M)=>{s(M),i((M==null?void 0:M.user)??null),g(!1)});return()=>{E.unsubscribe()}},[]),R.useEffect(()=>{e!=null&&e.id?(g(!0),$e.from("profiles").select("gemini_api_key, openrouter_api_key, primary_provider").eq("id",e.id).single().then(({data:E,error:b})=>{b&&b.code!=="PGRST116"&&console.error("Error fetching profile:",JSON.stringify(b,null,2)),f(E),g(!1)})):f(null)},[e==null?void 0:e.id]);const w={user:e,session:o,profile:a,loading:m,login:async(E,b)=>{const{error:M}=await $e.auth.signInWithPassword({email:E,password:b});if(M)throw M},signUp:async(E,b)=>{const M=await $e.auth.signUp({email:E,password:b});if(M.error)throw M.error;return M},logout:async()=>{const{error:E}=await $e.auth.signOut();if(E)throw E},updateProfile:async E=>{if(!(e!=null&&e.id))throw new Error("User not logged in.");g(!0);const{error:b}=await $e.from("profiles").upsert({id:e.id,...E});if(b)throw g(!1),b;f(M=>({...M,...E})),g(!1)}};return _.jsx(ev.Provider,{value:w,children:t})},sn=()=>{const t=R.useContext(ev);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},KC=({onSettingsClick:t})=>{const{theme:e,toggleTheme:i}=B_(),{logout:o}=sn(),s="flex items-center gap-2 px-3 py-1.5 rounded-md text-sm text-brand-text-secondary hover:text-brand-text hover:bg-brand-surface transition-colors",a="bg-brand-primary text-brand-text-inverse",f=async()=>{try{await o()}catch(m){console.error("Error logging out:",m)}};return _.jsx("header",{className:"bg-brand-bg/80 backdrop-blur-sm border-b border-brand-surface px-4 py-2 sticky top-0 z-50",children:_.jsxs("nav",{className:"flex justify-between items-center",children:[_.jsxs(es,{to:"/",className:"flex items-center gap-3 text-xl font-bold text-brand-text",children:[_.jsx(ce,{name:"book",className:"text-brand-primary w-6 h-6"}),_.jsx("span",{children:"Script Assistant"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(es,{to:"/",className:({isActive:m})=>`${s} ${m?a:""}`,children:[_.jsx(ce,{name:"dashboard",className:"w-4 h-4"}),"Dashboard"]}),_.jsxs(es,{to:"/edit",className:({isActive:m})=>`${s} ${m?a:""}`,children:[_.jsx(ce,{name:"edit",className:"w-4 h-4"}),"Editor"]}),_.jsxs(es,{to:"/tutorial",className:({isActive:m})=>`${s} ${m?a:""}`,children:[_.jsx(ce,{name:"compass",className:"w-4 h-4"}),"Tutorial"]}),_.jsx("button",{onClick:i,className:`${s}`,"aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,children:_.jsx(ce,{name:e==="light"?"moon":"sun",className:"w-4 h-4"})}),_.jsx("button",{onClick:t,className:`${s}`,"aria-label":"Settings",children:_.jsx(ce,{name:"settings",className:"w-4 h-4"})}),_.jsx("button",{onClick:f,className:s,children:"Logout"})]})]})})},tv=R.createContext(void 0),XC=({children:t})=>{const[e,i]=R.useState([]),[o,s]=R.useState(!0),{user:a,loading:f}=sn(),m=R.useCallback(async()=>{if(!(a!=null&&a.id))return;s(!0);const{data:S,error:w}=await $e.from("scripts").select("id, created_at, title, ai_title, summary, script, timeline, split_script, folder_id, mode, idea_prompt, generated_outline, script_prompt, original_script").eq("user_id",a.id).order("created_at",{ascending:!1});if(w)console.error("Error fetching scripts:",JSON.stringify(w,null,2)),i([]);else{const E=(S||[]).map(b=>({id:b.id,createdAt:new Date(b.created_at).toLocaleString("en-US"),title:b.title,aiTitle:b.ai_title??void 0,summary:b.summary,script:b.script,timeline:b.timeline??[],splitScript:b.split_script??[],folderId:b.folder_id??null,mode:b.mode??void 0,ideaPrompt:b.idea_prompt??void 0,generatedOutline:b.generated_outline??void 0,scriptPrompt:b.script_prompt??void 0,originalScript:b.original_script??void 0}));i(E)}s(!1)},[a==null?void 0:a.id]);R.useEffect(()=>{a!=null&&a.id?m():f||(i([]),s(!1))},[a==null?void 0:a.id,f,m]);const g=R.useCallback(async S=>{if(!(a!=null&&a.id))throw new Error("User not authenticated");const w={user_id:a.id,title:S.title??"Untitled Script",ai_title:S.aiTitle??null,summary:S.summary??"",script:S.script??"",timeline:S.timeline??null,split_script:S.splitScript??null,folder_id:S.folderId??null,mode:S.mode??null,idea_prompt:S.ideaPrompt??null,generated_outline:S.generatedOutline??null,script_prompt:S.scriptPrompt??null,original_script:S.originalScript??null},{data:E,error:b}=await $e.from("scripts").insert(w).select("id, created_at, title, ai_title, summary, script, timeline, split_script, folder_id, mode, idea_prompt, generated_outline, script_prompt, original_script").single();if(b)throw b;if(!E)throw new Error("Failed to create script");const M={id:E.id,createdAt:new Date(E.created_at).toLocaleString("en-US"),title:E.title,aiTitle:E.ai_title??void 0,summary:E.summary,script:E.script,timeline:E.timeline??[],splitScript:E.split_script??[],folderId:E.folder_id??null,mode:E.mode??void 0,ideaPrompt:E.idea_prompt??void 0,generatedOutline:E.generated_outline??void 0,scriptPrompt:E.script_prompt??void 0,originalScript:E.original_script??void 0};return i(L=>[M,...L]),M},[a==null?void 0:a.id]),h=R.useCallback(async(S,w)=>{if(!(a!=null&&a.id))throw new Error("User not authenticated");const E={title:w.title,ai_title:w.aiTitle,summary:w.summary,script:w.script,timeline:w.timeline,split_script:w.splitScript,folder_id:w.folderId,mode:w.mode,idea_prompt:w.ideaPrompt,generated_outline:w.generatedOutline,script_prompt:w.scriptPrompt,original_script:w.originalScript},{error:b}=await $e.from("scripts").update(E).eq("id",S).eq("user_id",a.id);if(b)throw b;i(M=>M.map(L=>L.id===S?{...L,...w}:L))},[a==null?void 0:a.id]),y=R.useCallback(async S=>{if(!(a!=null&&a.id))throw new Error("User not authenticated");const{error:w}=await $e.from("scripts").delete().eq("id",S).eq("user_id",a.id);if(w)throw w;i(E=>E.filter(b=>b.id!==S))},[a==null?void 0:a.id]),T=R.useCallback(S=>e.find(w=>w.id===S),[e]);return _.jsx(tv.Provider,{value:{scripts:e,addScript:g,updateScript:h,deleteScript:y,getScriptById:T,loading:o,setLoading:s,fetchScripts:m},children:t})},fs=()=>{const t=R.useContext(tv);if(t===void 0)throw new Error("useScripts must be used within a ScriptsProvider");return t},nv=R.createContext(void 0),QC=({children:t})=>{const[e,i]=R.useState([]),[o,s]=R.useState(!0),{user:a,loading:f}=sn(),m=R.useCallback(async()=>{if(!(a!=null&&a.id))return;s(!0);const{data:T,error:S}=await $e.from("folders").select("id, created_at, user_id, name").eq("user_id",a.id).order("name",{ascending:!0});S?(console.error("Error fetching folders:",JSON.stringify(S,null,2)),i([])):i(T||[]),s(!1)},[a==null?void 0:a.id]);R.useEffect(()=>{a!=null&&a.id?m():f||(i([]),s(!1))},[a==null?void 0:a.id,f,m]);const g=R.useCallback(async T=>{if(!(a!=null&&a.id))throw new Error("User not authenticated");const{data:S,error:w}=await $e.from("folders").insert({name:T,user_id:a.id}).select("id, created_at, user_id, name").single();if(w)throw w;if(!S)throw new Error("Could not create folder.");return i(E=>[...E,S].sort((b,M)=>b.name.localeCompare(M.name))),S},[a==null?void 0:a.id]),h=R.useCallback(async(T,S)=>{if(!(a!=null&&a.id))throw new Error("User not authenticated");const{error:w}=await $e.from("folders").update({name:S}).eq("id",T).eq("user_id",a.id);if(w)throw w;i(E=>E.map(b=>b.id===T?{...b,name:S}:b).sort((b,M)=>b.name.localeCompare(M.name)))},[a==null?void 0:a.id]),y=R.useCallback(async T=>{if(!(a!=null&&a.id))throw new Error("User not authenticated");const{error:S}=await $e.from("scripts").delete().eq("user_id",a.id).eq("folder_id",T);if(S)throw console.error("Error deleting scripts in folder:",S),S;const{error:w}=await $e.from("folders").delete().eq("id",T).eq("user_id",a.id);if(w)throw console.error("Error deleting folder:",w),w;i(E=>E.filter(b=>b.id!==T))},[a==null?void 0:a.id]);return _.jsx(nv.Provider,{value:{folders:e,addFolder:g,updateFolder:h,deleteFolder:y,loading:o},children:t})},jl=()=>{const t=R.useContext(nv);if(t===void 0)throw new Error("useFolders must be used within a FoldersProvider");return t},iv=R.createContext(void 0),jC=({children:t})=>{const[e,i]=R.useState([]),o=R.useCallback(a=>{i(f=>f.filter(m=>m.id!==a))},[]),s=R.useCallback(a=>{const f=new Date().toISOString()+Math.random();i(m=>[...m,{id:f,message:a}])},[]);return _.jsx(iv.Provider,{value:{toasts:e,showToast:s,removeToast:o},children:t})},ln=()=>{const t=R.useContext(iv);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t},ov=({isOpen:t,onClose:e,onConfirm:i,title:o,message:s,confirmText:a="Confirm"})=>{if(!t)return null;const f=m=>{m.key==="Escape"&&e()};return _.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",onClick:e,onKeyDown:f,children:_.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-2xl p-6 w-full max-w-md m-4",onClick:m=>m.stopPropagation(),children:[_.jsxs("div",{className:"flex items-start",children:[_.jsx("div",{className:"mr-4 flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50 sm:h-10 sm:w-10",children:_.jsx(ce,{name:"alert-triangle",className:"h-6 w-6 text-red-600 dark:text-red-400","aria-hidden":"true"})}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("h2",{className:"text-xl font-bold text-brand-text",id:"modal-title",children:o}),_.jsx("div",{className:"mt-2",children:_.jsx("p",{className:"text-sm text-brand-text-secondary",children:s})})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[_.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium rounded-md text-brand-text bg-brand-bg hover:bg-opacity-80 transition-colors",children:"Cancel"}),_.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a})]})]})})},WC=({isOpen:t,onClose:e,script:i})=>{const{folders:o}=jl(),{updateScript:s}=fs(),{showToast:a}=ln(),f=async m=>{try{await s(i.id,{folderId:m}),a("Script moved successfully."),e()}catch(g){a("Failed to move script."),console.error(g)}};return t?_.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",onClick:e,children:_.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-2xl p-6 w-full max-w-md m-4",onClick:m=>m.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-xl font-bold text-brand-text",children:"Move Script"}),_.jsx("button",{onClick:e,className:"text-brand-text-secondary hover:text-brand-text p-1 rounded-full",children:_.jsx(ce,{name:"close",className:"w-6 h-6"})})]}),_.jsxs("p",{className:"text-sm text-brand-text-secondary mb-4",children:['Move "',_.jsx("span",{className:"font-semibold",children:i.title}),'" to:']}),_.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[_.jsxs("button",{onClick:()=>f(null),className:"w-full text-left p-3 rounded-md transition-colors bg-brand-bg hover:bg-brand-primary/10 flex items-center gap-3",children:[_.jsx(ce,{name:"dashboard",className:"w-5 h-5 text-brand-text-secondary"}),_.jsx("span",{children:"Dashboard (Root)"})]}),o.map(m=>_.jsxs("button",{onClick:()=>f(m.id),className:"w-full text-left p-3 rounded-md transition-colors bg-brand-bg hover:bg-brand-primary/10 flex items-center gap-3",children:[_.jsx(ce,{name:"folder",className:"w-5 h-5 text-brand-primary"}),_.jsx("span",{className:"truncate",children:m.name})]},m.id))]})]})}):null},ZC=({script:t})=>{const{updateScript:e,deleteScript:i}=fs(),{showToast:o}=ln(),[s,a]=R.useState(!1),[f,m]=R.useState(t.title),[g,h]=R.useState(!1),[y,T]=R.useState(!1),S=async N=>{if(N.preventDefault(),N.stopPropagation(),s)if(f.trim()&&f.trim()!==t.title)try{await e(t.id,{title:f.trim()}),o("Title updated.")}catch{o("Failed to update title."),m(t.title)}else m(t.title);a(!s)},w=N=>{N.preventDefault(),N.stopPropagation(),h(!0)},E=N=>{N.preventDefault(),N.stopPropagation(),T(!0)},b=async()=>{try{await i(t.id),o(`"${t.title}" deleted.`),h(!1)}catch(N){o("Failed to delete script."),console.error(N)}},M=N=>{m(N.target.value)},L=N=>{N.key==="Enter"?S(N):N.key==="Escape"&&(m(t.title),a(!1))};return _.jsxs(_.Fragment,{children:[_.jsx(Xl,{to:`/edit/${t.id}`,className:"block group",children:_.jsxs("div",{className:"bg-brand-surface rounded-lg p-3 shadow-lg hover:shadow-brand-primary/10 hover:-translate-y-1 transition-all duration-300 flex flex-col justify-between h-full",children:[_.jsxs("div",{children:[s?_.jsx("input",{type:"text",value:f,onChange:M,onKeyDown:L,onBlur:N=>s&&S(N),className:"w-full bg-brand-bg text-brand-text text-lg font-bold p-2 rounded-md border border-brand-primary focus:outline-none",autoFocus:!0,onClick:N=>{N.preventDefault(),N.stopPropagation()}}):_.jsx("h3",{className:"text-lg font-bold text-brand-text mb-2 line-clamp-2 group-hover:text-brand-primary transition-colors",children:t.title}),_.jsx("p",{className:"text-brand-text-secondary my-2 line-clamp-3 text-sm",children:t.summary})]}),_.jsxs("div",{className:"text-xs text-brand-text-secondary mt-3 pt-3 border-t border-brand-surface/50 flex justify-between items-center",children:[_.jsxs("span",{children:["Created: ",t.createdAt]}),_.jsxs("div",{className:"flex items-center",children:[_.jsx("button",{onClick:E,className:"text-brand-text-secondary hover:text-brand-primary p-2 rounded-full hover:bg-brand-bg/50 transition-colors","aria-label":"Move script",children:_.jsx(ce,{name:"folder",className:"w-4 h-4"})}),_.jsx("button",{onClick:S,className:"text-brand-text-secondary hover:text-brand-primary p-2 rounded-full hover:bg-brand-bg/50 transition-colors","aria-label":s?"Save title":"Edit title",children:_.jsx(ce,{name:s?"check":"edit",className:"w-4 h-4"})}),_.jsx("button",{onClick:w,className:"text-brand-text-secondary hover:text-red-500 dark:hover:text-red-500 p-2 rounded-full hover:bg-brand-bg/50 transition-colors","aria-label":"Delete script",children:_.jsx(ce,{name:"trash",className:"w-4 h-4"})})]})]})]})}),_.jsx(ov,{isOpen:g,onClose:()=>h(!1),onConfirm:b,title:"Confirm Deletion",message:`Are you sure you want to permanently delete "${t.title}"? This action cannot be undone.`,confirmText:"Delete"}),_.jsx(WC,{isOpen:y,onClose:()=>T(!1),script:t})]})},ew=({folder:t,onClick:e,onEdit:i})=>{const{deleteFolder:o}=jl(),{fetchScripts:s}=fs(),{showToast:a}=ln(),[f,m]=R.useState(!1),g=T=>{T.stopPropagation(),m(!0)},h=async()=>{try{await o(t.id),await s(),a(`Folder "${t.name}" and all its content have been deleted.`),m(!1)}catch(T){a("Failed to delete folder."),console.error(T)}},y=T=>{T.stopPropagation(),i(t)};return _.jsxs(_.Fragment,{children:[_.jsx("div",{onClick:e,className:"block group cursor-pointer",children:_.jsxs("div",{className:"bg-brand-surface rounded-lg p-4 shadow-lg hover:shadow-brand-primary/10 hover:-translate-y-1 transition-all duration-300 flex flex-col justify-between h-full",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx(ce,{name:"folder",className:"w-10 h-10 text-brand-primary flex-shrink-0"}),_.jsx("h3",{className:"text-lg font-bold text-brand-text line-clamp-2 group-hover:text-brand-primary transition-colors flex-grow",children:t.name})]}),_.jsxs("div",{className:"text-xs text-brand-text-secondary mt-4 pt-2 border-t border-brand-surface/50 flex justify-between items-center",children:[_.jsxs("span",{children:["Created: ",new Date(t.created_at).toLocaleDateString()]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("button",{onClick:y,className:"text-brand-text-secondary hover:text-brand-primary p-2 rounded-full hover:bg-brand-bg/50 transition-colors","aria-label":"Rename folder",children:_.jsx(ce,{name:"edit",className:"w-4 h-4"})}),_.jsx("button",{onClick:g,className:"text-brand-text-secondary hover:text-red-500 dark:hover:text-red-500 p-2 rounded-full hover:bg-brand-bg/50 transition-colors","aria-label":"Delete folder",children:_.jsx(ce,{name:"trash",className:"w-4 h-4"})})]})]})]})}),_.jsx(ov,{isOpen:f,onClose:()=>m(!1),onConfirm:h,title:"Confirm Folder Deletion",message:`Are you sure you want to permanently delete the folder "${t.name}"? All scripts inside this folder will also be deleted. This action cannot be undone.`,confirmText:"Delete"})]})},tw=({isOpen:t,onClose:e,onSave:i,folderToEdit:o})=>{const[s,a]=R.useState(""),[f,m]=R.useState(!1);if(R.useEffect(()=>{t&&(a((o==null?void 0:o.name)||""),m(!1))},[t,o]),!t)return null;const g=async()=>{if(s.trim()&&!f){m(!0);try{await i(s.trim(),o==null?void 0:o.id)}catch{m(!1)}}},h=y=>{y.key==="Enter"&&g(),y.key==="Escape"&&e()};return _.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",onClick:e,children:_.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-2xl p-6 w-full max-w-md m-4",onClick:y=>y.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-xl font-bold text-brand-text",children:o?"Rename Folder":"Create New Folder"}),_.jsx("button",{onClick:e,className:"text-brand-text-secondary hover:text-brand-text p-1 rounded-full",children:_.jsx(ce,{name:"close",className:"w-6 h-6"})})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"folderName",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:"Folder Name"}),_.jsx("input",{id:"folderName",type:"text",value:s,onChange:y=>a(y.target.value),onKeyDown:h,className:"w-full bg-brand-bg text-brand-text p-2 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary",autoFocus:!0,onFocus:y=>y.target.select()})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[_.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium rounded-md text-brand-text bg-brand-bg hover:bg-opacity-80 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:g,disabled:!s.trim()||f,className:"px-4 py-2 w-36 text-sm font-medium rounded-md text-brand-text-inverse bg-brand-primary hover:bg-opacity-90 disabled:opacity-50 transition-colors flex justify-center items-center",children:f?_.jsx("div",{className:"w-5 h-5 border-2 border-dashed rounded-full animate-spin"}):o?"Save Changes":"Create Folder"})]})]})})},nw=()=>{const{scripts:t}=fs(),{folders:e,addFolder:i,updateFolder:o}=jl(),{showToast:s}=ln(),[a,f]=R.useState(""),[m,g]=R.useState(null),[h,y]=R.useState(!1),[T,S]=R.useState(null),w=R.useMemo(()=>{const N=a.toLowerCase();if(m)return t.filter(I=>I.folderId===m.id).filter(I=>I.title.toLowerCase().includes(N)||I.summary&&I.summary.toLowerCase().includes(N));{const I=e.filter(G=>G.name.toLowerCase().includes(N)),$=t.filter(G=>!G.folderId).filter(G=>G.title.toLowerCase().includes(N)||G.summary&&G.summary.toLowerCase().includes(N));return[...I,...$]}},[t,e,a,m]),E=()=>{S(null),y(!0)},b=N=>{S(N),y(!0)},M=R.useCallback(async(N,I)=>{try{I?(await o(I,N),s("Folder renamed.")):(await i(N),s("Folder created.")),y(!1)}catch($){s("Failed to save folder."),console.error($)}},[i,o,s]),L=()=>_.jsxs("div",{className:"flex items-center gap-2 text-brand-text-secondary text-sm mb-4",children:[_.jsx("button",{onClick:()=>g(null),className:"hover:text-brand-text transition-colors",children:"Dashboard"}),m&&_.jsxs(_.Fragment,{children:[_.jsx("span",{children:"/"}),_.jsx("span",{className:"font-semibold text-brand-text",children:m.name})]})]});return _.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4 mb-4",children:[_.jsx("h1",{className:"text-3xl font-bold text-brand-text flex-shrink-0",children:"Dashboard"}),_.jsxs("div",{className:"relative flex-grow max-w-lg",children:[_.jsx(ce,{name:"search",className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-text-secondary"}),_.jsx("input",{type:"text",placeholder:"Search everything...",value:a,onChange:N=>f(N.target.value),className:"w-full bg-brand-surface border border-brand-bg rounded-lg pl-10 pr-4 py-2 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:E,className:"flex items-center gap-2 bg-brand-primary/20 hover:bg-brand-primary/30 text-brand-primary font-bold py-2 px-4 rounded-lg transition-colors flex-shrink-0",children:[_.jsx(ce,{name:"folder",className:"w-5 h-5"}),"Create Folder"]}),_.jsxs(Xl,{to:"/edit",className:"flex items-center gap-2 bg-brand-primary hover:bg-brand-secondary text-brand-text-inverse font-bold py-2 px-4 rounded-lg transition-colors flex-shrink-0",children:[_.jsx(ce,{name:"edit",className:"w-5 h-5"}),"New Script"]})]})]}),L(),w.length===0?_.jsxs("div",{className:"text-center py-20 bg-brand-surface rounded-lg",children:[_.jsx(ce,{name:a?"search":"book",className:"mx-auto w-16 h-16 text-brand-text-secondary mb-4"}),_.jsx("h2",{className:"text-2xl font-semibold text-brand-text",children:a?"No Results Found":m?"This Folder is Empty":"No Scripts Yet"}),_.jsx("p",{className:"text-brand-text-secondary mt-2",children:a?`Your search for "${a}" did not match any items.`:m?"Add a script to this folder.":"Get started by creating a new script or folder."})]}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:w.map(N=>"summary"in N?_.jsx(ZC,{script:N},N.id):_.jsx(ew,{folder:N,onClick:()=>g(N),onEdit:()=>b(N)},N.id))}),_.jsx(tw,{isOpen:h,onClose:()=>y(!1),onSave:M,folderToEdit:T})]})},rv=R.createContext(void 0),iw=({children:t})=>{const[e,i]=R.useState([]),{user:o,loading:s}=sn(),a=R.useCallback(async()=>{if(!(o!=null&&o.id))return;const{data:h,error:y}=await $e.from("styles").select("id, name, prompt").eq("user_id",o.id).order("name",{ascending:!0});y?(console.error("Error fetching styles:",JSON.stringify(y,null,2)),i([])):h&&i(h||[])},[o==null?void 0:o.id]);R.useEffect(()=>{o!=null&&o.id?a():s||i([])},[o==null?void 0:o.id,s,a]);const f=R.useCallback(async h=>{if(!(o!=null&&o.id))throw new Error("User not authenticated");const{data:y,error:T}=await $e.from("styles").insert({...h,user_id:o.id}).select("id, name, prompt").single();if(T)throw T;if(!y)throw new Error("Failed to add style.");i(S=>[...S,y].sort((w,E)=>w.name.localeCompare(E.name)))},[o==null?void 0:o.id]),m=R.useCallback(async(h,y)=>{if(!(o!=null&&o.id))throw new Error("User not authenticated");const{data:T,error:S}=await $e.from("styles").update(y).eq("id",h).eq("user_id",o.id).select("id, name, prompt").single();if(S)throw S;if(!T)throw new Error("Failed to update style.");i(w=>w.map(E=>E.id===h?T:E).sort((E,b)=>E.name.localeCompare(b.name)))},[o==null?void 0:o.id]),g=R.useCallback(async h=>{if(!(o!=null&&o.id))throw new Error("User not authenticated");const{error:y}=await $e.from("styles").delete().eq("id",h).eq("user_id",o.id);if(y)throw y;i(T=>T.filter(S=>S.id!==h))},[o==null?void 0:o.id]);return _.jsx(rv.Provider,{value:{styles:e,addStyle:f,updateStyle:m,deleteStyle:g},children:t})},sv=()=>{const t=R.useContext(rv);if(t===void 0)throw new Error("useStyles must be used within a StylesProvider");return t};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ow,rw;function sw(){return{geminiUrl:ow,vertexUrl:rw}}function lw(t,e,i,o){var s,a;if(!(t!=null&&t.baseUrl)){const f=sw();return e?(s=f.vertexUrl)!==null&&s!==void 0?s:i:(a=f.geminiUrl)!==null&&a!==void 0?a:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ni{}function ne(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(o,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function c(t,e,i){for(let a=0;a<e.length-1;a++){const f=e[a];if(f.endsWith("[]")){const m=f.slice(0,-2);if(!(m in t))if(Array.isArray(i))t[m]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(t[m])){const g=t[m];if(Array.isArray(i))for(let h=0;h<g.length;h++){const y=g[h];c(y,e.slice(a+1),i[h])}else for(const h of g)c(h,e.slice(a+1),i)}return}else if(f.endsWith("[0]")){const m=f.slice(0,-3);m in t||(t[m]=[{}]);const g=t[m];c(g[0],e.slice(a+1),i);return}(!t[f]||typeof t[f]!="object")&&(t[f]={}),t=t[f]}const o=e[e.length-1],s=t[o];if(s!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===s)return;if(typeof s=="object"&&typeof i=="object"&&s!==null&&i!==null)Object.assign(s,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=i}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return;const o=e[i];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(f=>u(f,e.slice(i+1))):void 0}else return}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ig;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ig||(ig={}));var og;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(og||(og={}));var Ft;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ft||(Ft={}));var rg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(rg||(rg={}));var sg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(sg||(sg={}));var lg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(lg||(lg={}));var ag;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ag||(ag={}));var ug;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ug||(ug={}));var cg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cg||(cg={}));var dg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dg||(dg={}));var fg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(fg||(fg={}));var hg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(hg||(hg={}));var mg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(mg||(mg={}));var pg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(pg||(pg={}));var gg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(gg||(gg={}));var Fl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Fl||(Fl={}));var yg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yg||(yg={}));var Xc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Xc||(Xc={}));var vg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(vg||(vg={}));var Tg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Tg||(Tg={}));var Sg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Sg||(Sg={}));var _g;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_g||(_g={}));var xg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xg||(xg={}));var Cg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Cg||(Cg={}));var wg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(wg||(wg={}));var Eg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Eg||(Eg={}));var bg;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(bg||(bg={}));var Ag;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ag||(Ag={}));var Rg;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Rg||(Rg={}));var Mg;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Mg||(Mg={}));var Ng;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ng||(Ng={}));var kg;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(kg||(kg={}));var Dg;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Dg||(Dg={}));var Ug;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ug||(Ug={}));var Ig;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ig||(Ig={}));var Pg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Pg||(Pg={}));var Lg;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Lg||(Lg={}));var Og;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Og||(Og={}));var qg;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(qg||(qg={}));var Vg;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Vg||(Vg={}));var Bg;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Bg||(Bg={}));var Gg;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Gg||(Gg={}));var Hg;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Hg||(Hg={}));var Do;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Do||(Do={}));class Qc{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Zr{get text(){var e,i,o,s,a,f,m,g;if(((s=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const T=[];for(const S of(g=(m=(f=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&g!==void 0?g:[]){for(const[w,E]of Object.entries(S))w!=="text"&&w!=="thought"&&(E!==null||E!==void 0)&&T.push(w);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,h+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var e,i,o,s,a,f,m,g;if(((s=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const T of(g=(m=(f=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&g!==void 0?g:[]){for(const[S,w]of Object.entries(T))S!=="inlineData"&&(w!==null||w!==void 0)&&y.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,o,s,a,f,m,g;if(((s=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(m=(f=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,i,o,s,a,f,m,g,h;if(((s=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(m=(f=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,o,s,a,f,m,g,h;if(((s=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(m=(f=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class Fg{}class zg{}class aw{}class uw{}class cw{}class $g{}class Jg{}class Yg{}class dw{}class Kg{}class Xg{}class Qg{}class jg{}class fw{}class hw{}class mw{}class Wg{}class pw{get text(){var e,i,o;let s="",a=!1;const f=[];for(const m of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[g,h]of Object.entries(m))g!=="text"&&g!=="thought"&&h!==null&&f.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;a=!0,s+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,i,o;let s="";const a=[];for(const f of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[m,g]of Object.entries(f))m!=="inlineData"&&g!==null&&a.push(m);f.inlineData&&typeof f.inlineData.data=="string"&&(s+=atob(f.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class zl{_fromAPIResponse({apiResponse:e,isVertexAI:i}){const o=new zl;if(o.name=e.name,o.metadata=e.metadata,o.done=e.done,o.error=e.error,i){const s=e.response;if(s){const a=new Kg,f=s.videos;a.generatedVideos=f==null?void 0:f.map(m=>({video:{uri:m.gcsUri,videoBytes:m.bytesBase64Encoded?Kc(m.bytesBase64Encoded):void 0,mimeType:m.mimeType}})),a.raiMediaFilteredCount=s.raiMediaFilteredCount,a.raiMediaFilteredReasons=s.raiMediaFilteredReasons,o.response=a}}else{const s=e.response;if(s){const a=new Kg,f=s.generateVideoResponse,m=f==null?void 0:f.generatedSamples;a.generatedVideos=m==null?void 0:m.map(g=>{const h=g.video;return{video:{uri:h==null?void 0:h.uri,videoBytes:h!=null&&h.encodedVideo?Kc(h==null?void 0:h.encodedVideo):void 0,mimeType:g.encoding}}}),a.raiMediaFilteredCount=f==null?void 0:f.raiMediaFilteredCount,a.raiMediaFilteredReasons=f==null?void 0:f.raiMediaFilteredReasons,o.response=a}}return o}}class gw{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function lv(t,e){const i=Ne(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function av(t){return Array.isArray(t)?t.map(e=>$l(e)):[$l(t)]}function $l(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function uv(t){const e=$l(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cv(t){const e=$l(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zg(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function dv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Zg(e)):[Zg(t)]}function jc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ey(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ty(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function mt(t){if(t==null)throw new Error("ContentUnion is required");return jc(t)?t:{role:"user",parts:dv(t)}}function fv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=mt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const i=mt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>mt(i)):[mt(e)]}function zt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ey(t)||ty(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mt(t)]}const e=[],i=[],o=jc(t[0]);for(const s of t){const a=jc(s);if(a!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(ey(s)||ty(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(s)}}return o||e.push({role:"user",parts:dv(i)}),e}function yw(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(Ft).includes(i[0].toUpperCase())?i[0].toUpperCase():Ft.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(Ft).includes(o.toUpperCase())?o.toUpperCase():Ft.TYPE_UNSPECIFIED})}}function Uo(t){const e={},i=["items"],o=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&yw(t.type,e);for(const[f,m]of Object.entries(t))if(m!=null)if(f=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(Ft).includes(m.toUpperCase())?m.toUpperCase():Ft.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=Uo(m);else if(o.includes(f)){const g=[];for(const h of m){if(h.type=="null"){e.nullable=!0;continue}g.push(Uo(h))}e[f]=g}else if(s.includes(f)){const g={};for(const[h,y]of Object.entries(m))g[h]=Uo(y);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=m}return e}function _d(t){return Uo(t)}function xd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Cd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Bo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Uo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Uo(e.response));return t}function Go(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function vw(t,e,i,o=1){const s=!e.startsWith(`${i}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:s?`${i}/${e}`:e}function Mn(t,e){if(typeof e!="string")throw new Error("name must be a string");return vw(t,e,"cachedContents")}function hv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ki(t){return Kc(t)}function Tw(t){return t!=null&&typeof t=="object"&&"name"in t}function Sw(t){return t!=null&&typeof t=="object"&&"video"in t}function _w(t){return t!=null&&typeof t=="object"&&"uri"in t}function mv(t){var e;let i;if(Tw(t)&&(i=t.name),!(_w(t)&&(i=t.uri,i===void 0))&&!(Sw(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function pv(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function gv(t){for(const e of["models","tunedModels","publisherModels"])if(xw(t,e))return t[e];return[]}function xw(t,e){return t!==null&&typeof t=="object"&&e in t}function Cw(t,e={}){const i=t,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function ww(t,e={}){const i=[],o=new Set;for(const s of t){const a=s.name;if(o.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);o.add(a);const f=Cw(s,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function yv(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Ew(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ho(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function vv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bw(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function Aw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Rw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Mw(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],bw(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],Aw(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],Rw(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function Tv(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Mw(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function Nw(t){const e={},i=u(t,["anyOf"]);i!=null&&c(e,["anyOf"],i);const o=u(t,["default"]);o!=null&&c(e,["default"],o);const s=u(t,["description"]);s!=null&&c(e,["description"],s);const a=u(t,["enum"]);a!=null&&c(e,["enum"],a);const f=u(t,["example"]);f!=null&&c(e,["example"],f);const m=u(t,["format"]);m!=null&&c(e,["format"],m);const g=u(t,["items"]);g!=null&&c(e,["items"],g);const h=u(t,["maxItems"]);h!=null&&c(e,["maxItems"],h);const y=u(t,["maxLength"]);y!=null&&c(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&c(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&c(e,["maximum"],S);const w=u(t,["minItems"]);w!=null&&c(e,["minItems"],w);const E=u(t,["minLength"]);E!=null&&c(e,["minLength"],E);const b=u(t,["minProperties"]);b!=null&&c(e,["minProperties"],b);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const L=u(t,["nullable"]);L!=null&&c(e,["nullable"],L);const N=u(t,["pattern"]);N!=null&&c(e,["pattern"],N);const I=u(t,["properties"]);I!=null&&c(e,["properties"],I);const $=u(t,["propertyOrdering"]);$!=null&&c(e,["propertyOrdering"],$);const G=u(t,["required"]);G!=null&&c(e,["required"],G);const Y=u(t,["title"]);Y!=null&&c(e,["title"],Y);const X=u(t,["type"]);return X!=null&&c(e,["type"],X),e}function kw(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=u(t,["category"]);i!=null&&c(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function Dw(t){const e={},i=u(t,["behavior"]);i!=null&&c(e,["behavior"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const s=u(t,["name"]);s!=null&&c(e,["name"],s);const a=u(t,["parameters"]);a!=null&&c(e,["parameters"],a);const f=u(t,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const m=u(t,["response"]);m!=null&&c(e,["response"],m);const g=u(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function Uw(t){const e={},i=u(t,["startTime"]);i!=null&&c(e,["startTime"],i);const o=u(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function Iw(t){const e={},i=u(t,["timeRangeFilter"]);if(i!=null&&c(e,["timeRangeFilter"],Uw(i)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Pw(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function Lw(t){const e={},i=u(t,["dynamicRetrievalConfig"]);return i!=null&&c(e,["dynamicRetrievalConfig"],Pw(i)),e}function Ow(){return{}}function qw(t){const e={},i=u(t,["environment"]);return i!=null&&c(e,["environment"],i),e}function Vw(t){const e={},i=u(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>Dw(h))),c(e,["functionDeclarations"],g)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],Iw(o));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&c(e,["googleSearchRetrieval"],Lw(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],Ow());const f=u(t,["computerUse"]);f!=null&&c(e,["computerUse"],qw(f));const m=u(t,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function Bw(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function Gw(t){const e={},i=u(t,["latitude"]);i!=null&&c(e,["latitude"],i);const o=u(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function Hw(t){const e={},i=u(t,["latLng"]);i!=null&&c(e,["latLng"],Gw(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function Fw(t){const e={},i=u(t,["functionCallingConfig"]);i!=null&&c(e,["functionCallingConfig"],Bw(i));const o=u(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],Hw(o)),e}function zw(t){const e={},i=u(t,["voiceName"]);return i!=null&&c(e,["voiceName"],i),e}function Sv(t){const e={},i=u(t,["prebuiltVoiceConfig"]);return i!=null&&c(e,["prebuiltVoiceConfig"],zw(i)),e}function $w(t){const e={},i=u(t,["speaker"]);i!=null&&c(e,["speaker"],i);const o=u(t,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],Sv(o)),e}function Jw(t){const e={},i=u(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>$w(s))),c(e,["speakerVoiceConfigs"],o)}return e}function Yw(t){const e={},i=u(t,["voiceConfig"]);i!=null&&c(e,["voiceConfig"],Sv(i));const o=u(t,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],Jw(o));const s=u(t,["languageCode"]);return s!=null&&c(e,["languageCode"],s),e}function Kw(t){const e={},i=u(t,["includeThoughts"]);i!=null&&c(e,["includeThoughts"],i);const o=u(t,["thinkingBudget"]);return o!=null&&c(e,["thinkingBudget"],o),e}function Xw(t,e,i){const o={},s=u(e,["systemInstruction"]);i!==void 0&&s!=null&&c(i,["systemInstruction"],Tv(mt(s)));const a=u(e,["temperature"]);a!=null&&c(o,["temperature"],a);const f=u(e,["topP"]);f!=null&&c(o,["topP"],f);const m=u(e,["topK"]);m!=null&&c(o,["topK"],m);const g=u(e,["candidateCount"]);g!=null&&c(o,["candidateCount"],g);const h=u(e,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const y=u(e,["stopSequences"]);y!=null&&c(o,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&c(o,["logprobs"],S);const w=u(e,["presencePenalty"]);w!=null&&c(o,["presencePenalty"],w);const E=u(e,["frequencyPenalty"]);E!=null&&c(o,["frequencyPenalty"],E);const b=u(e,["seed"]);b!=null&&c(o,["seed"],b);const M=u(e,["responseMimeType"]);M!=null&&c(o,["responseMimeType"],M);const L=u(e,["responseSchema"]);L!=null&&c(o,["responseSchema"],Nw(_d(L)));const N=u(e,["responseJsonSchema"]);if(N!=null&&c(o,["responseJsonSchema"],N),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=u(e,["safetySettings"]);if(i!==void 0&&I!=null){let de=I;Array.isArray(de)&&(de=de.map(Ae=>kw(Ae))),c(i,["safetySettings"],de)}const $=u(e,["tools"]);if(i!==void 0&&$!=null){let de=Go($);Array.isArray(de)&&(de=de.map(Ae=>Vw(Bo(Ae)))),c(i,["tools"],de)}const G=u(e,["toolConfig"]);if(i!==void 0&&G!=null&&c(i,["toolConfig"],Fw(G)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=u(e,["cachedContent"]);i!==void 0&&Y!=null&&c(i,["cachedContent"],Mn(t,Y));const X=u(e,["responseModalities"]);X!=null&&c(o,["responseModalities"],X);const ge=u(e,["mediaResolution"]);ge!=null&&c(o,["mediaResolution"],ge);const Z=u(e,["speechConfig"]);if(Z!=null&&c(o,["speechConfig"],Yw(xd(Z))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=u(e,["thinkingConfig"]);return fe!=null&&c(o,["thinkingConfig"],Kw(fe)),o}function Qw(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["request","model"],Ne(t,o));const s=u(e,["contents"]);if(s!=null){let f=zt(s);Array.isArray(f)&&(f=f.map(m=>Tv(m))),c(i,["request","contents"],f)}const a=u(e,["config"]);return a!=null&&c(i,["request","generationConfig"],Xw(t,a,i)),i}function jw(t,e){const i={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=u(e,["fileName"]);o!=null&&c(i,["fileName"],o);const s=u(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>Qw(t,f))),c(i,["requests","requests"],a)}return i}function Ww(t,e){const i={},o=u(t,["displayName"]);if(e!==void 0&&o!=null&&c(e,["batch","displayName"],o),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function Zw(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["src"]);s!=null&&c(i,["batch","inputConfig"],jw(t,yv(t,s)));const a=u(e,["config"]);return a!=null&&c(i,["config"],Ww(a,i)),i}function eE(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Ho(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function tE(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Ho(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function nE(t,e){const i={},o=u(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const s=u(t,["pageToken"]);if(e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function iE(t){const e={},i=u(t,["config"]);return i!=null&&c(e,["config"],nE(i,e)),e}function oE(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Ho(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function rE(t){const e={},i=u(t,["format"]);i!=null&&c(e,["instancesFormat"],i);const o=u(t,["gcsUri"]);o!=null&&c(e,["gcsSource","uris"],o);const s=u(t,["bigqueryUri"]);if(s!=null&&c(e,["bigquerySource","inputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sE(t){const e={},i=u(t,["format"]);i!=null&&c(e,["predictionsFormat"],i);const o=u(t,["gcsUri"]);o!=null&&c(e,["gcsDestination","outputUriPrefix"],o);const s=u(t,["bigqueryUri"]);if(s!=null&&c(e,["bigqueryDestination","outputUri"],s),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function lE(t,e){const i={},o=u(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const s=u(t,["dest"]);return e!==void 0&&s!=null&&c(e,["outputConfig"],sE(Ew(s))),i}function aE(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["model"],Ne(t,o));const s=u(e,["src"]);s!=null&&c(i,["inputConfig"],rE(yv(t,s)));const a=u(e,["config"]);return a!=null&&c(i,["config"],lE(a,i)),i}function uE(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Ho(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function cE(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Ho(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function dE(t,e){const i={},o=u(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&c(e,["_query","pageToken"],s);const a=u(t,["filter"]);return e!==void 0&&a!=null&&c(e,["_query","filter"],a),i}function fE(t){const e={},i=u(t,["config"]);return i!=null&&c(e,["config"],dE(i,e)),e}function hE(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Ho(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function mE(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function pE(t){const e={},i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function gE(t){const e={},i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function yE(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],mE(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],pE(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],gE(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function vE(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>yE(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function TE(t){const e={},i=u(t,["citationSources"]);return i!=null&&c(e,["citations"],i),e}function SE(t){const e={},i=u(t,["retrievedUrl"]);i!=null&&c(e,["retrievedUrl"],i);const o=u(t,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function _E(t){const e={},i=u(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>SE(s))),c(e,["urlMetadata"],o)}return e}function xE(t){const e={},i=u(t,["content"]);i!=null&&c(e,["content"],vE(i));const o=u(t,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],TE(o));const s=u(t,["tokenCount"]);s!=null&&c(e,["tokenCount"],s);const a=u(t,["finishReason"]);a!=null&&c(e,["finishReason"],a);const f=u(t,["urlContextMetadata"]);f!=null&&c(e,["urlContextMetadata"],_E(f));const m=u(t,["avgLogprobs"]);m!=null&&c(e,["avgLogprobs"],m);const g=u(t,["groundingMetadata"]);g!=null&&c(e,["groundingMetadata"],g);const h=u(t,["index"]);h!=null&&c(e,["index"],h);const y=u(t,["logprobsResult"]);y!=null&&c(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&c(e,["safetyRatings"],T),e}function CE(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(h=>xE(h))),c(e,["candidates"],g)}const s=u(t,["modelVersion"]);s!=null&&c(e,["modelVersion"],s);const a=u(t,["promptFeedback"]);a!=null&&c(e,["promptFeedback"],a);const f=u(t,["responseId"]);f!=null&&c(e,["responseId"],f);const m=u(t,["usageMetadata"]);return m!=null&&c(e,["usageMetadata"],m),e}function _v(t){const e={},i=u(t,["details"]);i!=null&&c(e,["details"],i);const o=u(t,["code"]);o!=null&&c(e,["code"],o);const s=u(t,["message"]);return s!=null&&c(e,["message"],s),e}function wE(t){const e={},i=u(t,["response"]);i!=null&&c(e,["response"],CE(i));const o=u(t,["error"]);return o!=null&&c(e,["error"],_v(o)),e}function EE(t){const e={},i=u(t,["responsesFile"]);i!=null&&c(e,["fileName"],i);const o=u(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>wE(a))),c(e,["inlinedResponses"],s)}return e}function Wc(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["metadata","displayName"]);o!=null&&c(e,["displayName"],o);const s=u(t,["metadata","state"]);s!=null&&c(e,["state"],vv(s));const a=u(t,["metadata","createTime"]);a!=null&&c(e,["createTime"],a);const f=u(t,["metadata","endTime"]);f!=null&&c(e,["endTime"],f);const m=u(t,["metadata","updateTime"]);m!=null&&c(e,["updateTime"],m);const g=u(t,["metadata","model"]);g!=null&&c(e,["model"],g);const h=u(t,["metadata","output"]);return h!=null&&c(e,["dest"],EE(h)),e}function bE(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>Wc(f))),c(e,["batchJobs"],a)}return e}function AE(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const s=u(t,["done"]);s!=null&&c(e,["done"],s);const a=u(t,["error"]);return a!=null&&c(e,["error"],_v(a)),e}function xv(t){const e={},i=u(t,["details"]);i!=null&&c(e,["details"],i);const o=u(t,["code"]);o!=null&&c(e,["code"],o);const s=u(t,["message"]);return s!=null&&c(e,["message"],s),e}function RE(t){const e={},i=u(t,["instancesFormat"]);i!=null&&c(e,["format"],i);const o=u(t,["gcsSource","uris"]);o!=null&&c(e,["gcsUri"],o);const s=u(t,["bigquerySource","inputUri"]);return s!=null&&c(e,["bigqueryUri"],s),e}function ME(t){const e={},i=u(t,["predictionsFormat"]);i!=null&&c(e,["format"],i);const o=u(t,["gcsDestination","outputUriPrefix"]);o!=null&&c(e,["gcsUri"],o);const s=u(t,["bigqueryDestination","outputUri"]);return s!=null&&c(e,["bigqueryUri"],s),e}function Zc(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["displayName"]);o!=null&&c(e,["displayName"],o);const s=u(t,["state"]);s!=null&&c(e,["state"],vv(s));const a=u(t,["error"]);a!=null&&c(e,["error"],xv(a));const f=u(t,["createTime"]);f!=null&&c(e,["createTime"],f);const m=u(t,["startTime"]);m!=null&&c(e,["startTime"],m);const g=u(t,["endTime"]);g!=null&&c(e,["endTime"],g);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const y=u(t,["model"]);y!=null&&c(e,["model"],y);const T=u(t,["inputConfig"]);T!=null&&c(e,["src"],RE(T));const S=u(t,["outputConfig"]);return S!=null&&c(e,["dest"],ME(S)),e}function NE(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>Zc(f))),c(e,["batchJobs"],a)}return e}function kE(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const s=u(t,["done"]);s!=null&&c(e,["done"],s);const a=u(t,["error"]);return a!=null&&c(e,["error"],xv(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ai;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ai||(Ai={}));class hs{constructor(e,i,o,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,s)}init(e,i,o){var s,a;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!o||Object.keys(o).length===0?f={config:{}}:typeof o=="object"?f=Object.assign({},o):f=o,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(a=(s=f.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DE extends Ni{constructor(e){super(),this.apiClient=e,this.create=async i=>{if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(i.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(i.config=i.config||{},i.config.displayName===void 0&&(i.config.displayName="genaiBatchJob_${timestampStr}"),i.config.dest===void 0&&typeof i.src=="string")if(i.src.startsWith("gs://")&&i.src.endsWith(".jsonl"))i.config.dest=`${i.src.slice(0,-6)}/dest`;else if(i.src.startsWith("bq://"))i.config.dest=`${i.src}_dest_${s}`;else throw new Error("Unsupported source:"+i.src)}return await this.createInternal(i)},this.list=async(i={})=>new hs(Ai.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i)}async createInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=aE(this.apiClient,e);return m=ne("batchPredictionJobs",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(y=>Zc(y))}else{const h=Zw(this.apiClient,e);return m=ne("{model}:batchGenerateContent",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(y=>Wc(y))}}async get(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=uE(this.apiClient,e);return m=ne("batchPredictionJobs/{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(y=>Zc(y))}else{const h=eE(this.apiClient,e);return m=ne("batches/{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(y=>Wc(y))}}async cancel(e){var i,o,s,a;let f="",m={};if(this.apiClient.isVertexAI()){const g=cE(this.apiClient,e);f=ne("batchPredictionJobs/{name}:cancel",g._url),m=g._query,delete g.config,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=tE(this.apiClient,e);f=ne("batches/{name}:cancel",g._url),m=g._query,delete g.config,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=fE(e);return m=ne("batchPredictionJobs",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=NE(y),S=new Wg;return Object.assign(S,T),S})}else{const h=iE(e);return m=ne("batches",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=bE(y),S=new Wg;return Object.assign(S,T),S})}}async delete(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=hE(this.apiClient,e);return m=ne("batchPredictionJobs/{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>kE(y))}else{const h=oE(this.apiClient,e);return m=ne("batches/{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>AE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UE(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function IE(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function PE(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function LE(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],UE(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],IE(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],PE(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function ny(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>LE(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function OE(t){const e={},i=u(t,["behavior"]);i!=null&&c(e,["behavior"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const s=u(t,["name"]);s!=null&&c(e,["name"],s);const a=u(t,["parameters"]);a!=null&&c(e,["parameters"],a);const f=u(t,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const m=u(t,["response"]);m!=null&&c(e,["response"],m);const g=u(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function qE(t){const e={},i=u(t,["startTime"]);i!=null&&c(e,["startTime"],i);const o=u(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function VE(t){const e={},i=u(t,["timeRangeFilter"]);if(i!=null&&c(e,["timeRangeFilter"],qE(i)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function BE(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function GE(t){const e={},i=u(t,["dynamicRetrievalConfig"]);return i!=null&&c(e,["dynamicRetrievalConfig"],BE(i)),e}function HE(){return{}}function FE(t){const e={},i=u(t,["environment"]);return i!=null&&c(e,["environment"],i),e}function zE(t){const e={},i=u(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>OE(h))),c(e,["functionDeclarations"],g)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],VE(o));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&c(e,["googleSearchRetrieval"],GE(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],HE());const f=u(t,["computerUse"]);f!=null&&c(e,["computerUse"],FE(f));const m=u(t,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function $E(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function JE(t){const e={},i=u(t,["latitude"]);i!=null&&c(e,["latitude"],i);const o=u(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function YE(t){const e={},i=u(t,["latLng"]);i!=null&&c(e,["latLng"],JE(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function KE(t){const e={},i=u(t,["functionCallingConfig"]);i!=null&&c(e,["functionCallingConfig"],$E(i));const o=u(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],YE(o)),e}function XE(t,e){const i={},o=u(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&c(e,["expireTime"],s);const a=u(t,["displayName"]);e!==void 0&&a!=null&&c(e,["displayName"],a);const f=u(t,["contents"]);if(e!==void 0&&f!=null){let y=zt(f);Array.isArray(y)&&(y=y.map(T=>ny(T))),c(e,["contents"],y)}const m=u(t,["systemInstruction"]);e!==void 0&&m!=null&&c(e,["systemInstruction"],ny(mt(m)));const g=u(t,["tools"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(T=>zE(T))),c(e,["tools"],y)}const h=u(t,["toolConfig"]);if(e!==void 0&&h!=null&&c(e,["toolConfig"],KE(h)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function QE(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["model"],lv(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],XE(s,i)),i}function jE(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Mn(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function WE(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Mn(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function ZE(t,e){const i={},o=u(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&c(e,["expireTime"],s),i}function eb(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Mn(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],ZE(s,i)),i}function tb(t,e){const i={},o=u(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),i}function nb(t){const e={},i=u(t,["config"]);return i!=null&&c(e,["config"],tb(i,e)),e}function ib(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function ob(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["data"]);o!=null&&c(e,["data"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function rb(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function sb(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],ib(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],ob(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],rb(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function iy(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>sb(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function lb(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const s=u(t,["parameters"]);s!=null&&c(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&c(e,["parametersJsonSchema"],a);const f=u(t,["response"]);f!=null&&c(e,["response"],f);const m=u(t,["responseJsonSchema"]);return m!=null&&c(e,["responseJsonSchema"],m),e}function ab(t){const e={},i=u(t,["startTime"]);i!=null&&c(e,["startTime"],i);const o=u(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function ub(t){const e={},i=u(t,["timeRangeFilter"]);i!=null&&c(e,["timeRangeFilter"],ab(i));const o=u(t,["excludeDomains"]);return o!=null&&c(e,["excludeDomains"],o),e}function cb(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function db(t){const e={},i=u(t,["dynamicRetrievalConfig"]);return i!=null&&c(e,["dynamicRetrievalConfig"],cb(i)),e}function fb(t){const e={},i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function hb(t){const e={},i=u(t,["apiKeyString"]);return i!=null&&c(e,["apiKeyString"],i),e}function mb(t){const e={},i=u(t,["apiKeyConfig"]);i!=null&&c(e,["apiKeyConfig"],hb(i));const o=u(t,["authType"]);o!=null&&c(e,["authType"],o);const s=u(t,["googleServiceAccountConfig"]);s!=null&&c(e,["googleServiceAccountConfig"],s);const a=u(t,["httpBasicAuthConfig"]);a!=null&&c(e,["httpBasicAuthConfig"],a);const f=u(t,["oauthConfig"]);f!=null&&c(e,["oauthConfig"],f);const m=u(t,["oidcConfig"]);return m!=null&&c(e,["oidcConfig"],m),e}function pb(t){const e={},i=u(t,["authConfig"]);return i!=null&&c(e,["authConfig"],mb(i)),e}function gb(){return{}}function yb(t){const e={},i=u(t,["environment"]);return i!=null&&c(e,["environment"],i),e}function vb(t){const e={},i=u(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>lb(S))),c(e,["functionDeclarations"],T)}const o=u(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);const s=u(t,["googleSearch"]);s!=null&&c(e,["googleSearch"],ub(s));const a=u(t,["googleSearchRetrieval"]);a!=null&&c(e,["googleSearchRetrieval"],db(a));const f=u(t,["enterpriseWebSearch"]);f!=null&&c(e,["enterpriseWebSearch"],fb(f));const m=u(t,["googleMaps"]);m!=null&&c(e,["googleMaps"],pb(m)),u(t,["urlContext"])!=null&&c(e,["urlContext"],gb());const h=u(t,["computerUse"]);h!=null&&c(e,["computerUse"],yb(h));const y=u(t,["codeExecution"]);return y!=null&&c(e,["codeExecution"],y),e}function Tb(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function Sb(t){const e={},i=u(t,["latitude"]);i!=null&&c(e,["latitude"],i);const o=u(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function _b(t){const e={},i=u(t,["latLng"]);i!=null&&c(e,["latLng"],Sb(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function xb(t){const e={},i=u(t,["functionCallingConfig"]);i!=null&&c(e,["functionCallingConfig"],Tb(i));const o=u(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],_b(o)),e}function Cb(t,e){const i={},o=u(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const s=u(t,["expireTime"]);e!==void 0&&s!=null&&c(e,["expireTime"],s);const a=u(t,["displayName"]);e!==void 0&&a!=null&&c(e,["displayName"],a);const f=u(t,["contents"]);if(e!==void 0&&f!=null){let T=zt(f);Array.isArray(T)&&(T=T.map(S=>iy(S))),c(e,["contents"],T)}const m=u(t,["systemInstruction"]);e!==void 0&&m!=null&&c(e,["systemInstruction"],iy(mt(m)));const g=u(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>vb(S))),c(e,["tools"],T)}const h=u(t,["toolConfig"]);e!==void 0&&h!=null&&c(e,["toolConfig"],xb(h));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&c(e,["encryption_spec","kmsKeyName"],y),i}function wb(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["model"],lv(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],Cb(s,i)),i}function Eb(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Mn(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function bb(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Mn(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function Ab(t,e){const i={},o=u(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const s=u(t,["expireTime"]);return e!==void 0&&s!=null&&c(e,["expireTime"],s),i}function Rb(t,e){const i={},o=u(e,["name"]);o!=null&&c(i,["_url","name"],Mn(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],Ab(s,i)),i}function Mb(t,e){const i={},o=u(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),i}function Nb(t){const e={},i=u(t,["config"]);return i!=null&&c(e,["config"],Mb(i,e)),e}function Ol(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["displayName"]);o!=null&&c(e,["displayName"],o);const s=u(t,["model"]);s!=null&&c(e,["model"],s);const a=u(t,["createTime"]);a!=null&&c(e,["createTime"],a);const f=u(t,["updateTime"]);f!=null&&c(e,["updateTime"],f);const m=u(t,["expireTime"]);m!=null&&c(e,["expireTime"],m);const g=u(t,["usageMetadata"]);return g!=null&&c(e,["usageMetadata"],g),e}function kb(){return{}}function Db(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>Ol(f))),c(e,["cachedContents"],a)}return e}function ql(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["displayName"]);o!=null&&c(e,["displayName"],o);const s=u(t,["model"]);s!=null&&c(e,["model"],s);const a=u(t,["createTime"]);a!=null&&c(e,["createTime"],a);const f=u(t,["updateTime"]);f!=null&&c(e,["updateTime"],f);const m=u(t,["expireTime"]);m!=null&&c(e,["expireTime"],m);const g=u(t,["usageMetadata"]);return g!=null&&c(e,["usageMetadata"],g),e}function Ub(){return{}}function Ib(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>ql(f))),c(e,["cachedContents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pb extends Ni{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new hs(Ai.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=wb(this.apiClient,e);return m=ne("cachedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(y=>ql(y))}else{const h=QE(this.apiClient,e);return m=ne("cachedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(y=>Ol(y))}}async get(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Eb(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(y=>ql(y))}else{const h=jE(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(y=>Ol(y))}}async delete(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=bb(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(()=>{const y=Ub(),T=new Qg;return Object.assign(T,y),T})}else{const h=WE(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(()=>{const y=kb(),T=new Qg;return Object.assign(T,y),T})}}async update(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Rb(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(y=>ql(y))}else{const h=eb(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(y=>Ol(y))}}async listInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Nb(e);return m=ne("cachedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Ib(y),S=new jg;return Object.assign(S,T),S})}else{const h=nb(e);return m=ne("cachedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Db(y),S=new jg;return Object.assign(S,T),S})}}}function oy(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(t){return this instanceof Be?(this.v=t,this):new Be(t)}function Io(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),s[Symbol.asyncIterator]=function(){return this},s;function f(w){return function(E){return Promise.resolve(E).then(w,T)}}function m(w,E){o[w]&&(s[w]=function(b){return new Promise(function(M,L){a.push([w,b,M,L])>1||g(w,b)})},E&&(s[w]=E(s[w])))}function g(w,E){try{h(o[w](E))}catch(b){S(a[0][3],b)}}function h(w){w.value instanceof Be?Promise.resolve(w.value.v).then(y,T):S(a[0][2],w)}function y(w){g("next",w)}function T(w){g("throw",w)}function S(w,E){w(E),a.shift(),a.length&&g(a[0][0],a[0][1])}}function rs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof oy=="function"?oy(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(a){i[a]=t[a]&&function(f){return new Promise(function(m,g){f=t[a](f),s(m,g,f.done,f.value)})}}function s(a,f,m,g){Promise.resolve(g).then(function(h){a({value:h,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:Cv(i)}function Cv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Ob(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ry(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let o=0;for(;o<i;)if(t[o].role==="user")e.push(t[o]),o++;else{const s=[];let a=!0;for(;o<i&&t[o].role==="model";)s.push(t[o]),a&&!Cv(t[o])&&(a=!1),o++;a?e.push(...s):e.pop()}return e}class qb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new Vb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Vb{constructor(e,i,o,s={},a=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),Ob(a)}async sendMessage(e){var i;await this.sendPromise;const o=mt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var a,f,m;const g=await s,h=(f=(a=g.candidates)===null||a===void 0?void 0:a[0])===null||f===void 0?void 0:f.content,y=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];y!=null&&(S=(m=y.slice(T))!==null&&m!==void 0?m:[]);const w=h?[h]:[];this.recordHistory(o,w,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var i;await this.sendPromise;const o=mt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,o)}getHistory(e=!1){const i=e?ry(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var o,s;return Io(this,arguments,function*(){var f,m,g,h;const y=[];try{for(var T=!0,S=rs(e),w;w=yield Be(S.next()),f=w.done,!f;T=!0){h=w.value,T=!1;const E=h;if(Lb(E)){const b=(s=(o=E.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content;b!==void 0&&y.push(b)}yield yield Be(E)}}catch(E){m={error:E}}finally{try{!T&&!f&&(g=S.return)&&(yield Be(g.call(S)))}finally{if(m)throw m.error}}this.recordHistory(i,y)})}recordHistory(e,i,o){let s=[];i.length>0&&i.every(a=>a.role!==void 0)?s=i:s.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...ry(o)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Wl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bb(t,e){const i={},o=u(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const s=u(t,["pageToken"]);return e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),i}function Gb(t){const e={},i=u(t,["config"]);return i!=null&&c(e,["config"],Bb(i,e)),e}function Hb(t){const e={},i=u(t,["details"]);i!=null&&c(e,["details"],i);const o=u(t,["message"]);o!=null&&c(e,["message"],o);const s=u(t,["code"]);return s!=null&&c(e,["code"],s),e}function Fb(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["displayName"]);o!=null&&c(e,["displayName"],o);const s=u(t,["mimeType"]);s!=null&&c(e,["mimeType"],s);const a=u(t,["sizeBytes"]);a!=null&&c(e,["sizeBytes"],a);const f=u(t,["createTime"]);f!=null&&c(e,["createTime"],f);const m=u(t,["expirationTime"]);m!=null&&c(e,["expirationTime"],m);const g=u(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const h=u(t,["sha256Hash"]);h!=null&&c(e,["sha256Hash"],h);const y=u(t,["uri"]);y!=null&&c(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&c(e,["downloadUri"],T);const S=u(t,["state"]);S!=null&&c(e,["state"],S);const w=u(t,["source"]);w!=null&&c(e,["source"],w);const E=u(t,["videoMetadata"]);E!=null&&c(e,["videoMetadata"],E);const b=u(t,["error"]);return b!=null&&c(e,["error"],Hb(b)),e}function zb(t){const e={},i=u(t,["file"]);i!=null&&c(e,["file"],Fb(i));const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}function $b(t){const e={},i=u(t,["name"]);i!=null&&c(e,["_url","file"],mv(i));const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}function Jb(t){const e={},i=u(t,["name"]);i!=null&&c(e,["_url","file"],mv(i));const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}function Yb(t){const e={},i=u(t,["details"]);i!=null&&c(e,["details"],i);const o=u(t,["message"]);o!=null&&c(e,["message"],o);const s=u(t,["code"]);return s!=null&&c(e,["code"],s),e}function ed(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["displayName"]);o!=null&&c(e,["displayName"],o);const s=u(t,["mimeType"]);s!=null&&c(e,["mimeType"],s);const a=u(t,["sizeBytes"]);a!=null&&c(e,["sizeBytes"],a);const f=u(t,["createTime"]);f!=null&&c(e,["createTime"],f);const m=u(t,["expirationTime"]);m!=null&&c(e,["expirationTime"],m);const g=u(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const h=u(t,["sha256Hash"]);h!=null&&c(e,["sha256Hash"],h);const y=u(t,["uri"]);y!=null&&c(e,["uri"],y);const T=u(t,["downloadUri"]);T!=null&&c(e,["downloadUri"],T);const S=u(t,["state"]);S!=null&&c(e,["state"],S);const w=u(t,["source"]);w!=null&&c(e,["source"],w);const E=u(t,["videoMetadata"]);E!=null&&c(e,["videoMetadata"],E);const b=u(t,["error"]);return b!=null&&c(e,["error"],Yb(b)),e}function Kb(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>ed(f))),c(e,["files"],a)}return e}function Xb(t){const e={},i=u(t,["sdkHttpResponse"]);return i!=null&&c(e,["sdkHttpResponse"],i),e}function Qb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jb extends Ni{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new hs(Ai.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>ed(i))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Gb(e);return a=ne("files",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),s.then(g=>{const h=Kb(g),y=new fw;return Object.assign(y,h),y})}}async createInternal(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=zb(e);return a=ne("upload/v1beta/files",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>{const h=Xb(g),y=new hw;return Object.assign(y,h),y})}}async get(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=$b(e);return a=ne("files/{file}",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>ed(g))}}async delete(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Jb(e);return a=ne("files/{file}",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(()=>{const g=Qb(),h=new mw;return Object.assign(h,g),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wb(t){const e={},i=u(t,["voiceName"]);return i!=null&&c(e,["voiceName"],i),e}function wv(t){const e={},i=u(t,["prebuiltVoiceConfig"]);return i!=null&&c(e,["prebuiltVoiceConfig"],Wb(i)),e}function Zb(t){const e={},i=u(t,["speaker"]);i!=null&&c(e,["speaker"],i);const o=u(t,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],wv(o)),e}function eA(t){const e={},i=u(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Zb(s))),c(e,["speakerVoiceConfigs"],o)}return e}function tA(t){const e={},i=u(t,["voiceConfig"]);i!=null&&c(e,["voiceConfig"],wv(i));const o=u(t,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],eA(o));const s=u(t,["languageCode"]);return s!=null&&c(e,["languageCode"],s),e}function nA(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function iA(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function oA(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function rA(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],nA(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],iA(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],oA(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function sA(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>rA(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function lA(t){const e={},i=u(t,["behavior"]);i!=null&&c(e,["behavior"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const s=u(t,["name"]);s!=null&&c(e,["name"],s);const a=u(t,["parameters"]);a!=null&&c(e,["parameters"],a);const f=u(t,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const m=u(t,["response"]);m!=null&&c(e,["response"],m);const g=u(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function aA(t){const e={},i=u(t,["startTime"]);i!=null&&c(e,["startTime"],i);const o=u(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function uA(t){const e={},i=u(t,["timeRangeFilter"]);if(i!=null&&c(e,["timeRangeFilter"],aA(i)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cA(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function dA(t){const e={},i=u(t,["dynamicRetrievalConfig"]);return i!=null&&c(e,["dynamicRetrievalConfig"],cA(i)),e}function fA(){return{}}function hA(t){const e={},i=u(t,["environment"]);return i!=null&&c(e,["environment"],i),e}function mA(t){const e={},i=u(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>lA(h))),c(e,["functionDeclarations"],g)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],uA(o));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&c(e,["googleSearchRetrieval"],dA(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],fA());const f=u(t,["computerUse"]);f!=null&&c(e,["computerUse"],hA(f));const m=u(t,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function pA(t){const e={},i=u(t,["handle"]);if(i!=null&&c(e,["handle"],i),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sy(){return{}}function gA(t){const e={},i=u(t,["disabled"]);i!=null&&c(e,["disabled"],i);const o=u(t,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&c(e,["endOfSpeechSensitivity"],s);const a=u(t,["prefixPaddingMs"]);a!=null&&c(e,["prefixPaddingMs"],a);const f=u(t,["silenceDurationMs"]);return f!=null&&c(e,["silenceDurationMs"],f),e}function yA(t){const e={},i=u(t,["automaticActivityDetection"]);i!=null&&c(e,["automaticActivityDetection"],gA(i));const o=u(t,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const s=u(t,["turnCoverage"]);return s!=null&&c(e,["turnCoverage"],s),e}function vA(t){const e={},i=u(t,["targetTokens"]);return i!=null&&c(e,["targetTokens"],i),e}function TA(t){const e={},i=u(t,["triggerTokens"]);i!=null&&c(e,["triggerTokens"],i);const o=u(t,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],vA(o)),e}function SA(t){const e={},i=u(t,["proactiveAudio"]);return i!=null&&c(e,["proactiveAudio"],i),e}function _A(t,e){const i={},o=u(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","temperature"],a);const f=u(t,["topP"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","topP"],f);const m=u(t,["topK"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","topK"],m);const g=u(t,["maxOutputTokens"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","maxOutputTokens"],g);const h=u(t,["mediaResolution"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","mediaResolution"],h);const y=u(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],tA(Cd(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&c(e,["setup","systemInstruction"],sA(mt(w)));const E=u(t,["tools"]);if(e!==void 0&&E!=null){let G=Go(E);Array.isArray(G)&&(G=G.map(Y=>mA(Bo(Y)))),c(e,["setup","tools"],G)}const b=u(t,["sessionResumption"]);e!==void 0&&b!=null&&c(e,["setup","sessionResumption"],pA(b));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],sy());const L=u(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&c(e,["setup","outputAudioTranscription"],sy());const N=u(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&c(e,["setup","realtimeInputConfig"],yA(N));const I=u(t,["contextWindowCompression"]);e!==void 0&&I!=null&&c(e,["setup","contextWindowCompression"],TA(I));const $=u(t,["proactivity"]);return e!==void 0&&$!=null&&c(e,["setup","proactivity"],SA($)),i}function xA(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["setup","model"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],_A(s,i)),i}function CA(){return{}}function wA(){return{}}function EA(t){const e={},i=u(t,["media"]);i!=null&&c(e,["mediaChunks"],av(i));const o=u(t,["audio"]);o!=null&&c(e,["audio"],cv(o));const s=u(t,["audioStreamEnd"]);s!=null&&c(e,["audioStreamEnd"],s);const a=u(t,["video"]);a!=null&&c(e,["video"],uv(a));const f=u(t,["text"]);return f!=null&&c(e,["text"],f),u(t,["activityStart"])!=null&&c(e,["activityStart"],CA()),u(t,["activityEnd"])!=null&&c(e,["activityEnd"],wA()),e}function Ev(t){const e={},i=u(t,["text"]);i!=null&&c(e,["text"],i);const o=u(t,["weight"]);return o!=null&&c(e,["weight"],o),e}function bA(t){const e={},i=u(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ev(s))),c(e,["weightedPrompts"],o)}return e}function bv(t){const e={},i=u(t,["temperature"]);i!=null&&c(e,["temperature"],i);const o=u(t,["topK"]);o!=null&&c(e,["topK"],o);const s=u(t,["seed"]);s!=null&&c(e,["seed"],s);const a=u(t,["guidance"]);a!=null&&c(e,["guidance"],a);const f=u(t,["bpm"]);f!=null&&c(e,["bpm"],f);const m=u(t,["density"]);m!=null&&c(e,["density"],m);const g=u(t,["brightness"]);g!=null&&c(e,["brightness"],g);const h=u(t,["scale"]);h!=null&&c(e,["scale"],h);const y=u(t,["muteBass"]);y!=null&&c(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&c(e,["muteDrums"],T);const S=u(t,["onlyBassAndDrums"]);S!=null&&c(e,["onlyBassAndDrums"],S);const w=u(t,["musicGenerationMode"]);return w!=null&&c(e,["musicGenerationMode"],w),e}function AA(t){const e={},i=u(t,["musicGenerationConfig"]);return i!=null&&c(e,["musicGenerationConfig"],bv(i)),e}function Av(t){const e={},i=u(t,["model"]);return i!=null&&c(e,["model"],i),e}function Rv(t){const e={},i=u(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ev(s))),c(e,["weightedPrompts"],o)}return e}function td(t){const e={},i=u(t,["setup"]);i!=null&&c(e,["setup"],Av(i));const o=u(t,["clientContent"]);o!=null&&c(e,["clientContent"],Rv(o));const s=u(t,["musicGenerationConfig"]);s!=null&&c(e,["musicGenerationConfig"],bv(s));const a=u(t,["playbackControl"]);return a!=null&&c(e,["playbackControl"],a),e}function RA(t){const e={},i=u(t,["voiceName"]);return i!=null&&c(e,["voiceName"],i),e}function MA(t){const e={},i=u(t,["prebuiltVoiceConfig"]);return i!=null&&c(e,["prebuiltVoiceConfig"],RA(i)),e}function NA(t){const e={},i=u(t,["voiceConfig"]);if(i!=null&&c(e,["voiceConfig"],MA(i)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function kA(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function DA(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["data"]);o!=null&&c(e,["data"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function UA(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function IA(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],kA(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],DA(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],UA(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function PA(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>IA(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function LA(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const s=u(t,["parameters"]);s!=null&&c(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&c(e,["parametersJsonSchema"],a);const f=u(t,["response"]);f!=null&&c(e,["response"],f);const m=u(t,["responseJsonSchema"]);return m!=null&&c(e,["responseJsonSchema"],m),e}function OA(t){const e={},i=u(t,["startTime"]);i!=null&&c(e,["startTime"],i);const o=u(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function qA(t){const e={},i=u(t,["timeRangeFilter"]);i!=null&&c(e,["timeRangeFilter"],OA(i));const o=u(t,["excludeDomains"]);return o!=null&&c(e,["excludeDomains"],o),e}function VA(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function BA(t){const e={},i=u(t,["dynamicRetrievalConfig"]);return i!=null&&c(e,["dynamicRetrievalConfig"],VA(i)),e}function GA(t){const e={},i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function HA(t){const e={},i=u(t,["apiKeyString"]);return i!=null&&c(e,["apiKeyString"],i),e}function FA(t){const e={},i=u(t,["apiKeyConfig"]);i!=null&&c(e,["apiKeyConfig"],HA(i));const o=u(t,["authType"]);o!=null&&c(e,["authType"],o);const s=u(t,["googleServiceAccountConfig"]);s!=null&&c(e,["googleServiceAccountConfig"],s);const a=u(t,["httpBasicAuthConfig"]);a!=null&&c(e,["httpBasicAuthConfig"],a);const f=u(t,["oauthConfig"]);f!=null&&c(e,["oauthConfig"],f);const m=u(t,["oidcConfig"]);return m!=null&&c(e,["oidcConfig"],m),e}function zA(t){const e={},i=u(t,["authConfig"]);return i!=null&&c(e,["authConfig"],FA(i)),e}function $A(){return{}}function JA(t){const e={},i=u(t,["environment"]);return i!=null&&c(e,["environment"],i),e}function YA(t){const e={},i=u(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>LA(S))),c(e,["functionDeclarations"],T)}const o=u(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);const s=u(t,["googleSearch"]);s!=null&&c(e,["googleSearch"],qA(s));const a=u(t,["googleSearchRetrieval"]);a!=null&&c(e,["googleSearchRetrieval"],BA(a));const f=u(t,["enterpriseWebSearch"]);f!=null&&c(e,["enterpriseWebSearch"],GA(f));const m=u(t,["googleMaps"]);m!=null&&c(e,["googleMaps"],zA(m)),u(t,["urlContext"])!=null&&c(e,["urlContext"],$A());const h=u(t,["computerUse"]);h!=null&&c(e,["computerUse"],JA(h));const y=u(t,["codeExecution"]);return y!=null&&c(e,["codeExecution"],y),e}function KA(t){const e={},i=u(t,["handle"]);i!=null&&c(e,["handle"],i);const o=u(t,["transparent"]);return o!=null&&c(e,["transparent"],o),e}function ly(){return{}}function XA(t){const e={},i=u(t,["disabled"]);i!=null&&c(e,["disabled"],i);const o=u(t,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&c(e,["endOfSpeechSensitivity"],s);const a=u(t,["prefixPaddingMs"]);a!=null&&c(e,["prefixPaddingMs"],a);const f=u(t,["silenceDurationMs"]);return f!=null&&c(e,["silenceDurationMs"],f),e}function QA(t){const e={},i=u(t,["automaticActivityDetection"]);i!=null&&c(e,["automaticActivityDetection"],XA(i));const o=u(t,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const s=u(t,["turnCoverage"]);return s!=null&&c(e,["turnCoverage"],s),e}function jA(t){const e={},i=u(t,["targetTokens"]);return i!=null&&c(e,["targetTokens"],i),e}function WA(t){const e={},i=u(t,["triggerTokens"]);i!=null&&c(e,["triggerTokens"],i);const o=u(t,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],jA(o)),e}function ZA(t){const e={},i=u(t,["proactiveAudio"]);return i!=null&&c(e,["proactiveAudio"],i),e}function eR(t,e){const i={},o=u(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","temperature"],a);const f=u(t,["topP"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","topP"],f);const m=u(t,["topK"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","topK"],m);const g=u(t,["maxOutputTokens"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","maxOutputTokens"],g);const h=u(t,["mediaResolution"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","mediaResolution"],h);const y=u(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],NA(Cd(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&c(e,["setup","systemInstruction"],PA(mt(w)));const E=u(t,["tools"]);if(e!==void 0&&E!=null){let G=Go(E);Array.isArray(G)&&(G=G.map(Y=>YA(Bo(Y)))),c(e,["setup","tools"],G)}const b=u(t,["sessionResumption"]);e!==void 0&&b!=null&&c(e,["setup","sessionResumption"],KA(b));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],ly());const L=u(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&c(e,["setup","outputAudioTranscription"],ly());const N=u(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&c(e,["setup","realtimeInputConfig"],QA(N));const I=u(t,["contextWindowCompression"]);e!==void 0&&I!=null&&c(e,["setup","contextWindowCompression"],WA(I));const $=u(t,["proactivity"]);return e!==void 0&&$!=null&&c(e,["setup","proactivity"],ZA($)),i}function tR(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["setup","model"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],eR(s,i)),i}function nR(){return{}}function iR(){return{}}function oR(t){const e={},i=u(t,["media"]);i!=null&&c(e,["mediaChunks"],av(i));const o=u(t,["audio"]);o!=null&&c(e,["audio"],cv(o));const s=u(t,["audioStreamEnd"]);s!=null&&c(e,["audioStreamEnd"],s);const a=u(t,["video"]);a!=null&&c(e,["video"],uv(a));const f=u(t,["text"]);return f!=null&&c(e,["text"],f),u(t,["activityStart"])!=null&&c(e,["activityStart"],nR()),u(t,["activityEnd"])!=null&&c(e,["activityEnd"],iR()),e}function rR(){return{}}function sR(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function lR(t){const e={},i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function aR(t){const e={},i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function uR(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],sR(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],lR(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],aR(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function cR(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>uR(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function ay(t){const e={},i=u(t,["text"]);i!=null&&c(e,["text"],i);const o=u(t,["finished"]);return o!=null&&c(e,["finished"],o),e}function dR(t){const e={},i=u(t,["retrievedUrl"]);i!=null&&c(e,["retrievedUrl"],i);const o=u(t,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function fR(t){const e={},i=u(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>dR(s))),c(e,["urlMetadata"],o)}return e}function hR(t){const e={},i=u(t,["modelTurn"]);i!=null&&c(e,["modelTurn"],cR(i));const o=u(t,["turnComplete"]);o!=null&&c(e,["turnComplete"],o);const s=u(t,["interrupted"]);s!=null&&c(e,["interrupted"],s);const a=u(t,["groundingMetadata"]);a!=null&&c(e,["groundingMetadata"],a);const f=u(t,["generationComplete"]);f!=null&&c(e,["generationComplete"],f);const m=u(t,["inputTranscription"]);m!=null&&c(e,["inputTranscription"],ay(m));const g=u(t,["outputTranscription"]);g!=null&&c(e,["outputTranscription"],ay(g));const h=u(t,["urlContextMetadata"]);return h!=null&&c(e,["urlContextMetadata"],fR(h)),e}function mR(t){const e={},i=u(t,["id"]);i!=null&&c(e,["id"],i);const o=u(t,["args"]);o!=null&&c(e,["args"],o);const s=u(t,["name"]);return s!=null&&c(e,["name"],s),e}function pR(t){const e={},i=u(t,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>mR(s))),c(e,["functionCalls"],o)}return e}function gR(t){const e={},i=u(t,["ids"]);return i!=null&&c(e,["ids"],i),e}function Ul(t){const e={},i=u(t,["modality"]);i!=null&&c(e,["modality"],i);const o=u(t,["tokenCount"]);return o!=null&&c(e,["tokenCount"],o),e}function yR(t){const e={},i=u(t,["promptTokenCount"]);i!=null&&c(e,["promptTokenCount"],i);const o=u(t,["cachedContentTokenCount"]);o!=null&&c(e,["cachedContentTokenCount"],o);const s=u(t,["responseTokenCount"]);s!=null&&c(e,["responseTokenCount"],s);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&c(e,["toolUsePromptTokenCount"],a);const f=u(t,["thoughtsTokenCount"]);f!=null&&c(e,["thoughtsTokenCount"],f);const m=u(t,["totalTokenCount"]);m!=null&&c(e,["totalTokenCount"],m);const g=u(t,["promptTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(w=>Ul(w))),c(e,["promptTokensDetails"],S)}const h=u(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(w=>Ul(w))),c(e,["cacheTokensDetails"],S)}const y=u(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>Ul(w))),c(e,["responseTokensDetails"],S)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(w=>Ul(w))),c(e,["toolUsePromptTokensDetails"],S)}return e}function vR(t){const e={},i=u(t,["timeLeft"]);return i!=null&&c(e,["timeLeft"],i),e}function TR(t){const e={},i=u(t,["newHandle"]);i!=null&&c(e,["newHandle"],i);const o=u(t,["resumable"]);o!=null&&c(e,["resumable"],o);const s=u(t,["lastConsumedClientMessageIndex"]);return s!=null&&c(e,["lastConsumedClientMessageIndex"],s),e}function SR(t){const e={};u(t,["setupComplete"])!=null&&c(e,["setupComplete"],rR());const o=u(t,["serverContent"]);o!=null&&c(e,["serverContent"],hR(o));const s=u(t,["toolCall"]);s!=null&&c(e,["toolCall"],pR(s));const a=u(t,["toolCallCancellation"]);a!=null&&c(e,["toolCallCancellation"],gR(a));const f=u(t,["usageMetadata"]);f!=null&&c(e,["usageMetadata"],yR(f));const m=u(t,["goAway"]);m!=null&&c(e,["goAway"],vR(m));const g=u(t,["sessionResumptionUpdate"]);return g!=null&&c(e,["sessionResumptionUpdate"],TR(g)),e}function _R(){return{}}function xR(t){const e={},i=u(t,["text"]);i!=null&&c(e,["text"],i);const o=u(t,["weight"]);return o!=null&&c(e,["weight"],o),e}function CR(t){const e={},i=u(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>xR(s))),c(e,["weightedPrompts"],o)}return e}function wR(t){const e={},i=u(t,["temperature"]);i!=null&&c(e,["temperature"],i);const o=u(t,["topK"]);o!=null&&c(e,["topK"],o);const s=u(t,["seed"]);s!=null&&c(e,["seed"],s);const a=u(t,["guidance"]);a!=null&&c(e,["guidance"],a);const f=u(t,["bpm"]);f!=null&&c(e,["bpm"],f);const m=u(t,["density"]);m!=null&&c(e,["density"],m);const g=u(t,["brightness"]);g!=null&&c(e,["brightness"],g);const h=u(t,["scale"]);h!=null&&c(e,["scale"],h);const y=u(t,["muteBass"]);y!=null&&c(e,["muteBass"],y);const T=u(t,["muteDrums"]);T!=null&&c(e,["muteDrums"],T);const S=u(t,["onlyBassAndDrums"]);S!=null&&c(e,["onlyBassAndDrums"],S);const w=u(t,["musicGenerationMode"]);return w!=null&&c(e,["musicGenerationMode"],w),e}function ER(t){const e={},i=u(t,["clientContent"]);i!=null&&c(e,["clientContent"],CR(i));const o=u(t,["musicGenerationConfig"]);return o!=null&&c(e,["musicGenerationConfig"],wR(o)),e}function bR(t){const e={},i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);o!=null&&c(e,["mimeType"],o);const s=u(t,["sourceMetadata"]);return s!=null&&c(e,["sourceMetadata"],ER(s)),e}function AR(t){const e={},i=u(t,["audioChunks"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>bR(s))),c(e,["audioChunks"],o)}return e}function RR(t){const e={},i=u(t,["text"]);i!=null&&c(e,["text"],i);const o=u(t,["filteredReason"]);return o!=null&&c(e,["filteredReason"],o),e}function MR(t){const e={};u(t,["setupComplete"])!=null&&c(e,["setupComplete"],_R());const o=u(t,["serverContent"]);o!=null&&c(e,["serverContent"],AR(o));const s=u(t,["filteredPrompt"]);return s!=null&&c(e,["filteredPrompt"],RR(s)),e}function NR(t){const e={},i=u(t,["sessionId"]);return i!=null&&c(e,["sessionId"],i),e}function kR(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function DR(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["data"]);o!=null&&c(e,["data"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function UR(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function IR(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],kR(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],DR(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],UR(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function PR(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>IR(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function uy(t){const e={},i=u(t,["text"]);i!=null&&c(e,["text"],i);const o=u(t,["finished"]);return o!=null&&c(e,["finished"],o),e}function LR(t){const e={},i=u(t,["modelTurn"]);i!=null&&c(e,["modelTurn"],PR(i));const o=u(t,["turnComplete"]);o!=null&&c(e,["turnComplete"],o);const s=u(t,["interrupted"]);s!=null&&c(e,["interrupted"],s);const a=u(t,["groundingMetadata"]);a!=null&&c(e,["groundingMetadata"],a);const f=u(t,["generationComplete"]);f!=null&&c(e,["generationComplete"],f);const m=u(t,["inputTranscription"]);m!=null&&c(e,["inputTranscription"],uy(m));const g=u(t,["outputTranscription"]);return g!=null&&c(e,["outputTranscription"],uy(g)),e}function OR(t){const e={},i=u(t,["args"]);i!=null&&c(e,["args"],i);const o=u(t,["name"]);return o!=null&&c(e,["name"],o),e}function qR(t){const e={},i=u(t,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>OR(s))),c(e,["functionCalls"],o)}return e}function VR(t){const e={},i=u(t,["ids"]);return i!=null&&c(e,["ids"],i),e}function Il(t){const e={},i=u(t,["modality"]);i!=null&&c(e,["modality"],i);const o=u(t,["tokenCount"]);return o!=null&&c(e,["tokenCount"],o),e}function BR(t){const e={},i=u(t,["promptTokenCount"]);i!=null&&c(e,["promptTokenCount"],i);const o=u(t,["cachedContentTokenCount"]);o!=null&&c(e,["cachedContentTokenCount"],o);const s=u(t,["candidatesTokenCount"]);s!=null&&c(e,["responseTokenCount"],s);const a=u(t,["toolUsePromptTokenCount"]);a!=null&&c(e,["toolUsePromptTokenCount"],a);const f=u(t,["thoughtsTokenCount"]);f!=null&&c(e,["thoughtsTokenCount"],f);const m=u(t,["totalTokenCount"]);m!=null&&c(e,["totalTokenCount"],m);const g=u(t,["promptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(E=>Il(E))),c(e,["promptTokensDetails"],w)}const h=u(t,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(E=>Il(E))),c(e,["cacheTokensDetails"],w)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(E=>Il(E))),c(e,["responseTokensDetails"],w)}const T=u(t,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(E=>Il(E))),c(e,["toolUsePromptTokensDetails"],w)}const S=u(t,["trafficType"]);return S!=null&&c(e,["trafficType"],S),e}function GR(t){const e={},i=u(t,["timeLeft"]);return i!=null&&c(e,["timeLeft"],i),e}function HR(t){const e={},i=u(t,["newHandle"]);i!=null&&c(e,["newHandle"],i);const o=u(t,["resumable"]);o!=null&&c(e,["resumable"],o);const s=u(t,["lastConsumedClientMessageIndex"]);return s!=null&&c(e,["lastConsumedClientMessageIndex"],s),e}function FR(t){const e={},i=u(t,["setupComplete"]);i!=null&&c(e,["setupComplete"],NR(i));const o=u(t,["serverContent"]);o!=null&&c(e,["serverContent"],LR(o));const s=u(t,["toolCall"]);s!=null&&c(e,["toolCall"],qR(s));const a=u(t,["toolCallCancellation"]);a!=null&&c(e,["toolCallCancellation"],VR(a));const f=u(t,["usageMetadata"]);f!=null&&c(e,["usageMetadata"],BR(f));const m=u(t,["goAway"]);m!=null&&c(e,["goAway"],GR(m));const g=u(t,["sessionResumptionUpdate"]);return g!=null&&c(e,["sessionResumptionUpdate"],HR(g)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zR(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function $R(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function JR(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function YR(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],zR(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],$R(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],JR(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function Zl(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>YR(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function KR(t){const e={},i=u(t,["anyOf"]);i!=null&&c(e,["anyOf"],i);const o=u(t,["default"]);o!=null&&c(e,["default"],o);const s=u(t,["description"]);s!=null&&c(e,["description"],s);const a=u(t,["enum"]);a!=null&&c(e,["enum"],a);const f=u(t,["example"]);f!=null&&c(e,["example"],f);const m=u(t,["format"]);m!=null&&c(e,["format"],m);const g=u(t,["items"]);g!=null&&c(e,["items"],g);const h=u(t,["maxItems"]);h!=null&&c(e,["maxItems"],h);const y=u(t,["maxLength"]);y!=null&&c(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&c(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&c(e,["maximum"],S);const w=u(t,["minItems"]);w!=null&&c(e,["minItems"],w);const E=u(t,["minLength"]);E!=null&&c(e,["minLength"],E);const b=u(t,["minProperties"]);b!=null&&c(e,["minProperties"],b);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const L=u(t,["nullable"]);L!=null&&c(e,["nullable"],L);const N=u(t,["pattern"]);N!=null&&c(e,["pattern"],N);const I=u(t,["properties"]);I!=null&&c(e,["properties"],I);const $=u(t,["propertyOrdering"]);$!=null&&c(e,["propertyOrdering"],$);const G=u(t,["required"]);G!=null&&c(e,["required"],G);const Y=u(t,["title"]);Y!=null&&c(e,["title"],Y);const X=u(t,["type"]);return X!=null&&c(e,["type"],X),e}function XR(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=u(t,["category"]);i!=null&&c(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function QR(t){const e={},i=u(t,["behavior"]);i!=null&&c(e,["behavior"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const s=u(t,["name"]);s!=null&&c(e,["name"],s);const a=u(t,["parameters"]);a!=null&&c(e,["parameters"],a);const f=u(t,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const m=u(t,["response"]);m!=null&&c(e,["response"],m);const g=u(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function jR(t){const e={},i=u(t,["startTime"]);i!=null&&c(e,["startTime"],i);const o=u(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function WR(t){const e={},i=u(t,["timeRangeFilter"]);if(i!=null&&c(e,["timeRangeFilter"],jR(i)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function ZR(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function eM(t){const e={},i=u(t,["dynamicRetrievalConfig"]);return i!=null&&c(e,["dynamicRetrievalConfig"],ZR(i)),e}function tM(){return{}}function nM(t){const e={},i=u(t,["environment"]);return i!=null&&c(e,["environment"],i),e}function iM(t){const e={},i=u(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>QR(h))),c(e,["functionDeclarations"],g)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],WR(o));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&c(e,["googleSearchRetrieval"],eM(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],tM());const f=u(t,["computerUse"]);f!=null&&c(e,["computerUse"],nM(f));const m=u(t,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function oM(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function rM(t){const e={},i=u(t,["latitude"]);i!=null&&c(e,["latitude"],i);const o=u(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function sM(t){const e={},i=u(t,["latLng"]);i!=null&&c(e,["latLng"],rM(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function lM(t){const e={},i=u(t,["functionCallingConfig"]);i!=null&&c(e,["functionCallingConfig"],oM(i));const o=u(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],sM(o)),e}function aM(t){const e={},i=u(t,["voiceName"]);return i!=null&&c(e,["voiceName"],i),e}function Mv(t){const e={},i=u(t,["prebuiltVoiceConfig"]);return i!=null&&c(e,["prebuiltVoiceConfig"],aM(i)),e}function uM(t){const e={},i=u(t,["speaker"]);i!=null&&c(e,["speaker"],i);const o=u(t,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],Mv(o)),e}function cM(t){const e={},i=u(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>uM(s))),c(e,["speakerVoiceConfigs"],o)}return e}function dM(t){const e={},i=u(t,["voiceConfig"]);i!=null&&c(e,["voiceConfig"],Mv(i));const o=u(t,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],cM(o));const s=u(t,["languageCode"]);return s!=null&&c(e,["languageCode"],s),e}function fM(t){const e={},i=u(t,["includeThoughts"]);i!=null&&c(e,["includeThoughts"],i);const o=u(t,["thinkingBudget"]);return o!=null&&c(e,["thinkingBudget"],o),e}function hM(t,e,i){const o={},s=u(e,["systemInstruction"]);i!==void 0&&s!=null&&c(i,["systemInstruction"],Zl(mt(s)));const a=u(e,["temperature"]);a!=null&&c(o,["temperature"],a);const f=u(e,["topP"]);f!=null&&c(o,["topP"],f);const m=u(e,["topK"]);m!=null&&c(o,["topK"],m);const g=u(e,["candidateCount"]);g!=null&&c(o,["candidateCount"],g);const h=u(e,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const y=u(e,["stopSequences"]);y!=null&&c(o,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&c(o,["logprobs"],S);const w=u(e,["presencePenalty"]);w!=null&&c(o,["presencePenalty"],w);const E=u(e,["frequencyPenalty"]);E!=null&&c(o,["frequencyPenalty"],E);const b=u(e,["seed"]);b!=null&&c(o,["seed"],b);const M=u(e,["responseMimeType"]);M!=null&&c(o,["responseMimeType"],M);const L=u(e,["responseSchema"]);L!=null&&c(o,["responseSchema"],KR(_d(L)));const N=u(e,["responseJsonSchema"]);if(N!=null&&c(o,["responseJsonSchema"],N),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=u(e,["safetySettings"]);if(i!==void 0&&I!=null){let de=I;Array.isArray(de)&&(de=de.map(Ae=>XR(Ae))),c(i,["safetySettings"],de)}const $=u(e,["tools"]);if(i!==void 0&&$!=null){let de=Go($);Array.isArray(de)&&(de=de.map(Ae=>iM(Bo(Ae)))),c(i,["tools"],de)}const G=u(e,["toolConfig"]);if(i!==void 0&&G!=null&&c(i,["toolConfig"],lM(G)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=u(e,["cachedContent"]);i!==void 0&&Y!=null&&c(i,["cachedContent"],Mn(t,Y));const X=u(e,["responseModalities"]);X!=null&&c(o,["responseModalities"],X);const ge=u(e,["mediaResolution"]);ge!=null&&c(o,["mediaResolution"],ge);const Z=u(e,["speechConfig"]);if(Z!=null&&c(o,["speechConfig"],dM(xd(Z))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=u(e,["thinkingConfig"]);return fe!=null&&c(o,["thinkingConfig"],fM(fe)),o}function cy(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["contents"]);if(s!=null){let f=zt(s);Array.isArray(f)&&(f=f.map(m=>Zl(m))),c(i,["contents"],f)}const a=u(e,["config"]);return a!=null&&c(i,["generationConfig"],hM(t,a,i)),i}function mM(t,e){const i={},o=u(t,["taskType"]);e!==void 0&&o!=null&&c(e,["requests[]","taskType"],o);const s=u(t,["title"]);e!==void 0&&s!=null&&c(e,["requests[]","title"],s);const a=u(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&c(e,["requests[]","outputDimensionality"],a),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function pM(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["contents"]);s!=null&&c(i,["requests[]","content"],fv(t,s));const a=u(e,["config"]);a!=null&&c(i,["config"],mM(a,i));const f=u(e,["model"]);return f!==void 0&&c(i,["requests[]","model"],Ne(t,f)),i}function gM(t,e){const i={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=u(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const s=u(t,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);const a=u(t,["guidanceScale"]);if(e!==void 0&&a!=null&&c(e,["parameters","guidanceScale"],a),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&c(e,["parameters","safetySetting"],f);const m=u(t,["personGeneration"]);e!==void 0&&m!=null&&c(e,["parameters","personGeneration"],m);const g=u(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&c(e,["parameters","includeSafetyAttributes"],g);const h=u(t,["includeRaiReason"]);e!==void 0&&h!=null&&c(e,["parameters","includeRaiReason"],h);const y=u(t,["language"]);e!==void 0&&y!=null&&c(e,["parameters","language"],y);const T=u(t,["outputMimeType"]);e!==void 0&&T!=null&&c(e,["parameters","outputOptions","mimeType"],T);const S=u(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&c(e,["parameters","outputOptions","compressionQuality"],S),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const w=u(t,["imageSize"]);if(e!==void 0&&w!=null&&c(e,["parameters","sampleImageSize"],w),u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function yM(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["prompt"]);s!=null&&c(i,["instances[0]","prompt"],s);const a=u(e,["config"]);return a!=null&&c(i,["config"],gM(a,i)),i}function vM(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","name"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function TM(t,e,i){const o={},s=u(e,["pageSize"]);i!==void 0&&s!=null&&c(i,["_query","pageSize"],s);const a=u(e,["pageToken"]);i!==void 0&&a!=null&&c(i,["_query","pageToken"],a);const f=u(e,["filter"]);i!==void 0&&f!=null&&c(i,["_query","filter"],f);const m=u(e,["queryBase"]);return i!==void 0&&m!=null&&c(i,["_url","models_url"],pv(t,m)),o}function SM(t,e){const i={},o=u(e,["config"]);return o!=null&&c(i,["config"],TM(t,o,i)),i}function _M(t,e){const i={},o=u(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const s=u(t,["description"]);e!==void 0&&s!=null&&c(e,["description"],s);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&c(e,["defaultCheckpointId"],a),i}function xM(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","name"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],_M(s,i)),i}function CM(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","name"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function wM(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function EM(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["contents"]);if(s!=null){let f=zt(s);Array.isArray(f)&&(f=f.map(m=>Zl(m))),c(i,["contents"],f)}const a=u(e,["config"]);return a!=null&&c(i,["config"],wM(a)),i}function bM(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=u(t,["imageBytes"]);i!=null&&c(e,["bytesBase64Encoded"],ki(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function AM(t,e){const i={},o=u(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(t,["durationSeconds"]);if(e!==void 0&&s!=null&&c(e,["parameters","durationSeconds"],s),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=u(t,["aspectRatio"]);if(e!==void 0&&a!=null&&c(e,["parameters","aspectRatio"],a),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=u(t,["personGeneration"]);if(e!==void 0&&f!=null&&c(e,["parameters","personGeneration"],f),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=u(t,["negativePrompt"]);e!==void 0&&m!=null&&c(e,["parameters","negativePrompt"],m);const g=u(t,["enhancePrompt"]);if(e!==void 0&&g!=null&&c(e,["parameters","enhancePrompt"],g),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function RM(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["prompt"]);s!=null&&c(i,["instances[0]","prompt"],s);const a=u(e,["image"]);if(a!=null&&c(i,["instances[0]","image"],bM(a)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const f=u(e,["config"]);return f!=null&&c(i,["config"],AM(f,i)),i}function MM(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function NM(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["data"]);o!=null&&c(e,["data"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function kM(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function DM(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],MM(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],NM(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],kM(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function Fo(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>DM(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function UM(t){const e={},i=u(t,["anyOf"]);i!=null&&c(e,["anyOf"],i);const o=u(t,["default"]);o!=null&&c(e,["default"],o);const s=u(t,["description"]);s!=null&&c(e,["description"],s);const a=u(t,["enum"]);a!=null&&c(e,["enum"],a);const f=u(t,["example"]);f!=null&&c(e,["example"],f);const m=u(t,["format"]);m!=null&&c(e,["format"],m);const g=u(t,["items"]);g!=null&&c(e,["items"],g);const h=u(t,["maxItems"]);h!=null&&c(e,["maxItems"],h);const y=u(t,["maxLength"]);y!=null&&c(e,["maxLength"],y);const T=u(t,["maxProperties"]);T!=null&&c(e,["maxProperties"],T);const S=u(t,["maximum"]);S!=null&&c(e,["maximum"],S);const w=u(t,["minItems"]);w!=null&&c(e,["minItems"],w);const E=u(t,["minLength"]);E!=null&&c(e,["minLength"],E);const b=u(t,["minProperties"]);b!=null&&c(e,["minProperties"],b);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const L=u(t,["nullable"]);L!=null&&c(e,["nullable"],L);const N=u(t,["pattern"]);N!=null&&c(e,["pattern"],N);const I=u(t,["properties"]);I!=null&&c(e,["properties"],I);const $=u(t,["propertyOrdering"]);$!=null&&c(e,["propertyOrdering"],$);const G=u(t,["required"]);G!=null&&c(e,["required"],G);const Y=u(t,["title"]);Y!=null&&c(e,["title"],Y);const X=u(t,["type"]);return X!=null&&c(e,["type"],X),e}function IM(t){const e={},i=u(t,["featureSelectionPreference"]);return i!=null&&c(e,["featureSelectionPreference"],i),e}function PM(t){const e={},i=u(t,["method"]);i!=null&&c(e,["method"],i);const o=u(t,["category"]);o!=null&&c(e,["category"],o);const s=u(t,["threshold"]);return s!=null&&c(e,["threshold"],s),e}function LM(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const s=u(t,["parameters"]);s!=null&&c(e,["parameters"],s);const a=u(t,["parametersJsonSchema"]);a!=null&&c(e,["parametersJsonSchema"],a);const f=u(t,["response"]);f!=null&&c(e,["response"],f);const m=u(t,["responseJsonSchema"]);return m!=null&&c(e,["responseJsonSchema"],m),e}function OM(t){const e={},i=u(t,["startTime"]);i!=null&&c(e,["startTime"],i);const o=u(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function qM(t){const e={},i=u(t,["timeRangeFilter"]);i!=null&&c(e,["timeRangeFilter"],OM(i));const o=u(t,["excludeDomains"]);return o!=null&&c(e,["excludeDomains"],o),e}function VM(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function BM(t){const e={},i=u(t,["dynamicRetrievalConfig"]);return i!=null&&c(e,["dynamicRetrievalConfig"],VM(i)),e}function GM(t){const e={},i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function HM(t){const e={},i=u(t,["apiKeyString"]);return i!=null&&c(e,["apiKeyString"],i),e}function FM(t){const e={},i=u(t,["apiKeyConfig"]);i!=null&&c(e,["apiKeyConfig"],HM(i));const o=u(t,["authType"]);o!=null&&c(e,["authType"],o);const s=u(t,["googleServiceAccountConfig"]);s!=null&&c(e,["googleServiceAccountConfig"],s);const a=u(t,["httpBasicAuthConfig"]);a!=null&&c(e,["httpBasicAuthConfig"],a);const f=u(t,["oauthConfig"]);f!=null&&c(e,["oauthConfig"],f);const m=u(t,["oidcConfig"]);return m!=null&&c(e,["oidcConfig"],m),e}function zM(t){const e={},i=u(t,["authConfig"]);return i!=null&&c(e,["authConfig"],FM(i)),e}function $M(){return{}}function JM(t){const e={},i=u(t,["environment"]);return i!=null&&c(e,["environment"],i),e}function Nv(t){const e={},i=u(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>LM(S))),c(e,["functionDeclarations"],T)}const o=u(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);const s=u(t,["googleSearch"]);s!=null&&c(e,["googleSearch"],qM(s));const a=u(t,["googleSearchRetrieval"]);a!=null&&c(e,["googleSearchRetrieval"],BM(a));const f=u(t,["enterpriseWebSearch"]);f!=null&&c(e,["enterpriseWebSearch"],GM(f));const m=u(t,["googleMaps"]);m!=null&&c(e,["googleMaps"],zM(m)),u(t,["urlContext"])!=null&&c(e,["urlContext"],$M());const h=u(t,["computerUse"]);h!=null&&c(e,["computerUse"],JM(h));const y=u(t,["codeExecution"]);return y!=null&&c(e,["codeExecution"],y),e}function YM(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function KM(t){const e={},i=u(t,["latitude"]);i!=null&&c(e,["latitude"],i);const o=u(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function XM(t){const e={},i=u(t,["latLng"]);i!=null&&c(e,["latLng"],KM(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function QM(t){const e={},i=u(t,["functionCallingConfig"]);i!=null&&c(e,["functionCallingConfig"],YM(i));const o=u(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],XM(o)),e}function jM(t){const e={},i=u(t,["voiceName"]);return i!=null&&c(e,["voiceName"],i),e}function WM(t){const e={},i=u(t,["prebuiltVoiceConfig"]);return i!=null&&c(e,["prebuiltVoiceConfig"],jM(i)),e}function ZM(t){const e={},i=u(t,["voiceConfig"]);if(i!=null&&c(e,["voiceConfig"],WM(i)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function eN(t){const e={},i=u(t,["includeThoughts"]);i!=null&&c(e,["includeThoughts"],i);const o=u(t,["thinkingBudget"]);return o!=null&&c(e,["thinkingBudget"],o),e}function tN(t,e,i){const o={},s=u(e,["systemInstruction"]);i!==void 0&&s!=null&&c(i,["systemInstruction"],Fo(mt(s)));const a=u(e,["temperature"]);a!=null&&c(o,["temperature"],a);const f=u(e,["topP"]);f!=null&&c(o,["topP"],f);const m=u(e,["topK"]);m!=null&&c(o,["topK"],m);const g=u(e,["candidateCount"]);g!=null&&c(o,["candidateCount"],g);const h=u(e,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const y=u(e,["stopSequences"]);y!=null&&c(o,["stopSequences"],y);const T=u(e,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const S=u(e,["logprobs"]);S!=null&&c(o,["logprobs"],S);const w=u(e,["presencePenalty"]);w!=null&&c(o,["presencePenalty"],w);const E=u(e,["frequencyPenalty"]);E!=null&&c(o,["frequencyPenalty"],E);const b=u(e,["seed"]);b!=null&&c(o,["seed"],b);const M=u(e,["responseMimeType"]);M!=null&&c(o,["responseMimeType"],M);const L=u(e,["responseSchema"]);L!=null&&c(o,["responseSchema"],UM(_d(L)));const N=u(e,["responseJsonSchema"]);N!=null&&c(o,["responseJsonSchema"],N);const I=u(e,["routingConfig"]);I!=null&&c(o,["routingConfig"],I);const $=u(e,["modelSelectionConfig"]);$!=null&&c(o,["modelConfig"],IM($));const G=u(e,["safetySettings"]);if(i!==void 0&&G!=null){let Re=G;Array.isArray(Re)&&(Re=Re.map(B=>PM(B))),c(i,["safetySettings"],Re)}const Y=u(e,["tools"]);if(i!==void 0&&Y!=null){let Re=Go(Y);Array.isArray(Re)&&(Re=Re.map(B=>Nv(Bo(B)))),c(i,["tools"],Re)}const X=u(e,["toolConfig"]);i!==void 0&&X!=null&&c(i,["toolConfig"],QM(X));const ge=u(e,["labels"]);i!==void 0&&ge!=null&&c(i,["labels"],ge);const Z=u(e,["cachedContent"]);i!==void 0&&Z!=null&&c(i,["cachedContent"],Mn(t,Z));const fe=u(e,["responseModalities"]);fe!=null&&c(o,["responseModalities"],fe);const de=u(e,["mediaResolution"]);de!=null&&c(o,["mediaResolution"],de);const Ae=u(e,["speechConfig"]);Ae!=null&&c(o,["speechConfig"],ZM(xd(Ae)));const kt=u(e,["audioTimestamp"]);kt!=null&&c(o,["audioTimestamp"],kt);const Dt=u(e,["thinkingConfig"]);return Dt!=null&&c(o,["thinkingConfig"],eN(Dt)),o}function dy(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["contents"]);if(s!=null){let f=zt(s);Array.isArray(f)&&(f=f.map(m=>Fo(m))),c(i,["contents"],f)}const a=u(e,["config"]);return a!=null&&c(i,["generationConfig"],tN(t,a,i)),i}function nN(t,e){const i={},o=u(t,["taskType"]);e!==void 0&&o!=null&&c(e,["instances[]","task_type"],o);const s=u(t,["title"]);e!==void 0&&s!=null&&c(e,["instances[]","title"],s);const a=u(t,["outputDimensionality"]);e!==void 0&&a!=null&&c(e,["parameters","outputDimensionality"],a);const f=u(t,["mimeType"]);e!==void 0&&f!=null&&c(e,["instances[]","mimeType"],f);const m=u(t,["autoTruncate"]);return e!==void 0&&m!=null&&c(e,["parameters","autoTruncate"],m),i}function iN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["contents"]);s!=null&&c(i,["instances[]","content"],fv(t,s));const a=u(e,["config"]);return a!=null&&c(i,["config"],nN(a,i)),i}function oN(t,e){const i={},o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&c(e,["parameters","negativePrompt"],s);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a);const f=u(t,["aspectRatio"]);e!==void 0&&f!=null&&c(e,["parameters","aspectRatio"],f);const m=u(t,["guidanceScale"]);e!==void 0&&m!=null&&c(e,["parameters","guidanceScale"],m);const g=u(t,["seed"]);e!==void 0&&g!=null&&c(e,["parameters","seed"],g);const h=u(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&c(e,["parameters","safetySetting"],h);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&c(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&c(e,["parameters","includeSafetyAttributes"],T);const S=u(t,["includeRaiReason"]);e!==void 0&&S!=null&&c(e,["parameters","includeRaiReason"],S);const w=u(t,["language"]);e!==void 0&&w!=null&&c(e,["parameters","language"],w);const E=u(t,["outputMimeType"]);e!==void 0&&E!=null&&c(e,["parameters","outputOptions","mimeType"],E);const b=u(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&c(e,["parameters","outputOptions","compressionQuality"],b);const M=u(t,["addWatermark"]);e!==void 0&&M!=null&&c(e,["parameters","addWatermark"],M);const L=u(t,["imageSize"]);e!==void 0&&L!=null&&c(e,["parameters","sampleImageSize"],L);const N=u(t,["enhancePrompt"]);return e!==void 0&&N!=null&&c(e,["parameters","enhancePrompt"],N),i}function rN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["prompt"]);s!=null&&c(i,["instances[0]","prompt"],s);const a=u(e,["config"]);return a!=null&&c(i,["config"],oN(a,i)),i}function zo(t){const e={},i=u(t,["gcsUri"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["imageBytes"]);o!=null&&c(e,["bytesBase64Encoded"],ki(o));const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function sN(t){const e={},i=u(t,["maskMode"]);i!=null&&c(e,["maskMode"],i);const o=u(t,["segmentationClasses"]);o!=null&&c(e,["maskClasses"],o);const s=u(t,["maskDilation"]);return s!=null&&c(e,["dilation"],s),e}function lN(t){const e={},i=u(t,["controlType"]);i!=null&&c(e,["controlType"],i);const o=u(t,["enableControlImageComputation"]);return o!=null&&c(e,["computeControl"],o),e}function aN(t){const e={},i=u(t,["styleDescription"]);return i!=null&&c(e,["styleDescription"],i),e}function uN(t){const e={},i=u(t,["subjectType"]);i!=null&&c(e,["subjectType"],i);const o=u(t,["subjectDescription"]);return o!=null&&c(e,["subjectDescription"],o),e}function cN(t){const e={},i=u(t,["referenceImage"]);i!=null&&c(e,["referenceImage"],zo(i));const o=u(t,["referenceId"]);o!=null&&c(e,["referenceId"],o);const s=u(t,["referenceType"]);s!=null&&c(e,["referenceType"],s);const a=u(t,["maskImageConfig"]);a!=null&&c(e,["maskImageConfig"],sN(a));const f=u(t,["controlImageConfig"]);f!=null&&c(e,["controlImageConfig"],lN(f));const m=u(t,["styleImageConfig"]);m!=null&&c(e,["styleImageConfig"],aN(m));const g=u(t,["subjectImageConfig"]);return g!=null&&c(e,["subjectImageConfig"],uN(g)),e}function dN(t,e){const i={},o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const s=u(t,["negativePrompt"]);e!==void 0&&s!=null&&c(e,["parameters","negativePrompt"],s);const a=u(t,["numberOfImages"]);e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a);const f=u(t,["aspectRatio"]);e!==void 0&&f!=null&&c(e,["parameters","aspectRatio"],f);const m=u(t,["guidanceScale"]);e!==void 0&&m!=null&&c(e,["parameters","guidanceScale"],m);const g=u(t,["seed"]);e!==void 0&&g!=null&&c(e,["parameters","seed"],g);const h=u(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&c(e,["parameters","safetySetting"],h);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&c(e,["parameters","personGeneration"],y);const T=u(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&c(e,["parameters","includeSafetyAttributes"],T);const S=u(t,["includeRaiReason"]);e!==void 0&&S!=null&&c(e,["parameters","includeRaiReason"],S);const w=u(t,["language"]);e!==void 0&&w!=null&&c(e,["parameters","language"],w);const E=u(t,["outputMimeType"]);e!==void 0&&E!=null&&c(e,["parameters","outputOptions","mimeType"],E);const b=u(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&c(e,["parameters","outputOptions","compressionQuality"],b);const M=u(t,["addWatermark"]);e!==void 0&&M!=null&&c(e,["parameters","addWatermark"],M);const L=u(t,["editMode"]);e!==void 0&&L!=null&&c(e,["parameters","editMode"],L);const N=u(t,["baseSteps"]);return e!==void 0&&N!=null&&c(e,["parameters","editConfig","baseSteps"],N),i}function fN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["prompt"]);s!=null&&c(i,["instances[0]","prompt"],s);const a=u(e,["referenceImages"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>cN(g))),c(i,["instances[0]","referenceImages"],m)}const f=u(e,["config"]);return f!=null&&c(i,["config"],dN(f,i)),i}function hN(t,e){const i={},o=u(t,["includeRaiReason"]);e!==void 0&&o!=null&&c(e,["parameters","includeRaiReason"],o);const s=u(t,["outputMimeType"]);e!==void 0&&s!=null&&c(e,["parameters","outputOptions","mimeType"],s);const a=u(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&c(e,["parameters","outputOptions","compressionQuality"],a);const f=u(t,["enhanceInputImage"]);e!==void 0&&f!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],f);const m=u(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const g=u(t,["numberOfImages"]);e!==void 0&&g!=null&&c(e,["parameters","sampleCount"],g);const h=u(t,["mode"]);return e!==void 0&&h!=null&&c(e,["parameters","mode"],h),i}function mN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["image"]);s!=null&&c(i,["instances[0]","image"],zo(s));const a=u(e,["upscaleFactor"]);a!=null&&c(i,["parameters","upscaleConfig","upscaleFactor"],a);const f=u(e,["config"]);return f!=null&&c(i,["config"],hN(f,i)),i}function pN(t){const e={},i=u(t,["productImage"]);return i!=null&&c(e,["image"],zo(i)),e}function gN(t,e){const i={},o=u(t,["prompt"]);e!==void 0&&o!=null&&c(e,["instances[0]","prompt"],o);const s=u(t,["personImage"]);e!==void 0&&s!=null&&c(e,["instances[0]","personImage","image"],zo(s));const a=u(t,["productImages"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>pN(m))),c(e,["instances[0]","productImages"],f)}return i}function yN(t,e){const i={},o=u(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const s=u(t,["baseSteps"]);e!==void 0&&s!=null&&c(e,["parameters","editConfig","baseSteps"],s);const a=u(t,["outputGcsUri"]);e!==void 0&&a!=null&&c(e,["parameters","storageUri"],a);const f=u(t,["seed"]);e!==void 0&&f!=null&&c(e,["parameters","seed"],f);const m=u(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&c(e,["parameters","safetySetting"],m);const g=u(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const h=u(t,["outputMimeType"]);e!==void 0&&h!=null&&c(e,["parameters","outputOptions","mimeType"],h);const y=u(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&c(e,["parameters","outputOptions","compressionQuality"],y);const T=u(t,["enhancePrompt"]);return e!==void 0&&T!=null&&c(e,["parameters","enhancePrompt"],T),i}function vN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["source"]);s!=null&&c(i,["config"],gN(s,i));const a=u(e,["config"]);return a!=null&&c(i,["config"],yN(a,i)),i}function TN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","name"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function SN(t,e,i){const o={},s=u(e,["pageSize"]);i!==void 0&&s!=null&&c(i,["_query","pageSize"],s);const a=u(e,["pageToken"]);i!==void 0&&a!=null&&c(i,["_query","pageToken"],a);const f=u(e,["filter"]);i!==void 0&&f!=null&&c(i,["_query","filter"],f);const m=u(e,["queryBase"]);return i!==void 0&&m!=null&&c(i,["_url","models_url"],pv(t,m)),o}function _N(t,e){const i={},o=u(e,["config"]);return o!=null&&c(i,["config"],SN(t,o,i)),i}function xN(t,e){const i={},o=u(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const s=u(t,["description"]);e!==void 0&&s!=null&&c(e,["description"],s);const a=u(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&c(e,["defaultCheckpointId"],a),i}function CN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],xN(s,i)),i}function wN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","name"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],s),i}function EN(t,e){const i={},o=u(t,["systemInstruction"]);e!==void 0&&o!=null&&c(e,["systemInstruction"],Fo(mt(o)));const s=u(t,["tools"]);if(e!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>Nv(m))),c(e,["tools"],f)}const a=u(t,["generationConfig"]);return e!==void 0&&a!=null&&c(e,["generationConfig"],a),i}function bN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["contents"]);if(s!=null){let f=zt(s);Array.isArray(f)&&(f=f.map(m=>Fo(m))),c(i,["contents"],f)}const a=u(e,["config"]);return a!=null&&c(i,["config"],EN(a,i)),i}function AN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["contents"]);if(s!=null){let f=zt(s);Array.isArray(f)&&(f=f.map(m=>Fo(m))),c(i,["contents"],f)}const a=u(e,["config"]);return a!=null&&c(i,["config"],a),i}function RN(t){const e={},i=u(t,["uri"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["videoBytes"]);o!=null&&c(e,["bytesBase64Encoded"],ki(o));const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function MN(t,e){const i={},o=u(t,["numberOfVideos"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const s=u(t,["outputGcsUri"]);e!==void 0&&s!=null&&c(e,["parameters","storageUri"],s);const a=u(t,["fps"]);e!==void 0&&a!=null&&c(e,["parameters","fps"],a);const f=u(t,["durationSeconds"]);e!==void 0&&f!=null&&c(e,["parameters","durationSeconds"],f);const m=u(t,["seed"]);e!==void 0&&m!=null&&c(e,["parameters","seed"],m);const g=u(t,["aspectRatio"]);e!==void 0&&g!=null&&c(e,["parameters","aspectRatio"],g);const h=u(t,["resolution"]);e!==void 0&&h!=null&&c(e,["parameters","resolution"],h);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&c(e,["parameters","personGeneration"],y);const T=u(t,["pubsubTopic"]);e!==void 0&&T!=null&&c(e,["parameters","pubsubTopic"],T);const S=u(t,["negativePrompt"]);e!==void 0&&S!=null&&c(e,["parameters","negativePrompt"],S);const w=u(t,["enhancePrompt"]);e!==void 0&&w!=null&&c(e,["parameters","enhancePrompt"],w);const E=u(t,["generateAudio"]);e!==void 0&&E!=null&&c(e,["parameters","generateAudio"],E);const b=u(t,["lastFrame"]);e!==void 0&&b!=null&&c(e,["instances[0]","lastFrame"],zo(b));const M=u(t,["compressionQuality"]);return e!==void 0&&M!=null&&c(e,["parameters","compressionQuality"],M),i}function NN(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["_url","model"],Ne(t,o));const s=u(e,["prompt"]);s!=null&&c(i,["instances[0]","prompt"],s);const a=u(e,["image"]);a!=null&&c(i,["instances[0]","image"],zo(a));const f=u(e,["video"]);f!=null&&c(i,["instances[0]","video"],RN(f));const m=u(e,["config"]);return m!=null&&c(i,["config"],MN(m,i)),i}function kN(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function DN(t){const e={},i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function UN(t){const e={},i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function IN(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],kN(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],DN(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],UN(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function PN(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>IN(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function LN(t){const e={},i=u(t,["citationSources"]);return i!=null&&c(e,["citations"],i),e}function ON(t){const e={},i=u(t,["retrievedUrl"]);i!=null&&c(e,["retrievedUrl"],i);const o=u(t,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function qN(t){const e={},i=u(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ON(s))),c(e,["urlMetadata"],o)}return e}function VN(t){const e={},i=u(t,["content"]);i!=null&&c(e,["content"],PN(i));const o=u(t,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],LN(o));const s=u(t,["tokenCount"]);s!=null&&c(e,["tokenCount"],s);const a=u(t,["finishReason"]);a!=null&&c(e,["finishReason"],a);const f=u(t,["urlContextMetadata"]);f!=null&&c(e,["urlContextMetadata"],qN(f));const m=u(t,["avgLogprobs"]);m!=null&&c(e,["avgLogprobs"],m);const g=u(t,["groundingMetadata"]);g!=null&&c(e,["groundingMetadata"],g);const h=u(t,["index"]);h!=null&&c(e,["index"],h);const y=u(t,["logprobsResult"]);y!=null&&c(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&c(e,["safetyRatings"],T),e}function fy(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(h=>VN(h))),c(e,["candidates"],g)}const s=u(t,["modelVersion"]);s!=null&&c(e,["modelVersion"],s);const a=u(t,["promptFeedback"]);a!=null&&c(e,["promptFeedback"],a);const f=u(t,["responseId"]);f!=null&&c(e,["responseId"],f);const m=u(t,["usageMetadata"]);return m!=null&&c(e,["usageMetadata"],m),e}function BN(t){const e={},i=u(t,["values"]);return i!=null&&c(e,["values"],i),e}function GN(){return{}}function HN(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>BN(f))),c(e,["embeddings"],a)}return u(t,["metadata"])!=null&&c(e,["metadata"],GN()),e}function FN(t){const e={},i=u(t,["bytesBase64Encoded"]);i!=null&&c(e,["imageBytes"],ki(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function kv(t){const e={},i=u(t,["safetyAttributes","categories"]);i!=null&&c(e,["categories"],i);const o=u(t,["safetyAttributes","scores"]);o!=null&&c(e,["scores"],o);const s=u(t,["contentType"]);return s!=null&&c(e,["contentType"],s),e}function zN(t){const e={},i=u(t,["_self"]);i!=null&&c(e,["image"],FN(i));const o=u(t,["raiFilteredReason"]);o!=null&&c(e,["raiFilteredReason"],o);const s=u(t,["_self"]);return s!=null&&c(e,["safetyAttributes"],kv(s)),e}function $N(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>zN(f))),c(e,["generatedImages"],a)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&c(e,["positivePromptSafetyAttributes"],kv(s)),e}function JN(t){const e={},i=u(t,["baseModel"]);i!=null&&c(e,["baseModel"],i);const o=u(t,["createTime"]);o!=null&&c(e,["createTime"],o);const s=u(t,["updateTime"]);return s!=null&&c(e,["updateTime"],s),e}function nd(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["displayName"]);o!=null&&c(e,["displayName"],o);const s=u(t,["description"]);s!=null&&c(e,["description"],s);const a=u(t,["version"]);a!=null&&c(e,["version"],a);const f=u(t,["_self"]);f!=null&&c(e,["tunedModelInfo"],JN(f));const m=u(t,["inputTokenLimit"]);m!=null&&c(e,["inputTokenLimit"],m);const g=u(t,["outputTokenLimit"]);g!=null&&c(e,["outputTokenLimit"],g);const h=u(t,["supportedGenerationMethods"]);return h!=null&&c(e,["supportedActions"],h),e}function YN(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["_self"]);if(s!=null){let a=gv(s);Array.isArray(a)&&(a=a.map(f=>nd(f))),c(e,["models"],a)}return e}function KN(){return{}}function XN(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["totalTokens"]);o!=null&&c(e,["totalTokens"],o);const s=u(t,["cachedContentTokenCount"]);return s!=null&&c(e,["cachedContentTokenCount"],s),e}function QN(t){const e={},i=u(t,["video","uri"]);i!=null&&c(e,["uri"],i);const o=u(t,["video","encodedVideo"]);o!=null&&c(e,["videoBytes"],ki(o));const s=u(t,["encoding"]);return s!=null&&c(e,["mimeType"],s),e}function jN(t){const e={},i=u(t,["_self"]);return i!=null&&c(e,["video"],QN(i)),e}function WN(t){const e={},i=u(t,["generatedSamples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>jN(f))),c(e,["generatedVideos"],a)}const o=u(t,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&c(e,["raiMediaFilteredReasons"],s),e}function ZN(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["metadata"]);o!=null&&c(e,["metadata"],o);const s=u(t,["done"]);s!=null&&c(e,["done"],s);const a=u(t,["error"]);a!=null&&c(e,["error"],a);const f=u(t,["response","generateVideoResponse"]);return f!=null&&c(e,["response"],WN(f)),e}function e1(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function t1(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["data"]);o!=null&&c(e,["data"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function n1(t){const e={},i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function i1(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],e1(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],t1(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],n1(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function o1(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>i1(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function r1(t){const e={},i=u(t,["citations"]);return i!=null&&c(e,["citations"],i),e}function s1(t){const e={},i=u(t,["retrievedUrl"]);i!=null&&c(e,["retrievedUrl"],i);const o=u(t,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function l1(t){const e={},i=u(t,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s1(s))),c(e,["urlMetadata"],o)}return e}function a1(t){const e={},i=u(t,["content"]);i!=null&&c(e,["content"],o1(i));const o=u(t,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],r1(o));const s=u(t,["finishMessage"]);s!=null&&c(e,["finishMessage"],s);const a=u(t,["finishReason"]);a!=null&&c(e,["finishReason"],a);const f=u(t,["urlContextMetadata"]);f!=null&&c(e,["urlContextMetadata"],l1(f));const m=u(t,["avgLogprobs"]);m!=null&&c(e,["avgLogprobs"],m);const g=u(t,["groundingMetadata"]);g!=null&&c(e,["groundingMetadata"],g);const h=u(t,["index"]);h!=null&&c(e,["index"],h);const y=u(t,["logprobsResult"]);y!=null&&c(e,["logprobsResult"],y);const T=u(t,["safetyRatings"]);return T!=null&&c(e,["safetyRatings"],T),e}function hy(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>a1(y))),c(e,["candidates"],h)}const s=u(t,["createTime"]);s!=null&&c(e,["createTime"],s);const a=u(t,["modelVersion"]);a!=null&&c(e,["modelVersion"],a);const f=u(t,["promptFeedback"]);f!=null&&c(e,["promptFeedback"],f);const m=u(t,["responseId"]);m!=null&&c(e,["responseId"],m);const g=u(t,["usageMetadata"]);return g!=null&&c(e,["usageMetadata"],g),e}function u1(t){const e={},i=u(t,["truncated"]);i!=null&&c(e,["truncated"],i);const o=u(t,["token_count"]);return o!=null&&c(e,["tokenCount"],o),e}function c1(t){const e={},i=u(t,["values"]);i!=null&&c(e,["values"],i);const o=u(t,["statistics"]);return o!=null&&c(e,["statistics"],u1(o)),e}function d1(t){const e={},i=u(t,["billableCharacterCount"]);return i!=null&&c(e,["billableCharacterCount"],i),e}function f1(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["predictions[]","embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>c1(f))),c(e,["embeddings"],a)}const s=u(t,["metadata"]);return s!=null&&c(e,["metadata"],d1(s)),e}function h1(t){const e={},i=u(t,["gcsUri"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["bytesBase64Encoded"]);o!=null&&c(e,["imageBytes"],ki(o));const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function Dv(t){const e={},i=u(t,["safetyAttributes","categories"]);i!=null&&c(e,["categories"],i);const o=u(t,["safetyAttributes","scores"]);o!=null&&c(e,["scores"],o);const s=u(t,["contentType"]);return s!=null&&c(e,["contentType"],s),e}function ea(t){const e={},i=u(t,["_self"]);i!=null&&c(e,["image"],h1(i));const o=u(t,["raiFilteredReason"]);o!=null&&c(e,["raiFilteredReason"],o);const s=u(t,["_self"]);s!=null&&c(e,["safetyAttributes"],Dv(s));const a=u(t,["prompt"]);return a!=null&&c(e,["enhancedPrompt"],a),e}function m1(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>ea(f))),c(e,["generatedImages"],a)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&c(e,["positivePromptSafetyAttributes"],Dv(s)),e}function p1(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>ea(a))),c(e,["generatedImages"],s)}return e}function g1(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>ea(a))),c(e,["generatedImages"],s)}return e}function y1(t){const e={},i=u(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ea(s))),c(e,["generatedImages"],o)}return e}function v1(t){const e={},i=u(t,["endpoint"]);i!=null&&c(e,["name"],i);const o=u(t,["deployedModelId"]);return o!=null&&c(e,["deployedModelId"],o),e}function T1(t){const e={},i=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&c(e,["baseModel"],i);const o=u(t,["createTime"]);o!=null&&c(e,["createTime"],o);const s=u(t,["updateTime"]);return s!=null&&c(e,["updateTime"],s),e}function S1(t){const e={},i=u(t,["checkpointId"]);i!=null&&c(e,["checkpointId"],i);const o=u(t,["epoch"]);o!=null&&c(e,["epoch"],o);const s=u(t,["step"]);return s!=null&&c(e,["step"],s),e}function id(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["displayName"]);o!=null&&c(e,["displayName"],o);const s=u(t,["description"]);s!=null&&c(e,["description"],s);const a=u(t,["versionId"]);a!=null&&c(e,["version"],a);const f=u(t,["deployedModels"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>v1(S))),c(e,["endpoints"],T)}const m=u(t,["labels"]);m!=null&&c(e,["labels"],m);const g=u(t,["_self"]);g!=null&&c(e,["tunedModelInfo"],T1(g));const h=u(t,["defaultCheckpointId"]);h!=null&&c(e,["defaultCheckpointId"],h);const y=u(t,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>S1(S))),c(e,["checkpoints"],T)}return e}function _1(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["_self"]);if(s!=null){let a=gv(s);Array.isArray(a)&&(a=a.map(f=>id(f))),c(e,["models"],a)}return e}function x1(){return{}}function C1(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["totalTokens"]);return o!=null&&c(e,["totalTokens"],o),e}function w1(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["tokensInfo"]);return o!=null&&c(e,["tokensInfo"],o),e}function E1(t){const e={},i=u(t,["gcsUri"]);i!=null&&c(e,["uri"],i);const o=u(t,["bytesBase64Encoded"]);o!=null&&c(e,["videoBytes"],ki(o));const s=u(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}function b1(t){const e={},i=u(t,["_self"]);return i!=null&&c(e,["video"],E1(i)),e}function A1(t){const e={},i=u(t,["videos"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>b1(f))),c(e,["generatedVideos"],a)}const o=u(t,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);const s=u(t,["raiMediaFilteredReasons"]);return s!=null&&c(e,["raiMediaFilteredReasons"],s),e}function R1(t){const e={},i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["metadata"]);o!=null&&c(e,["metadata"],o);const s=u(t,["done"]);s!=null&&c(e,["done"],s);const a=u(t,["error"]);a!=null&&c(e,["error"],a);const f=u(t,["response"]);return f!=null&&c(e,["response"],A1(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M1="Content-Type",N1="X-Server-Timeout",k1="User-Agent",od="x-goog-api-client",D1="1.14.0",U1=`google-genai-sdk/${D1}`,I1="v1beta1",P1="v1beta",my=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class L1{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:I1,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:P1,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const s=[this.getRequestUrlInternal(i)];return o&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[f,m]of Object.entries(e.queryParams))s.searchParams.append(f,String(m));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,i,e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(i))typeof a=="object"?o[s]=Object.assign(Object.assign({},o[s]),a):a!==void 0&&(o[s]=a);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,i,o);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,i,e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o){if(i&&i.timeout||o){const s=new AbortController,a=s.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>s.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=a}return i&&i.extraBody!==null&&O1(e,i.extraBody),e.headers=await this.getHeadersInternal(i),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async s=>(await py(s),new Qc(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async s=>(await py(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var i;return Io(this,arguments,function*(){const s=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let f="";for(;;){const{done:m,value:g}=yield Be(s.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=a.decode(g,{stream:!0});try{const T=JSON.parse(h);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),w=S.status,E=S.code,b=`got status: ${w}. ${JSON.stringify(T)}`;if(E>=400&&E<600)throw new Wl({message:b,status:E})}}catch(T){if(T.name==="ApiError")throw T}f+=h;let y=f.match(my);for(;y;){const T=y[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Be(new Qc(S)),f=f.slice(y[0].length),y=f.match(my)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=U1+" "+this.clientOptions.userAgentExtra;return e[k1]=i,e[od]=i,e[M1]="application/json",e}async getHeadersInternal(e){const i=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))i.append(o,s);e.timeout&&e.timeout>0&&i.append(N1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(e,i){var o;const s={};i!=null&&(s.mimeType=i.mimeType,s.name=i.name,s.displayName=i.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,f=await a.stat(e);s.sizeBytes=String(f.size);const m=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:f.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=m;const g=await this.fetchUploadUrl(s,i);return a.upload(e,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var o;let s={};i!=null&&i.httpOptions?s=i.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},f=await this.request({path:ne("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:s});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function py(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(o);throw i>=400&&i<600?new Wl({message:s,status:i}):new Error(s)}}function O1(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))i=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(a,f){const m=Object.assign({},a);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const h=f[g],y=m[g];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?m[g]=o(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),m[g]=h)}return m}const s=o(i,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q1="mcp_used/unknown";let V1=!1;function Uv(t){for(const e of t)if(B1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return V1}function Iv(t){var e;const i=(e=t[od])!==null&&e!==void 0?e:"";t[od]=(i+` ${q1}`).trimStart()}function B1(t){return t!==null&&typeof t=="object"&&t instanceof wd}function G1(t,e=100){return Io(this,arguments,function*(){let o,s=0;for(;s<e;){const a=yield Be(t.listTools({cursor:o}));for(const f of a.tools)yield yield Be(f),s++;if(!a.nextCursor)break;o=a.nextCursor}})}class wd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new wd(e,i)}async initialize(){var e,i,o,s;if(this.mcpTools.length>0)return;const a={},f=[];for(const y of this.mcpClients)try{for(var m=!0,g=(i=void 0,rs(G1(y))),h;h=await g.next(),e=h.done,!e;m=!0){s=h.value,m=!1;const T=s;f.push(T);const S=T.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=y}}catch(T){i={error:T}}finally{try{!m&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),ww(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[o.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const f=await s.callTool({name:o.name,arguments:o.args},void 0,a);i.push({functionResponse:{name:o.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function H1(t,e,i){const o=new gw;let s;i.data instanceof Blob?s=JSON.parse(await i.data.text()):s=JSON.parse(i.data);const a=MR(s);Object.assign(o,a),e(o)}class F1{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),f=J1(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),g=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${m}`;let h=()=>{};const y=new Promise(I=>{h=I}),T=e.callbacks,S=function(){h({})},w=this.apiClient,E={onopen:S,onmessage:I=>{H1(w,T.onmessage,I)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(I){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(I){}},b=this.webSocketFactory.create(g,$1(f),E);b.connect(),await y;const M=Ne(this.apiClient,e.model),L=Av({model:M}),N=td({setup:L});return b.send(JSON.stringify(N)),new z1(b,this.apiClient)}}class z1{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=bA(e),o=Rv(i);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=AA(e),o=td(i);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const i=td({playbackControl:e});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Do.PLAY)}pause(){this.sendPlaybackControl(Do.PAUSE)}stop(){this.sendPlaybackControl(Do.STOP)}resetContext(){this.sendPlaybackControl(Do.RESET_CONTEXT)}close(){this.conn.close()}}function $1(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function J1(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function K1(t,e,i){const o=new pw;let s;i.data instanceof Blob?s=await i.data.text():i.data instanceof ArrayBuffer?s=new TextDecoder().decode(i.data):s=i.data;const a=JSON.parse(s);if(t.isVertexAI()){const f=FR(a);Object.assign(o,f)}else{const f=SR(a);Object.assign(o,f)}e(o)}class X1{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new F1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,s,a,f,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Uv(e.config.tools)&&Iv(T);const S=Z1(T);if(this.apiClient.isVertexAI())y=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const Z=this.apiClient.getApiKey();let fe="BidiGenerateContent",de="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",de="access_token"),y=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${fe}?${de}=${Z}`}let w=()=>{};const E=new Promise(Z=>{w=Z}),b=e.callbacks,M=function(){var Z;(Z=b==null?void 0:b.onopen)===null||Z===void 0||Z.call(b),w({})},L=this.apiClient,N={onopen:M,onmessage:Z=>{K1(L,b.onmessage,Z)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(o=b==null?void 0:b.onclose)!==null&&o!==void 0?o:function(Z){}},I=this.webSocketFactory.create(y,W1(S),N);I.connect(),await E;let $=Ne(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const Z=this.apiClient.getProject(),fe=this.apiClient.getLocation();$=`projects/${Z}/locations/${fe}/`+$}let G={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Fl.AUDIO]}:e.config.responseModalities=[Fl.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(m=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[],X=[];for(const Z of Y)if(this.isCallableTool(Z)){const fe=Z;X.push(await fe.tool())}else X.push(Z);X.length>0&&(e.config.tools=X);const ge={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=tR(this.apiClient,ge):G=xA(this.apiClient,ge),delete G.config,I.send(JSON.stringify(G)),new j1(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Q1={turnComplete:!0};class j1{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=zt(i.turns),e.isVertexAI()?o=o.map(s=>Fo(s)):o=o.map(s=>Zl(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const a of o){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Y1)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Q1),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:oR(e)}:i={realtimeInput:EA(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function W1(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function Z1(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gy=10;function yy(t){var e,i,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const f of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Po(f)){s=!0;break}if(!s)return!0;const a=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Po(t){return"callTool"in t&&typeof t.callTool=="function"}function ek(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(s=>Po(s)))!==null&&o!==void 0?o:!1}function tk(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(s=>!Po(s)))!==null&&o!==void 0?o:!1}function vy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nk extends Ni{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,s,a,f,m;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!ek(i)||yy(i.config))return await this.generateContentInternal(g);if(tk(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,y;const T=zt(g.contents),S=(a=(s=(o=g.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:gy;let w=0;for(;w<S&&(h=await this.generateContentInternal(g),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,b=[];for(const M of(m=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[])if(Po(M)){const N=await M.callTool(h.functionCalls);b.push(...N)}w++,y={role:"user",parts:b},g.contents=zt(g.contents),g.contents.push(E),g.contents.push(y),vy(g.config)&&(T.push(E),T.push(y))}return vy(g.config)&&(h.automaticFunctionCallingHistory=T),h},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),yy(i.config)){const o=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var s;let a;const f=[];if(o!=null&&o.generatedImages)for(const g of o.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((s=g==null?void 0:g.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=g==null?void 0:g.safetyAttributes:f.push(g);let m;return a?m={generatedImages:f,positivePromptSafetyAttributes:a,sdkHttpResponse:o.sdkHttpResponse}:m={generatedImages:f,sdkHttpResponse:o.sdkHttpResponse},m}),this.list=async i=>{var o;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((o=f.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new hs(Ai.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(f),f)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const s={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(s)},this.generateVideos=async i=>await this.generateVideosInternal(i)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,s;const a=(i=e.config)===null||i===void 0?void 0:i.tools;if(!a)return e;const f=await Promise.all(a.map(async g=>Po(g)?await g.tool():g)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(m.config.tools=f,e.config&&e.config.tools&&Uv(e.config.tools)){const g=(s=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Iv(h),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return m}async initAfcToolsMap(e){var i,o,s;const a=new Map;for(const f of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(Po(f)){const m=f,g=await m.tool();for(const h of(s=g.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,m)}}return a}async processAfcStream(e){var i,o,s;const a=(s=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:gy;let f=!1,m=0;const g=await this.initAfcToolsMap(e);return(function(h,y,T){var S,w;return Io(this,arguments,function*(){for(var E,b,M,L;m<a;){f&&(m++,f=!1);const G=yield Be(h.processParamsMaybeAddMcpUsage(T)),Y=yield Be(h.generateContentStreamInternal(G)),X=[],ge=[];try{for(var N=!0,I=(b=void 0,rs(Y)),$;$=yield Be(I.next()),E=$.done,!E;N=!0){L=$.value,N=!1;const Z=L;if(yield yield Be(Z),Z.candidates&&(!((S=Z.candidates[0])===null||S===void 0)&&S.content)){ge.push(Z.candidates[0].content);for(const fe of(w=Z.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(m<a&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(fe.functionCall.name)){const de=yield Be(y.get(fe.functionCall.name).callTool([fe.functionCall]));X.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(Z){b={error:Z}}finally{try{!N&&!E&&(M=I.return)&&(yield Be(M.call(I)))}finally{if(b)throw b.error}}if(X.length>0){f=!0;const Z=new Zr;Z.candidates=[{content:{role:"user",parts:X}}],yield yield Be(Z);const fe=[];fe.push(...ge),fe.push({role:"user",parts:X});const de=zt(T.contents).concat(fe);T.contents=de}else break}})})(this,g,e)}async generateContentInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=dy(this.apiClient,e);return m=ne("{model}:generateContent",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=hy(y),S=new Zr;return Object.assign(S,T),S})}else{const h=cy(this.apiClient,e);return m=ne("{model}:generateContent",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=fy(y),S=new Zr;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=dy(this.apiClient,e);return m=ne("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.requestStream({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),f.then(function(T){return Io(this,arguments,function*(){var S,w,E,b;try{for(var M=!0,L=rs(T),N;N=yield Be(L.next()),S=N.done,!S;M=!0){b=N.value,M=!1;const I=b,$=hy(yield Be(I.json()));$.sdkHttpResponse={headers:I.headers};const G=new Zr;Object.assign(G,$),yield yield Be(G)}}catch(I){w={error:I}}finally{try{!M&&!S&&(E=L.return)&&(yield Be(E.call(L)))}finally{if(w)throw w.error}}})})}else{const h=cy(this.apiClient,e);return m=ne("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.requestStream({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),f.then(function(T){return Io(this,arguments,function*(){var S,w,E,b;try{for(var M=!0,L=rs(T),N;N=yield Be(L.next()),S=N.done,!S;M=!0){b=N.value,M=!1;const I=b,$=fy(yield Be(I.json()));$.sdkHttpResponse={headers:I.headers};const G=new Zr;Object.assign(G,$),yield yield Be(G)}}catch(I){w={error:I}}finally{try{!M&&!S&&(E=L.return)&&(yield Be(E.call(L)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=iN(this.apiClient,e);return m=ne("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=f1(y),S=new Fg;return Object.assign(S,T),S})}else{const h=pM(this.apiClient,e);return m=ne("{model}:batchEmbedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=HN(y),S=new Fg;return Object.assign(S,T),S})}}async generateImagesInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=rN(this.apiClient,e);return m=ne("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=m1(y),S=new zg;return Object.assign(S,T),S})}else{const h=yM(this.apiClient,e);return m=ne("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=$N(y),S=new zg;return Object.assign(S,T),S})}}async editImageInternal(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const m=fN(this.apiClient,e);return a=ne("{model}:predict",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),s.then(g=>{const h=p1(g),y=new aw;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const m=mN(this.apiClient,e);return a=ne("{model}:predict",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),s.then(g=>{const h=g1(g),y=new uw;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const m=vN(this.apiClient,e);return a=ne("{model}:predict",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s.then(g=>{const h=y1(g),y=new cw;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=TN(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(y=>id(y))}else{const h=vM(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(y=>nd(y))}}async listInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=_N(this.apiClient,e);return m=ne("{models_url}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=_1(y),S=new $g;return Object.assign(S,T),S})}else{const h=SM(this.apiClient,e);return m=ne("{models_url}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=YN(y),S=new $g;return Object.assign(S,T),S})}}async update(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=CN(this.apiClient,e);return m=ne("{model}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(y=>id(y))}else{const h=xM(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(y=>nd(y))}}async delete(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=wN(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(()=>{const y=x1(),T=new Jg;return Object.assign(T,y),T})}else{const h=CM(this.apiClient,e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(()=>{const y=KN(),T=new Jg;return Object.assign(T,y),T})}}async countTokens(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=bN(this.apiClient,e);return m=ne("{model}:countTokens",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=C1(y),S=new Yg;return Object.assign(S,T),S})}else{const h=EM(this.apiClient,e);return m=ne("{model}:countTokens",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=XN(y),S=new Yg;return Object.assign(S,T),S})}}async computeTokens(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const m=AN(this.apiClient,e);return a=ne("{model}:computeTokens",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),s.then(g=>{const h=w1(g),y=new dw;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=NN(this.apiClient,e);return m=ne("{model}:predictLongRunning",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f.then(y=>{const T=R1(y),S=new zl;return Object.assign(S,T),S})}else{const h=RM(this.apiClient,e);return m=ne("{model}:predictLongRunning",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f.then(y=>{const T=ZN(y),S=new zl;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ik(t){const e={},i=u(t,["operationName"]);i!=null&&c(e,["_url","operationName"],i);const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}function ok(t){const e={},i=u(t,["operationName"]);i!=null&&c(e,["_url","operationName"],i);const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}function rk(t){const e={},i=u(t,["operationName"]);i!=null&&c(e,["operationName"],i);const o=u(t,["resourceName"]);o!=null&&c(e,["_url","resourceName"],o);const s=u(t,["config"]);return s!=null&&c(e,["config"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sk extends Ni{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=i.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:s,config:{httpOptions:a}});return i._fromAPIResponse({apiResponse:f,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=i.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:s,config:{httpOptions:a}});return i._fromAPIResponse({apiResponse:f,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=ok(e);return m=ne("{operationName}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),f}else{const h=ik(e);return m=ne("{operationName}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),f}}async fetchPredictVideosOperationInternal(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const m=rk(e);return a=ne("{resourceName}:fetchPredictOperation",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lk(t){const e={},i=u(t,["voiceName"]);return i!=null&&c(e,["voiceName"],i),e}function Pv(t){const e={},i=u(t,["prebuiltVoiceConfig"]);return i!=null&&c(e,["prebuiltVoiceConfig"],lk(i)),e}function ak(t){const e={},i=u(t,["speaker"]);i!=null&&c(e,["speaker"],i);const o=u(t,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],Pv(o)),e}function uk(t){const e={},i=u(t,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ak(s))),c(e,["speakerVoiceConfigs"],o)}return e}function ck(t){const e={},i=u(t,["voiceConfig"]);i!=null&&c(e,["voiceConfig"],Pv(i));const o=u(t,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],uk(o));const s=u(t,["languageCode"]);return s!=null&&c(e,["languageCode"],s),e}function dk(t){const e={},i=u(t,["fps"]);i!=null&&c(e,["fps"],i);const o=u(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const s=u(t,["startOffset"]);return s!=null&&c(e,["startOffset"],s),e}function fk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function hk(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function mk(t){const e={},i=u(t,["videoMetadata"]);i!=null&&c(e,["videoMetadata"],dk(i));const o=u(t,["thought"]);o!=null&&c(e,["thought"],o);const s=u(t,["inlineData"]);s!=null&&c(e,["inlineData"],fk(s));const a=u(t,["fileData"]);a!=null&&c(e,["fileData"],hk(a));const f=u(t,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);const m=u(t,["codeExecutionResult"]);m!=null&&c(e,["codeExecutionResult"],m);const g=u(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const h=u(t,["functionCall"]);h!=null&&c(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const T=u(t,["text"]);return T!=null&&c(e,["text"],T),e}function pk(t){const e={},i=u(t,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>mk(a))),c(e,["parts"],s)}const o=u(t,["role"]);return o!=null&&c(e,["role"],o),e}function gk(t){const e={},i=u(t,["behavior"]);i!=null&&c(e,["behavior"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const s=u(t,["name"]);s!=null&&c(e,["name"],s);const a=u(t,["parameters"]);a!=null&&c(e,["parameters"],a);const f=u(t,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const m=u(t,["response"]);m!=null&&c(e,["response"],m);const g=u(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function yk(t){const e={},i=u(t,["startTime"]);i!=null&&c(e,["startTime"],i);const o=u(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function vk(t){const e={},i=u(t,["timeRangeFilter"]);if(i!=null&&c(e,["timeRangeFilter"],yk(i)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Tk(t){const e={},i=u(t,["mode"]);i!=null&&c(e,["mode"],i);const o=u(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function Sk(t){const e={},i=u(t,["dynamicRetrievalConfig"]);return i!=null&&c(e,["dynamicRetrievalConfig"],Tk(i)),e}function _k(){return{}}function xk(t){const e={},i=u(t,["environment"]);return i!=null&&c(e,["environment"],i),e}function Ck(t){const e={},i=u(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(h=>gk(h))),c(e,["functionDeclarations"],g)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],vk(o));const s=u(t,["googleSearchRetrieval"]);if(s!=null&&c(e,["googleSearchRetrieval"],Sk(s)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],_k());const f=u(t,["computerUse"]);f!=null&&c(e,["computerUse"],xk(f));const m=u(t,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function wk(t){const e={},i=u(t,["handle"]);if(i!=null&&c(e,["handle"],i),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ty(){return{}}function Ek(t){const e={},i=u(t,["disabled"]);i!=null&&c(e,["disabled"],i);const o=u(t,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const s=u(t,["endOfSpeechSensitivity"]);s!=null&&c(e,["endOfSpeechSensitivity"],s);const a=u(t,["prefixPaddingMs"]);a!=null&&c(e,["prefixPaddingMs"],a);const f=u(t,["silenceDurationMs"]);return f!=null&&c(e,["silenceDurationMs"],f),e}function bk(t){const e={},i=u(t,["automaticActivityDetection"]);i!=null&&c(e,["automaticActivityDetection"],Ek(i));const o=u(t,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const s=u(t,["turnCoverage"]);return s!=null&&c(e,["turnCoverage"],s),e}function Ak(t){const e={},i=u(t,["targetTokens"]);return i!=null&&c(e,["targetTokens"],i),e}function Rk(t){const e={},i=u(t,["triggerTokens"]);i!=null&&c(e,["triggerTokens"],i);const o=u(t,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],Ak(o)),e}function Mk(t){const e={},i=u(t,["proactiveAudio"]);return i!=null&&c(e,["proactiveAudio"],i),e}function Nk(t,e){const i={},o=u(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const s=u(t,["responseModalities"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","responseModalities"],s);const a=u(t,["temperature"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","temperature"],a);const f=u(t,["topP"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","topP"],f);const m=u(t,["topK"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","topK"],m);const g=u(t,["maxOutputTokens"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","maxOutputTokens"],g);const h=u(t,["mediaResolution"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","mediaResolution"],h);const y=u(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const T=u(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],ck(Cd(T)));const S=u(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=u(t,["systemInstruction"]);e!==void 0&&w!=null&&c(e,["setup","systemInstruction"],pk(mt(w)));const E=u(t,["tools"]);if(e!==void 0&&E!=null){let G=Go(E);Array.isArray(G)&&(G=G.map(Y=>Ck(Bo(Y)))),c(e,["setup","tools"],G)}const b=u(t,["sessionResumption"]);e!==void 0&&b!=null&&c(e,["setup","sessionResumption"],wk(b));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],Ty());const L=u(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&c(e,["setup","outputAudioTranscription"],Ty());const N=u(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&c(e,["setup","realtimeInputConfig"],bk(N));const I=u(t,["contextWindowCompression"]);e!==void 0&&I!=null&&c(e,["setup","contextWindowCompression"],Rk(I));const $=u(t,["proactivity"]);return e!==void 0&&$!=null&&c(e,["setup","proactivity"],Mk($)),i}function kk(t,e){const i={},o=u(e,["model"]);o!=null&&c(i,["setup","model"],Ne(t,o));const s=u(e,["config"]);return s!=null&&c(i,["config"],Nk(s,i)),i}function Dk(t,e,i){const o={},s=u(e,["expireTime"]);i!==void 0&&s!=null&&c(i,["expireTime"],s);const a=u(e,["newSessionExpireTime"]);i!==void 0&&a!=null&&c(i,["newSessionExpireTime"],a);const f=u(e,["uses"]);i!==void 0&&f!=null&&c(i,["uses"],f);const m=u(e,["liveConnectConstraints"]);i!==void 0&&m!=null&&c(i,["bidiGenerateContentSetup"],kk(t,m));const g=u(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&c(i,["fieldMask"],g),o}function Uk(t,e){const i={},o=u(e,["config"]);return o!=null&&c(i,["config"],Dk(t,o,i)),i}function Ik(t){const e={},i=u(t,["name"]);return i!=null&&c(e,["name"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pk(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const s=Object.keys(o).map(a=>`${i}.${a}`);e.push(...s)}else e.push(i)}return e.join(",")}function Lk(t,e){let i=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const a=o.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,i=a):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(i){const a=Pk(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];s.length>0&&(m=s.map(h=>f.includes(h)?`generationConfig.${h}`:h));const g=[];a&&g.push(a),m.length>0&&g.push(...m),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class Ok extends Ni{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=Uk(this.apiClient,e);a=ne("auth_tokens",m._url),f=m._query,delete m.config,delete m._url,delete m._query;const g=Lk(m,e.config);return s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Ik(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qk(t){const e={},i=u(t,["name"]);i!=null&&c(e,["_url","name"],i);const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}function Vk(t,e){const i={},o=u(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&c(e,["_query","pageToken"],s);const a=u(t,["filter"]);return e!==void 0&&a!=null&&c(e,["_query","filter"],a),i}function Bk(t){const e={},i=u(t,["config"]);return i!=null&&c(e,["config"],Vk(i,e)),e}function Gk(t){const e={},i=u(t,["textInput"]);i!=null&&c(e,["textInput"],i);const o=u(t,["output"]);return o!=null&&c(e,["output"],o),e}function Hk(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=u(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Gk(s))),c(e,["examples","examples"],o)}return e}function Fk(t,e){const i={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=u(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&c(e,["displayName"],o),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=u(t,["epochCount"]);e!==void 0&&s!=null&&c(e,["tuningTask","hyperparameters","epochCount"],s);const a=u(t,["learningRateMultiplier"]);if(a!=null&&c(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=u(t,["batchSize"]);e!==void 0&&f!=null&&c(e,["tuningTask","hyperparameters","batchSize"],f);const m=u(t,["learningRate"]);return e!==void 0&&m!=null&&c(e,["tuningTask","hyperparameters","learningRate"],m),i}function zk(t){const e={},i=u(t,["baseModel"]);i!=null&&c(e,["baseModel"],i);const o=u(t,["preTunedModel"]);o!=null&&c(e,["preTunedModel"],o);const s=u(t,["trainingDataset"]);s!=null&&c(e,["tuningTask","trainingData"],Hk(s));const a=u(t,["config"]);return a!=null&&c(e,["config"],Fk(a,e)),e}function $k(t){const e={},i=u(t,["name"]);i!=null&&c(e,["_url","name"],i);const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}function Jk(t,e){const i={},o=u(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const s=u(t,["pageToken"]);e!==void 0&&s!=null&&c(e,["_query","pageToken"],s);const a=u(t,["filter"]);return e!==void 0&&a!=null&&c(e,["_query","filter"],a),i}function Yk(t){const e={},i=u(t,["config"]);return i!=null&&c(e,["config"],Jk(i,e)),e}function Kk(t,e){const i={},o=u(t,["gcsUri"]);e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o);const s=u(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],s),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Xk(t,e){const i={},o=u(t,["gcsUri"]);o!=null&&c(i,["validationDatasetUri"],o);const s=u(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],s),i}function Qk(t,e){const i={},o=u(t,["validationDataset"]);e!==void 0&&o!=null&&c(e,["supervisedTuningSpec"],Xk(o,i));const s=u(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&c(e,["tunedModelDisplayName"],s);const a=u(t,["description"]);e!==void 0&&a!=null&&c(e,["description"],a);const f=u(t,["epochCount"]);e!==void 0&&f!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],f);const m=u(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const g=u(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const h=u(t,["preTunedModelCheckpointId"]);h!=null&&c(i,["preTunedModel","checkpointId"],h);const y=u(t,["adapterSize"]);if(e!==void 0&&y!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function jk(t){const e={},i=u(t,["baseModel"]);i!=null&&c(e,["baseModel"],i);const o=u(t,["preTunedModel"]);o!=null&&c(e,["preTunedModel"],o);const s=u(t,["trainingDataset"]);s!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],Kk(s,e));const a=u(t,["config"]);return a!=null&&c(e,["config"],Qk(a,e)),e}function Wk(t){const e={},i=u(t,["name"]);i!=null&&c(e,["model"],i);const o=u(t,["name"]);return o!=null&&c(e,["endpoint"],o),e}function Lv(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const s=u(t,["state"]);s!=null&&c(e,["state"],hv(s));const a=u(t,["createTime"]);a!=null&&c(e,["createTime"],a);const f=u(t,["tuningTask","startTime"]);f!=null&&c(e,["startTime"],f);const m=u(t,["tuningTask","completeTime"]);m!=null&&c(e,["endTime"],m);const g=u(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const h=u(t,["description"]);h!=null&&c(e,["description"],h);const y=u(t,["baseModel"]);y!=null&&c(e,["baseModel"],y);const T=u(t,["_self"]);T!=null&&c(e,["tunedModel"],Wk(T));const S=u(t,["customBaseModel"]);S!=null&&c(e,["customBaseModel"],S);const w=u(t,["experiment"]);w!=null&&c(e,["experiment"],w);const E=u(t,["labels"]);E!=null&&c(e,["labels"],E);const b=u(t,["outputUri"]);b!=null&&c(e,["outputUri"],b);const M=u(t,["pipelineJob"]);M!=null&&c(e,["pipelineJob"],M);const L=u(t,["serviceAccount"]);L!=null&&c(e,["serviceAccount"],L);const N=u(t,["tunedModelDisplayName"]);return N!=null&&c(e,["tunedModelDisplayName"],N),e}function Zk(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>Lv(f))),c(e,["tuningJobs"],a)}return e}function eD(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const s=u(t,["metadata"]);s!=null&&c(e,["metadata"],s);const a=u(t,["done"]);a!=null&&c(e,["done"],a);const f=u(t,["error"]);return f!=null&&c(e,["error"],f),e}function tD(t){const e={},i=u(t,["checkpointId"]);i!=null&&c(e,["checkpointId"],i);const o=u(t,["epoch"]);o!=null&&c(e,["epoch"],o);const s=u(t,["step"]);s!=null&&c(e,["step"],s);const a=u(t,["endpoint"]);return a!=null&&c(e,["endpoint"],a),e}function nD(t){const e={},i=u(t,["model"]);i!=null&&c(e,["model"],i);const o=u(t,["endpoint"]);o!=null&&c(e,["endpoint"],o);const s=u(t,["checkpoints"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>tD(f))),c(e,["checkpoints"],a)}return e}function rd(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const s=u(t,["state"]);s!=null&&c(e,["state"],hv(s));const a=u(t,["createTime"]);a!=null&&c(e,["createTime"],a);const f=u(t,["startTime"]);f!=null&&c(e,["startTime"],f);const m=u(t,["endTime"]);m!=null&&c(e,["endTime"],m);const g=u(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const h=u(t,["error"]);h!=null&&c(e,["error"],h);const y=u(t,["description"]);y!=null&&c(e,["description"],y);const T=u(t,["baseModel"]);T!=null&&c(e,["baseModel"],T);const S=u(t,["tunedModel"]);S!=null&&c(e,["tunedModel"],nD(S));const w=u(t,["preTunedModel"]);w!=null&&c(e,["preTunedModel"],w);const E=u(t,["supervisedTuningSpec"]);E!=null&&c(e,["supervisedTuningSpec"],E);const b=u(t,["tuningDataStats"]);b!=null&&c(e,["tuningDataStats"],b);const M=u(t,["encryptionSpec"]);M!=null&&c(e,["encryptionSpec"],M);const L=u(t,["partnerModelTuningSpec"]);L!=null&&c(e,["partnerModelTuningSpec"],L);const N=u(t,["customBaseModel"]);N!=null&&c(e,["customBaseModel"],N);const I=u(t,["experiment"]);I!=null&&c(e,["experiment"],I);const $=u(t,["labels"]);$!=null&&c(e,["labels"],$);const G=u(t,["outputUri"]);G!=null&&c(e,["outputUri"],G);const Y=u(t,["pipelineJob"]);Y!=null&&c(e,["pipelineJob"],Y);const X=u(t,["serviceAccount"]);X!=null&&c(e,["serviceAccount"],X);const ge=u(t,["tunedModelDisplayName"]);return ge!=null&&c(e,["tunedModelDisplayName"],ge),e}function iD(t){const e={},i=u(t,["sdkHttpResponse"]);i!=null&&c(e,["sdkHttpResponse"],i);const o=u(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const s=u(t,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(f=>rd(f))),c(e,["tuningJobs"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oD extends Ni{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new hs(Ai.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const o={tunedModelName:i.baseModel},s=Object.assign(Object.assign({},i),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},i);return await this.tuneInternal(o)}else{const o=Object.assign({},i),s=await this.tuneMldevInternal(o);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:Xc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=$k(e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>rd(y))}else{const h=qk(e);return m=ne("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>Lv(y))}}async listInternal(e){var i,o,s,a;let f,m="",g={};if(this.apiClient.isVertexAI()){const h=Yk(e);return m=ne("tuningJobs",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=iD(y),S=new Xg;return Object.assign(S,T),S})}else{const h=Bk(e);return m=ne("tunedModels",h._url),g=h._query,delete h.config,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Zk(y),S=new Xg;return Object.assign(S,T),S})}}async tuneInternal(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI()){const m=jk(e);return a=ne("tuningJobs",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),s.then(g=>rd(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let s,a="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=zk(e);return a=ne("tunedModels",m._url),f=m._query,delete m.config,delete m._url,delete m._query,s=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),s.then(g=>eD(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rD{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sD=1024*1024*8,lD=3,aD=1e3,uD=2,Mc="x-goog-upload-status";async function cD(t,e,i){var o,s,a;let f=0,m=0,g=new Qc(new Response),h="upload";for(f=t.size;m<f;){const T=Math.min(sD,f-m),S=t.slice(m,m+T);m+T>=f&&(h+=", finalize");let w=0,E=aD;for(;w<lD&&(g=await i.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(m),"Content-Length":String(T)}}}),!(!((o=g==null?void 0:g.headers)===null||o===void 0)&&o[Mc]));)w++,await fD(E),E=E*uD;if(m+=T,((s=g==null?void 0:g.headers)===null||s===void 0?void 0:s[Mc])!=="active")break;if(f<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(g==null?void 0:g.json());if(((a=g==null?void 0:g.headers)===null||a===void 0?void 0:a[Mc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function dD(t){return{size:t.size,type:t.type}}function fD(t){return new Promise(e=>setTimeout(e,t))}class hD{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cD(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mD{create(e,i,o){return new pD(e,i,o)}}class pD{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sy="x-goog-api-key";class gD{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Sy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Sy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yD="gl-node/";class vD{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=lw(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const s=new gD(this.apiKey);this.apiClient=new L1({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:yD+"web",uploader:new hD,downloader:new rD}),this.models=new nk(this.apiClient),this.live=new X1(this.apiClient,s,new mD),this.batches=new DE(this.apiClient),this.chats=new qb(this.models,this.apiClient),this.caches=new Pb(this.apiClient),this.files=new jb(this.apiClient),this.operations=new sk(this.apiClient),this.authTokens=new Ok(this.apiClient),this.tunings=new oD(this.apiClient)}}const TD="gemini-2.5-flash",SD="google/gemini-2.5-flash",_D=t=>{const e=[],i=/^(\d{2}:\d{2})\s*[–-]\s*(.+)$/,o=t.split(`
`).filter(s=>s.trim()!==""&&i.test(s.trim()));for(const s of o){const a=s.trim().match(i);a&&e.push({time:a[1],description:a[2].trim()})}return e},xD=async(t,e,i,o,s)=>{const a=new vD({apiKey:t}),f={...i};return o&&(f.responseMimeType="application/json",s&&(f.responseSchema=s)),(await a.models.generateContent({model:TD,contents:e,config:f})).text},CD=async(t,e,i,o)=>{var m;const s={model:SD,messages:[{role:"user",content:e}],temperature:i==null?void 0:i.temperature};o&&(s.response_format={type:"json_object"});const a=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){const g=await a.json().catch(()=>({error:{message:a.statusText}}));throw new Error(`OpenRouter API error (${a.status}): ${((m=g.error)==null?void 0:m.message)||a.statusText}`)}return(await a.json()).choices[0].message.content};async function bi(t,e){const{geminiApiKey:i,openRouterApiKey:o,primaryProvider:s}=t,{contents:a,config:f={},isJson:m=!1,jsonSchema:g}=e,h=s==="gemini"?["gemini","openrouter"]:["openrouter","gemini"];let y=null;for(const T of h)try{if(console.log(`Attempting to use provider: ${T}`),T==="gemini"){if(!i)throw new Error("Google Gemini API key is not configured.");return await xD(i,a,f,m,g)}else if(T==="openrouter"){if(!o)throw new Error("OpenRouter API key is not configured.");return await CD(o,a,f,m)}}catch(S){console.error(`Error with ${T}:`,S),y=S}throw new Error(`Both AI providers failed. Last error: ${(y==null?void 0:y.message)||"Unknown error"}`)}const wD=async(t,e)=>{try{const i=e.trim().split(/\s+/).filter(Boolean).length,o=`You are a title optimizer that creates compelling YouTube titles from script content.
Your task is to analyze the script below and create an optimized title.
✅ Title Requirements:

Under 80 characters (including spaces)
Include the primary keyword/topic from the script
Engaging and click-worthy language
SEO-friendly structure
Factual and not misleading

📋 Title Guidelines:

Use action words, numbers, or power words when relevant
Create curiosity or urgency without clickbait
Focus on the most newsworthy or interesting aspect
Consider what viewers would search for
Match the tone appropriate for the content type

📌 Expected Output:
Output only the optimized title, no explanations or alternatives.

🧾 Source Script:
${e}`,s=`You are a script summarizer for any type of content across all topics and genres.
Your task is to write a concise summary of the script below.
✅ Output Requirements:

Output only one summary paragraph
The summary must be no more than 120 words
Use clear, neutral language appropriate for the content type
Focus on main events, key points, timeline, and significance
Do not include quotes, dialogue, or minor details
Do not mention the existence of a script or that this is a summary

🔐 Must Preserve:

Key event(s) or main topic
Who/what was involved
Where and when it happened (if applicable)
What the outcome or significance was
Adapt these elements based on content type (news, education, entertainment, business, etc.)

📌 Expected Output:
A single paragraph of up to 120 words summarizing the script's key content, structured like a video description or intro narration.

🧾 Source Script:
${e}`,a=`
    You are a YouTube script analyst and chapter timeline editor.
Your task is to read the script below and generate a clean YouTube chapter timeline.
🕒 Output Format:
🕒 Chapters Timeline
00:00 – Intro
01:40 – [Chapter Title 2]
04:20 – [Chapter Title 3]
...
📝 Rules:

Calculate video duration: ~160-165 words per minute of speech
Create 4-8 chapters maximum (including intro)
Base chapters on major story beats or topic shifts, not minor details
Use concise, descriptive titles (4-8 words max)
Always start with "00:00 – Intro"
Output only the timeline, no explanations

Total script length: ${i} words
Now, generate the YouTube chapter timeline for this script:
${e}`,f={temperature:0},m=bi(t,{contents:o,config:f}),g=bi(t,{contents:s,config:f}),h=bi(t,{contents:a,config:f}),[y,T,S]=await Promise.all([m,g,h]),w=_D(S);return{aiTitle:y.trim(),summary:T.trim(),timeline:w}}catch(i){throw console.error("Error generating details:",i),i instanceof Error?i:new Error("Could not generate details for the script.")}},ED=async(t,e,i)=>{const s=`${i||"Rewrite the following script to improve its pacing, dialogue, and engagement. Keep the main plot and characters."}

Return only the rewritten script content.

ORIGINAL SCRIPT:
${e}`;try{return await bi(t,{contents:s,config:{temperature:0}})}catch(a){throw console.error("Error rewriting script:",a),a instanceof Error?a:new Error("Could not rewrite the script.")}},bD=async(t,e)=>{try{return await bi(t,{contents:e,config:{temperature:0}})}catch(i){throw console.error("Error generating outline:",i),i instanceof Error?i:new Error("Could not generate the outline.")}},AD=async(t,e,i)=>{const o=`OUTLINE:
${e}
${i}`;try{return await bi(t,{contents:o,config:{temperature:0}})}catch(s){throw console.error("Error generating script from outline:",s),s instanceof Error?s:new Error("Could not generate the script from the outline.")}},RD=async(t,e,i)=>{try{const s=`${i||`Split this military script into 1-2 sentence chunks. For each chunk, generate military keywords following these rules:

KEYWORDS:
- Use FULL equipment names: "F-35 LIGHTNING II, F-22 RAPTOR" (not "aircraft")
- Multiple keywords separated by commas: "M1A2 ABRAMS, HULL-DOWN"
- Military terms: "AIR SUPREMACY" (not "air superiority"), "CLOSE AIR SUPPORT", "RECON"
- Equipment: "UH-60 BLACK HAWK", "M4A1 CARBINE", "FGM-148 JAVELIN"
- Units: "NAVY SEALS", "RANGERS", "MARINES", "AIRBORNE"
- UPPERCASE format always
- Maximum 2 keywords per chunk to maintain focus
EXAMPLES:
Text: "F-35s and F-22s deployed" → Keywords: "F-35 LIGHTNING II, F-22 RAPTOR"
Text: "Abrams in hull-down positions" → Keywords: "M1A2 ABRAMS, HULL-DOWN"
Text: "establish air superiority" → Keywords: "AIR SUPREMACY"`}

Return JSON array: [{"content": "chunk text", "keyword": "KEYWORDS"}]

SCRIPT:
${e}`,a={type:Ft.ARRAY,description:"An array of military script chunks, each with content and a single military-themed keyword.",items:{type:Ft.OBJECT,properties:{content:{type:Ft.STRING,description:"The content of the script chunk (1-2 sentences)."},keyword:{type:Ft.STRING,description:"Military keywords in UPPERCASE, comma-separated"}},required:["content","keyword"]}},f=await bi(t,{contents:s,config:{temperature:0},isJson:!0,jsonSchema:a});if(!f)return[];const m=JSON.parse(f);return Array.isArray(m)?m.filter(h=>h&&typeof h.content=="string"&&typeof h.keyword=="string"):(console.error("AI did not return an array for script analysis."),[])}catch(o){throw console.error("Error generating military keywords and splitting script:",o),o instanceof Error?o:new Error("Could not analyze the script.")}},Vl=()=>_.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-full animate-spin border-4 border-dashed border-brand-primary border-t-transparent"}),_.jsx("p",{className:"text-brand-text-secondary",children:"AI is processing, please wait..."})]}),Jl=({options:t,value:e,onChange:i,placeholder:o="Select an option"})=>{const[s,a]=R.useState(!1),f=R.useRef(null),m=t.find(h=>h.value===e);R.useEffect(()=>{const h=y=>{f.current&&!f.current.contains(y.target)&&a(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const g=h=>{i(h),a(!1)};return _.jsxs("div",{className:"relative w-full",ref:f,children:[_.jsxs("button",{type:"button",className:"w-full bg-brand-bg border border-brand-surface rounded-md p-2 flex justify-between items-center focus:ring-2 focus:ring-brand-primary focus:border-brand-primary transition text-left",onClick:()=>a(!s),"aria-haspopup":"listbox","aria-expanded":s,children:[_.jsx("span",{className:"text-brand-text truncate",children:m?m.label:o}),_.jsx(ce,{name:"chevron-down",className:`w-4 h-4 text-brand-text-secondary transition-transform flex-shrink-0 ${s?"rotate-180":""}`})]}),s&&_.jsx("div",{className:"absolute z-10 mt-1 w-full bg-brand-surface border border-brand-bg rounded-md shadow-lg max-h-60 overflow-y-auto",children:_.jsx("ul",{role:"listbox",children:t.map(h=>_.jsxs("li",{className:`px-3 py-2 text-sm cursor-pointer flex justify-between items-center transition-colors ${e===h.value?"text-brand-primary font-semibold":"text-brand-text"} hover:bg-brand-primary hover:text-brand-text-inverse`,onClick:()=>g(h.value),role:"option","aria-selected":e===h.value,children:[_.jsx("span",{className:"truncate",children:h.label}),e===h.value&&_.jsx(ce,{name:"check",className:"w-4 h-4 flex-shrink-0"})]},h.value))})})]})},MD=({isOpen:t,onClose:e,onSave:i,initialTitle:o="Untitled Script"})=>{const[s,a]=R.useState(o),{folders:f}=jl(),[m,g]=R.useState("root");if(R.useEffect(()=>{t&&(a(o),g("root"))},[t,o]),!t)return null;const h=()=>{s.trim()&&i(s.trim(),m==="root"?null:m)},y=S=>{S.key==="Enter"?h():S.key==="Escape"&&e()},T=[{value:"root",label:"Dashboard (No folder)"},...f.map(S=>({value:S.id,label:S.name}))];return _.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",onClick:e,children:_.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-2xl p-6 w-full max-w-md m-4",onClick:S=>S.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-xl font-bold text-brand-text",children:"Save Script"}),_.jsx("button",{onClick:e,className:"text-brand-text-secondary hover:text-brand-text p-1 rounded-full",children:_.jsx(ce,{name:"close",className:"w-6 h-6"})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"scriptTitle",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:"Script Title"}),_.jsx("input",{id:"scriptTitle",type:"text",value:s,onChange:S=>a(S.target.value),onKeyDown:y,className:"w-full bg-brand-bg text-brand-text p-2 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary",autoFocus:!0,onFocus:S=>S.target.select()})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"folderSelect",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:"Save to Folder"}),_.jsx(Jl,{value:m,onChange:g,options:T})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[_.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium rounded-md text-brand-text bg-brand-bg hover:bg-opacity-80 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:h,disabled:!s.trim(),className:"px-4 py-2 text-sm font-medium rounded-md text-brand-text-inverse bg-brand-primary hover:bg-opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save"})]})]})})},Nc={name:"",prompt:""},ND=({isOpen:t,onClose:e})=>{const{styles:i,addStyle:o,updateStyle:s,deleteStyle:a}=sv(),{showToast:f}=ln(),[m,g]=R.useState(null),[h,y]=R.useState(Nc),[T,S]=R.useState(!1);if(R.useEffect(()=>{y(m?{name:m.name,prompt:m.prompt}:Nc)},[m]),!t)return null;const w=N=>{g(N)},E=()=>{g(null)},b=N=>{y({...h,[N.target.name]:N.target.value})},M=async()=>{if(!h.name.trim()||!h.prompt.trim()){f("Style name and prompt cannot be empty.");return}S(!0);try{m?(await s(m.id,h),f("Style updated successfully!")):(await o(h),f("Style added successfully!")),y(Nc),g(null)}catch(N){f("Failed to save style."),console.error(N)}finally{S(!1)}},L=async N=>{try{await a(N),(m==null?void 0:m.id)===N&&g(null),f("Style deleted.")}catch(I){f("Failed to delete style."),console.error(I)}};return _.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",onClick:e,children:_.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-2xl w-full max-w-4xl m-4 h-[70vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-bg",children:[_.jsx("h2",{className:"text-xl font-bold text-brand-text",children:"Manage Rewrite Styles"}),_.jsx("button",{onClick:e,className:"text-brand-text-secondary hover:text-brand-text p-1 rounded-full",children:_.jsx(ce,{name:"close",className:"w-6 h-6"})})]}),_.jsxs("div",{className:"flex flex-grow min-h-0",children:[_.jsxs("div",{className:"w-1/3 border-r border-brand-bg p-2 flex flex-col",children:[_.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-2 text-sm bg-brand-primary/10 text-brand-primary font-medium py-2 px-3 rounded-md hover:bg-brand-primary/20 transition-colors mb-2",children:[_.jsx(ce,{name:"plus",className:"w-4 h-4"}),"Add New Style"]}),_.jsx("div",{className:"flex-grow overflow-y-auto pr-1",children:i.length===0?_.jsx("p",{className:"text-center text-sm text-brand-text-secondary mt-8",children:"No custom styles yet."}):_.jsx("ul",{className:"space-y-1",children:i.map(N=>_.jsx("li",{children:_.jsx("button",{onClick:()=>w(N),className:`w-full text-left p-2 rounded-md text-sm truncate transition-colors ${(m==null?void 0:m.id)===N.id?"bg-brand-primary text-brand-text-inverse":"hover:bg-brand-bg"}`,children:N.name})},N.id))})})]}),_.jsxs("div",{className:"w-2/3 p-4 flex flex-col space-y-4",children:[_.jsx("h3",{className:"text-lg font-semibold",children:m?"Edit Style":"Add New Style"}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:"Style Name"}),_.jsx("input",{type:"text",name:"name",id:"name",value:h.name,onChange:b,placeholder:"e.g., 'More Humorous' or 'Formal Tone'",className:"w-full bg-brand-bg text-brand-text p-2 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),_.jsxs("div",{className:"flex-grow flex flex-col",children:[_.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:"Style Prompt (Instructions for AI)"}),_.jsx("textarea",{name:"prompt",id:"prompt",value:h.prompt,onChange:b,placeholder:"e.g., 'Rewrite the script to be funnier. Add more jokes and witty dialogue.'",className:"w-full h-full bg-brand-bg text-brand-text p-2 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary resize-none"})]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("div",{children:m&&_.jsxs("button",{onClick:()=>L(m.id),className:"text-red-600 hover:text-red-700 dark:text-red-500 dark:hover:text-red-400 text-sm font-medium flex items-center gap-1.5",children:[_.jsx(ce,{name:"trash",className:"w-4 h-4"})," Delete this style"]})}),_.jsx("div",{className:"flex gap-3",children:_.jsx("button",{onClick:M,disabled:T,className:"px-4 py-2 w-28 text-sm font-medium rounded-md text-brand-text-inverse bg-brand-primary hover:bg-opacity-90 disabled:opacity-50 transition-colors",children:T?_.jsx("div",{className:"w-5 h-5 border-2 mx-auto border-dashed rounded-full animate-spin"}):m?"Update Style":"Save Style"})})]})]})]})]})})},Ov=R.createContext(void 0),kD=({children:t})=>{const[e,i]=R.useState([]),{user:o,loading:s}=sn(),a=R.useCallback(async()=>{if(!(o!=null&&o.id))return;const{data:h,error:y}=await $e.from("keyword_styles").select("id, name, prompt").eq("user_id",o.id).order("name",{ascending:!0});y?(console.error("Error fetching keyword styles:",JSON.stringify(y,null,2)),i([])):h&&i(h||[])},[o==null?void 0:o.id]);R.useEffect(()=>{o!=null&&o.id?a():s||i([])},[o==null?void 0:o.id,s,a]);const f=R.useCallback(async h=>{if(!(o!=null&&o.id))throw new Error("User not authenticated");const{data:y,error:T}=await $e.from("keyword_styles").insert({...h,user_id:o.id}).select("id, name, prompt").single();if(T)throw T;if(!y)throw new Error("Failed to add keyword style.");i(S=>[...S,y].sort((w,E)=>w.name.localeCompare(E.name)))},[o==null?void 0:o.id]),m=R.useCallback(async(h,y)=>{if(!(o!=null&&o.id))throw new Error("User not authenticated");const{data:T,error:S}=await $e.from("keyword_styles").update(y).eq("id",h).eq("user_id",o.id).select("id, name, prompt").single();if(S)throw S;if(!T)throw new Error("Failed to update keyword style.");i(w=>w.map(E=>E.id===h?T:E).sort((E,b)=>E.name.localeCompare(b.name)))},[o==null?void 0:o.id]),g=R.useCallback(async h=>{if(!(o!=null&&o.id))throw new Error("User not authenticated");const{error:y}=await $e.from("keyword_styles").delete().eq("id",h).eq("user_id",o.id);if(y)throw y;i(T=>T.filter(S=>S.id!==h))},[o==null?void 0:o.id]);return _.jsx(Ov.Provider,{value:{keywordStyles:e,addKeywordStyle:f,updateKeywordStyle:m,deleteKeywordStyle:g},children:t})},qv=()=>{const t=R.useContext(Ov);if(t===void 0)throw new Error("useKeywordStyles must be used within a KeywordStylesProvider");return t},kc={name:"",prompt:""},DD=({isOpen:t,onClose:e})=>{const{keywordStyles:i,addKeywordStyle:o,updateKeywordStyle:s,deleteKeywordStyle:a}=qv(),{showToast:f}=ln(),[m,g]=R.useState(null),[h,y]=R.useState(kc),[T,S]=R.useState(!1);if(R.useEffect(()=>{y(m?{name:m.name,prompt:m.prompt}:kc)},[m]),!t)return null;const w=N=>{g(N)},E=()=>{g(null)},b=N=>{y({...h,[N.target.name]:N.target.value})},M=async()=>{if(!h.name.trim()||!h.prompt.trim()){f("Style name and prompt cannot be empty.");return}S(!0);try{m?(await s(m.id,h),f("Keyword style updated successfully!")):(await o(h),f("Keyword style added successfully!")),y(kc),g(null)}catch(N){f("Failed to save keyword style."),console.error(N)}finally{S(!1)}},L=async N=>{try{await a(N),(m==null?void 0:m.id)===N&&g(null),f("Keyword style deleted.")}catch(I){f("Failed to delete keyword style."),console.error(I)}};return _.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",onClick:e,children:_.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-2xl w-full max-w-4xl m-4 h-[70vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-brand-bg",children:[_.jsx("h2",{className:"text-xl font-bold text-brand-text",children:"Manage Keyword Styles"}),_.jsx("button",{onClick:e,className:"text-brand-text-secondary hover:text-brand-text p-1 rounded-full",children:_.jsx(ce,{name:"close",className:"w-6 h-6"})})]}),_.jsxs("div",{className:"flex flex-grow min-h-0",children:[_.jsxs("div",{className:"w-1/3 border-r border-brand-bg p-2 flex flex-col",children:[_.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-2 text-sm bg-brand-primary/10 text-brand-primary font-medium py-2 px-3 rounded-md hover:bg-brand-primary/20 transition-colors mb-2",children:[_.jsx(ce,{name:"plus",className:"w-4 h-4"}),"Add New Style"]}),_.jsx("div",{className:"flex-grow overflow-y-auto pr-1",children:i.length===0?_.jsx("p",{className:"text-center text-sm text-brand-text-secondary mt-8",children:"No custom keyword styles yet."}):_.jsx("ul",{className:"space-y-1",children:i.map(N=>_.jsx("li",{children:_.jsx("button",{onClick:()=>w(N),className:`w-full text-left p-2 rounded-md text-sm truncate transition-colors ${(m==null?void 0:m.id)===N.id?"bg-brand-primary text-brand-text-inverse":"hover:bg-brand-bg"}`,children:N.name})},N.id))})})]}),_.jsxs("div",{className:"w-2/3 p-4 flex flex-col space-y-4",children:[_.jsx("h3",{className:"text-lg font-semibold",children:m?"Edit Style":"Add New Style"}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:"Style Name"}),_.jsx("input",{type:"text",name:"name",id:"name",value:h.name,onChange:b,placeholder:"e.g., 'SEO Keywords' or 'Thematic Tags'",className:"w-full bg-brand-bg text-brand-text p-2 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),_.jsxs("div",{className:"flex-grow flex flex-col",children:[_.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:"Style Prompt (Instructions for AI)"}),_.jsx("textarea",{name:"prompt",id:"prompt",value:h.prompt,onChange:b,placeholder:"e.g., 'Extract keywords for search engine optimization. Focus on long-tail keywords.'",className:"w-full h-full bg-brand-bg text-brand-text p-2 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary resize-none"})]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("div",{children:m&&_.jsxs("button",{onClick:()=>L(m.id),className:"text-red-600 hover:text-red-700 dark:text-red-500 dark:hover:text-red-400 text-sm font-medium flex items-center gap-1.5",children:[_.jsx(ce,{name:"trash",className:"w-4 h-4"})," Delete this style"]})}),_.jsx("div",{className:"flex gap-3",children:_.jsx("button",{onClick:M,disabled:T,className:"px-4 py-2 w-32 text-sm font-medium rounded-md text-brand-text-inverse bg-brand-primary hover:bg-opacity-90 disabled:opacity-50 transition-colors",children:T?_.jsx("div",{className:"w-5 h-5 border-2 mx-auto border-dashed rounded-full animate-spin"}):m?"Update Style":"Save Style"})})]})]})]})]})})},UD=()=>{const[t,e]=R.useState("generate"),[i,o]=R.useState(""),[s,a]=R.useState(""),[f,m]=R.useState(""),[g,h]=R.useState(""),[y,T]=R.useState(null),[S,w]=R.useState(null),[E,b]=R.useState(!1),[M,L]=R.useState(!1),[N,I]=R.useState(!1),[$,G]=R.useState(!1),[Y,X]=R.useState(!1),[ge,Z]=R.useState(!1),[fe,de]=R.useState("default"),[Ae,kt]=R.useState("default"),[Dt,Re]=R.useState(!1),{scriptId:B}=$S(),{addScript:j,updateScript:oe,getScriptById:Ce,loading:k}=fs(),{showToast:J}=ln(),{styles:W}=sv(),{keywordStyles:K}=qv(),{profile:te}=sn(),ve=dd(),re=B?Ce(B):null,ct=(Q=!1)=>{o(""),a(""),m(""),h(""),w(null),T(null),B&&!Q&&ve("/edit",{replace:!0})},Me=()=>{const Q=te==null?void 0:te.gemini_api_key,le=te==null?void 0:te.openrouter_api_key,xe=(te==null?void 0:te.primary_provider)||"gemini";if(!Q&&xe==="gemini")throw new Error("Your primary provider is Gemini, but the API key is not set. Please update it in Settings.");if(!le&&(xe==="openrouter"||!Q))throw new Error("OpenRouter API key is not set, which is required as a primary or fallback provider. Please update it in Settings.");return{geminiApiKey:Q,openRouterApiKey:le,primaryProvider:xe}};R.useEffect(()=>{var Q;if(B){const le=Ce(B);le?(e(le.mode||"generate"),a(le.ideaPrompt||""),m(le.generatedOutline||""),h(le.scriptPrompt||""),o(le.originalScript||le.script||""),le.script||le.aiTitle||(Q=le.splitScript)!=null&&Q.length?w({aiTitle:le.aiTitle||le.title,summary:le.summary,script:le.script,timeline:le.timeline,splitScript:le.splitScript||[]}):w(null),T(null)):k||(T(`Script with ID "${B}" not found.`),ve("/edit",{replace:!0}))}else ct(!0)},[B,Ce,ve,k]);const Zt=async()=>{try{if(I(!0),B){const Q=Ce(B),le={title:(Q==null?void 0:Q.title)||"Untitled Script",aiTitle:(S==null?void 0:S.aiTitle)||(Q==null?void 0:Q.aiTitle)||(Q==null?void 0:Q.title),summary:(S==null?void 0:S.summary)||"",script:(S==null?void 0:S.script)||i,timeline:(S==null?void 0:S.timeline)||[],splitScript:(S==null?void 0:S.splitScript)||[],mode:t,ideaPrompt:s,generatedOutline:f,scriptPrompt:g,originalScript:i};await oe(B,le),J("Script updated successfully!")}else G(!0)}catch(Q){const le=Q instanceof Error?Q.message:"An unknown error occurred.";T(le),J(le)}finally{I(!1)}},$o=async(Q,le)=>{try{I(!0);const xe={title:Q,aiTitle:(S==null?void 0:S.aiTitle)||Q,summary:(S==null?void 0:S.summary)||"",script:(S==null?void 0:S.script)||i,timeline:(S==null?void 0:S.timeline)||[],splitScript:(S==null?void 0:S.splitScript)||[],folderId:le,mode:t,ideaPrompt:s,generatedOutline:f,scriptPrompt:g,originalScript:i},Ge=await j(xe);G(!1),ve(`/edit/${Ge.id}`,{replace:!0}),J("Script saved successfully!")}catch(xe){const Ge=xe instanceof Error?xe.message:"An unknown error occurred.";T(Ge),J(Ge)}finally{I(!1)}},Di=async()=>{if(!i){T("Please enter the script to rewrite.");return}T(null),b(!0),w(null);try{const Q=Me(),le=W.find(Qo=>Qo.id===fe),xe=le==null?void 0:le.prompt,Ge=await ED(Q,i,xe),Ue=B?Ce(B):null;w({script:Ge,aiTitle:(Ue==null?void 0:Ue.aiTitle)||"Rewritten Script",summary:(Ue==null?void 0:Ue.summary)||"",timeline:(Ue==null?void 0:Ue.timeline)||[],splitScript:(Ue==null?void 0:Ue.splitScript)||[]})}catch(Q){T(Q instanceof Error?Q.message:"An unknown error occurred.")}finally{b(!1)}},Jo=async()=>{if(!i){T("Please enter the script to generate keywords from.");return}T(null),b(!0),w(null);try{const Q=Me(),le=K.find(Qo=>Qo.id===Ae),xe=le==null?void 0:le.prompt,Ge=await RD(Q,i,xe),Ue=B?Ce(B):null;w({script:i,aiTitle:(Ue==null?void 0:Ue.aiTitle)||"Script Analysis",summary:(Ue==null?void 0:Ue.summary)||"",timeline:(Ue==null?void 0:Ue.timeline)||[],splitScript:Ge})}catch(Q){T(Q instanceof Error?Q.message:"An unknown error occurred.")}finally{b(!1)}},Yo=async()=>{if(!s){T("Please enter an idea to generate an outline.");return}T(null),b(!0),m("");try{const Q=Me(),le=await bD(Q,s);m(le)}catch(Q){T(Q instanceof Error?Q.message:"An unknown error occurred while generating the outline.")}finally{b(!1)}},Ko=async()=>{if(!g||!f){T("Please generate an outline and provide instructions to write the script.");return}T(null),b(!0),w(null);try{const Q=Me(),le=await AD(Q,f,g);w({script:le,aiTitle:"AI Generated Script",summary:"",timeline:[],splitScript:[]})}catch(Q){T(Q instanceof Error?Q.message:"An unknown error occurred while generating the script.")}finally{b(!1)}},ta=async()=>{if(!(!S||!S.script)){L(!0),T(null);try{const Q=Me(),le=await wD(Q,S.script);w(xe=>({...xe,...le}))}catch(Q){T(Q instanceof Error?Q.message:"An unknown error occurred while generating details.")}finally{L(!1)}}},Xo=(Q,le)=>{Q&&navigator.clipboard.writeText(Q).then(()=>{J(`${le} copied to clipboard!`)}).catch(xe=>{console.error(`Failed to copy ${le}:`,xe),T(`Failed to copy ${le} to clipboard.`)})},Ut=()=>t==="rewrite"?_.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"rewriteStyle",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:"Rewrite Style"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(Jl,{value:fe,onChange:de,options:[{value:"default",label:"Default Style"},...W.map(Q=>({value:Q.id,label:Q.name}))]}),_.jsx("button",{onClick:()=>X(!0),className:"flex-shrink-0 border border-brand-secondary text-brand-text-secondary hover:text-brand-primary hover:border-brand-primary font-medium py-2 px-3 rounded-lg transition-colors text-sm",children:"Manage Styles"})]})]}),_.jsxs("div",{className:"flex flex-col flex-grow min-h-0",children:[_.jsx("label",{htmlFor:"originalScript",className:"block text-sm font-medium text-brand-text-secondary mb-2 flex-shrink-0",children:"Paste the original script here"}),_.jsx("textarea",{id:"originalScript",value:i,onChange:Q=>o(Q.target.value),className:"w-full bg-brand-bg border border-brand-surface rounded-md p-3 focus:ring-2 focus:ring-brand-primary focus:border-brand-primary transition flex-grow resize-none",placeholder:"Example: Scene 1. Interior. Coffee Shop - Day..."})]}),_.jsxs("button",{onClick:Di,disabled:E,className:"w-full flex justify-center items-center gap-2 bg-brand-primary hover:bg-brand-secondary text-brand-text-inverse font-bold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 flex-shrink-0",children:[_.jsx(ce,{name:"sparkles"}),"Rewrite Script"]})]}):t==="keyword"?_.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"keywordStyle",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:"Analysis & Split Style"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(Jl,{value:Ae,onChange:kt,options:[{value:"default",label:"Default Analysis"},...K.map(Q=>({value:Q.id,label:Q.name}))]}),_.jsx("button",{onClick:()=>Z(!0),className:"flex-shrink-0 border border-brand-secondary text-brand-text-secondary hover:text-brand-primary hover:border-brand-primary font-medium py-2 px-3 rounded-lg transition-colors text-sm",children:"Manage Styles"})]})]}),_.jsxs("div",{className:"flex flex-col flex-grow min-h-0",children:[_.jsx("label",{htmlFor:"originalScript",className:"block text-sm font-medium text-brand-text-secondary mb-2 flex-shrink-0",children:"Paste the script to analyze"}),_.jsx("textarea",{id:"originalScript",value:i,onChange:Q=>o(Q.target.value),className:"w-full bg-brand-bg border border-brand-surface rounded-md p-3 focus:ring-2 focus:ring-brand-primary focus:border-brand-primary transition flex-grow resize-none",placeholder:"Paste your script to split it and extract keywords for each section..."})]}),_.jsxs("button",{onClick:Jo,disabled:E||!i,className:"w-full flex justify-center items-center gap-2 bg-brand-primary hover:bg-brand-secondary text-brand-text-inverse font-bold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 flex-shrink-0",children:[_.jsx(ce,{name:"tag"}),"Analyze Script"]})]}):_.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[_.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[_.jsx("label",{htmlFor:"ideaPrompt",className:"block text-sm font-medium text-brand-text-secondary mb-2 flex-shrink-0",children:"Step 1: Enter Your Main Idea"}),_.jsx("textarea",{id:"ideaPrompt",value:s,onChange:Q=>a(Q.target.value),className:"w-full bg-brand-bg border border-brand-surface rounded-md p-2 focus:ring-2 focus:ring-brand-primary focus:border-brand-primary transition resize-none flex-grow",placeholder:"Example: A military analyst with 20 years of experience..."}),_.jsxs("button",{onClick:Yo,disabled:E||!s,className:"mt-2 w-full flex justify-center items-center gap-2 bg-brand-primary hover:bg-brand-secondary text-brand-text-inverse font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 flex-shrink-0",children:[_.jsx(ce,{name:"sparkles"}),f?"Regenerate Outline":"Generate Outline"]})]}),_.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[_.jsx("h3",{className:"text-sm font-medium text-brand-text-secondary mb-2 flex-shrink-0",children:"Generated Outline (Editable):"}),_.jsx("div",{className:"bg-brand-bg/50 rounded-md border border-brand-surface flex-grow flex flex-col",children:_.jsx("textarea",{value:f,onChange:Q=>m(Q.target.value),className:"w-full h-full bg-transparent p-3 font-sans text-brand-text text-sm focus:outline-none resize-none",placeholder:"AI will generate the outline here. You can edit it directly.",disabled:E&&!f})})]}),_.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[_.jsx("label",{htmlFor:"scriptPrompt",className:"block text-sm font-medium text-brand-text-secondary mb-2 flex-shrink-0",children:"Step 2: Provide Detailed Instructions"}),_.jsx("textarea",{id:"scriptPrompt",value:g,onChange:Q=>h(Q.target.value),className:"w-full bg-brand-bg border border-brand-surface rounded-md p-2 focus:ring-2 focus:ring-brand-primary focus:border-brand-primary transition disabled:opacity-50 disabled:cursor-not-allowed resize-none flex-grow",placeholder:"Example: Write in a thrilling, action-packed style...",disabled:!f||E}),_.jsxs("button",{onClick:Ko,disabled:E||!f||!g,className:"mt-2 w-full flex justify-center items-center gap-2 bg-brand-primary hover:bg-brand-secondary text-brand-text-inverse font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 flex-shrink-0",children:[_.jsx(ce,{name:"edit"}),S!=null&&S.script?"Regenerate Full Script":"Generate Full Script"]})]})]}),na=()=>{var le;if(t==="keyword")return E&&!S?_.jsx("div",{className:"flex-grow flex items-center justify-center",children:_.jsx(Vl,{})}):y&&!S?_.jsx("div",{className:"text-brand-text bg-brand-surface border border-brand-secondary p-4 rounded-md",children:y}):!S||!((le=S.splitScript)!=null&&le.length)?_.jsx("div",{className:"flex-grow flex items-center justify-center text-center text-brand-text-secondary p-8",children:"The script analysis table will be displayed here."}):_.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[_.jsx("h2",{className:"text-2xl font-bold text-brand-text flex-shrink-0 pb-3 border-b border-brand-surface",children:"Script Analysis"}),y&&_.jsx("div",{className:"text-red-700 bg-red-100 border border-red-200 p-2 rounded-md text-sm flex-shrink-0 dark:bg-red-900/20 dark:text-red-400 dark:border-red-500/50",children:y}),_.jsx("div",{className:"flex-grow overflow-auto",children:_.jsxs("table",{className:"w-full text-sm text-left text-brand-text-secondary",children:[_.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-bg sticky top-0 z-10",children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"px-6 py-3 w-16",children:"Index"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Content"}),_.jsx("th",{scope:"col",className:"px-6 py-3 w-48",children:"Keyword"})]})}),_.jsx("tbody",{children:S.splitScript.map((xe,Ge)=>_.jsxs("tr",{className:"bg-brand-surface border-b border-brand-bg hover:bg-brand-bg/30",children:[_.jsx("td",{className:"px-6 py-4 font-medium text-brand-text text-center",children:Ge+1}),_.jsx("td",{className:"px-6 py-4",children:xe.content}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("span",{className:"text-brand-primary font-medium text-xs",children:xe.keyword})})]},Ge))})]})})]});if(E&&!S)return _.jsx("div",{className:"flex-grow flex items-center justify-center",children:_.jsx(Vl,{})});if(y&&!S)return _.jsx("div",{className:"text-brand-text bg-brand-surface border border-brand-secondary p-4 rounded-md",children:y});if(!S)return _.jsx("div",{className:"flex-grow flex items-center justify-center text-center text-brand-text-secondary p-8",children:"The result will be displayed here."});const Q=S.script?S.script.trim().split(/\s+/).filter(Boolean).length:0;return _.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[_.jsxs("div",{className:"flex justify-between items-start gap-4 flex-shrink-0 pb-3 border-b border-brand-surface",children:[Dt?_.jsx("input",{type:"text",value:S.aiTitle||"",onChange:xe=>w(Ge=>Ge?{...Ge,aiTitle:xe.target.value}:null),onKeyDown:xe=>{(xe.key==="Enter"||xe.key==="Escape")&&Re(!1)},onBlur:()=>Re(!1),className:"text-2xl font-bold bg-brand-bg text-brand-text w-full p-1 rounded-md focus:ring-2 focus:ring-brand-primary focus:outline-none flex-grow",autoFocus:!0}):_.jsx("h2",{className:"text-2xl font-bold text-brand-text flex-grow cursor-pointer hover:bg-brand-bg/50 p-1 -m-1 rounded-md transition-colors",onClick:()=>Re(!0),title:"Click to edit title",children:S.aiTitle||"AI Generated Title"}),_.jsx("div",{className:"flex flex-col gap-2 w-44 flex-shrink-0",children:_.jsxs("button",{onClick:ta,disabled:E||M||!S.script,className:"flex-shrink-0 flex items-center justify-center gap-2 border border-brand-primary text-brand-primary hover:bg-brand-primary hover:text-brand-text-inverse font-bold py-2 px-3 rounded-lg transition-colors disabled:opacity-50 text-sm",children:[M?_.jsx("div",{className:"w-4 h-4 border-2 border-dashed rounded-full animate-spin"}):_.jsx(ce,{name:"sparkles",className:"w-4 h-4"}),_.jsx("span",{children:M?"Generating...":"Details"})]})})]}),y&&_.jsx("div",{className:"text-red-700 bg-red-100 border border-red-200 p-2 rounded-md text-sm flex-shrink-0 dark:bg-red-900/20 dark:text-red-400 dark:border-red-500/50",children:y}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 flex-shrink-0",children:[_.jsxs("div",{className:"space-y-2 flex flex-col",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h3",{className:"text-lg font-semibold text-brand-text",children:"Summary"}),_.jsx("button",{onClick:()=>Xo(S.summary||"","Summary"),disabled:!S.summary,className:"text-brand-text-secondary hover:text-brand-text transition-colors p-1 disabled:opacity-50","aria-label":"Copy summary",children:_.jsx(ce,{name:"copy",className:"w-4 h-4"})})]}),_.jsx("div",{className:"bg-brand-bg/50 rounded-md p-3 flex-grow flex flex-col",children:M&&!S.summary?_.jsx("div",{className:"flex-grow flex items-center justify-center",children:_.jsx("p",{className:"text-brand-text-secondary text-sm",children:"Generating summary..."})}):S.summary?_.jsx("p",{className:"text-brand-text-secondary text-sm leading-relaxed overflow-y-auto pr-1",children:S.summary}):_.jsx("div",{className:"flex-grow flex items-center justify-center",children:_.jsx("p",{className:"text-brand-text-secondary text-sm",children:"Summary will be generated here."})})})]}),_.jsxs("div",{className:"space-y-2 flex flex-col",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h3",{className:"text-lg font-semibold text-brand-text",children:"Timeline"}),_.jsx("button",{onClick:()=>{var Ge;const xe=((Ge=S.timeline)==null?void 0:Ge.map(Ue=>`${Ue.time} – ${Ue.description}`).join(`
`))||"";Xo(xe,"Timeline")},disabled:!S.timeline||S.timeline.length===0,className:"text-brand-text-secondary hover:text-brand-text transition-colors p-1 disabled:opacity-50","aria-label":"Copy timeline",children:_.jsx(ce,{name:"copy",className:"w-4 h-4"})})]}),_.jsx("div",{className:"bg-brand-bg/50 rounded-md p-2 flex-grow flex flex-col",children:M&&(!S.timeline||S.timeline.length===0)?_.jsx("div",{className:"flex-grow flex items-center justify-center",children:_.jsx("p",{className:"text-brand-text-secondary text-sm",children:"Generating timeline..."})}):S.timeline&&S.timeline.length>0?_.jsx("ul",{className:"space-y-1.5 overflow-y-auto pr-2",children:S.timeline.map((xe,Ge)=>_.jsxs("li",{className:"flex gap-4 p-1.5 rounded-md text-sm",children:[_.jsx("span",{className:"font-semibold text-brand-primary w-16 text-right flex-shrink-0",children:xe.time}),_.jsx("span",{className:"text-brand-text-secondary",children:xe.description})]},Ge))}):_.jsx("div",{className:"flex-grow flex items-center justify-center",children:_.jsx("p",{className:"text-brand-text-secondary text-sm",children:"Timeline will be generated here."})})})]})]}),_.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2 text-brand-text border-b border-brand-surface pb-1.5 flex-shrink-0 pr-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("h3",{className:"text-lg font-semibold",children:"Script Content (Editable)"}),_.jsxs("span",{className:"text-xs font-mono text-brand-text-secondary bg-brand-bg px-2 py-0.5 rounded-full",children:[Q," ",Q===1?"word":"words"]})]}),_.jsxs("button",{onClick:()=>Xo(S.script||"","Script"),className:"flex items-center gap-1.5 text-sm text-brand-text-secondary hover:text-brand-text transition-colors",children:[_.jsx(ce,{name:"copy",className:"w-4 h-4"}),"Copy"]})]}),_.jsx("div",{className:"bg-brand-bg/50 rounded-md overflow-hidden flex-grow flex",children:E?_.jsx("div",{className:"w-full h-full flex items-center justify-center",children:_.jsx(Vl,{})}):_.jsx("textarea",{className:"w-full h-full bg-transparent p-3 font-mono text-sm text-brand-text focus:outline-none resize-none",value:S.script||"",onChange:xe=>w(Ge=>Ge?{...Ge,script:xe.target.value}:null),placeholder:"The final script will appear here. You can edit it directly."})})]})]})};return _.jsxs("div",{className:"px-4 py-2",children:[_.jsxs("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:[_.jsxs("div",{className:"bg-brand-surface p-4 rounded-lg shadow-lg flex flex-col h-[calc(100vh-6rem)]",children:[_.jsx("div",{className:"flex-shrink-0 border-b border-brand-surface pb-4 mb-4",children:_.jsxs("div",{className:"flex items-center",children:[_.jsxs("div",{className:"flex-grow flex items-center gap-4",children:[_.jsx("h2",{className:"text-xl font-bold text-brand-text truncate",title:re==null?void 0:re.title,children:(re==null?void 0:re.title)||"New Script"}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("button",{onClick:()=>e("generate"),className:`px-4 py-2 text-sm font-medium ${t==="generate"?"border-b-2 border-brand-primary text-brand-text":"text-brand-text-secondary"}`,children:"Generate"}),_.jsx("button",{onClick:()=>e("rewrite"),className:`px-4 py-2 text-sm font-medium ${t==="rewrite"?"border-b-2 border-brand-primary text-brand-text":"text-brand-text-secondary"}`,children:"Rewrite"}),_.jsx("button",{onClick:()=>e("keyword"),className:`px-4 py-2 text-sm font-medium ${t==="keyword"?"border-b-2 border-brand-primary text-brand-text":"text-brand-text-secondary"}`,children:"Keyword"})]})]}),_.jsxs("button",{onClick:Zt,disabled:N||E||M,className:"text-brand-text-secondary hover:text-brand-primary transition-colors flex items-center gap-1.5 px-3 disabled:opacity-50",children:[_.jsx(ce,{name:"save",className:"w-4 h-4"}),B?"Update":"Save"]}),_.jsxs("button",{onClick:()=>ct(),disabled:N||E||M,className:"text-brand-text-secondary hover:text-brand-text transition-colors flex items-center gap-1.5 px-3",children:[_.jsx(ce,{name:"trash",className:"w-4 h-4"})," Clear"]})]})}),_.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:Ut()})]}),_.jsx("div",{className:"bg-brand-surface p-4 rounded-lg shadow-lg flex flex-col h-[calc(100vh-6rem)]",children:na()})]}),_.jsx(MD,{isOpen:$,onClose:()=>G(!1),onSave:$o,initialTitle:(S==null?void 0:S.aiTitle)||(t==="keyword"?"Script Analysis":"New Project Name")}),_.jsx(ND,{isOpen:Y,onClose:()=>X(!1)}),_.jsx(DD,{isOpen:ge,onClose:()=>Z(!1)})]})},ID=({toast:t,onDismiss:e})=>(R.useEffect(()=>{const i=setTimeout(()=>{e(t.id)},4e3);return()=>{clearTimeout(i)}},[t.id,e]),_.jsxs("div",{className:"bg-brand-surface border border-brand-primary/20 rounded-lg shadow-lg p-3 flex items-start gap-3 animate-slide-in-up w-full",children:[_.jsx(ce,{name:"check-circle",className:"text-brand-primary w-5 h-5 mt-0.5 flex-shrink-0"}),_.jsx("p",{className:"text-sm text-brand-text flex-grow break-words",children:t.message}),_.jsx("button",{onClick:()=>e(t.id),className:"text-brand-text-secondary hover:text-brand-text p-1 -m-1 rounded-full flex-shrink-0","aria-label":"Close notification",children:_.jsx(ce,{name:"close",className:"w-4 h-4"})})]})),PD=()=>{const{toasts:t,removeToast:e}=ln();return t.length?_.jsx("div",{className:"fixed bottom-4 right-4 z-[100] w-full max-w-xs space-y-2",role:"region","aria-live":"polite",children:t.map(i=>_.jsx(ID,{toast:i,onDismiss:e},i.id))}):null},LD=({isOpen:t,onClose:e})=>{const{profile:i,updateProfile:o,loading:s}=sn(),[a,f]=R.useState(""),[m,g]=R.useState(""),[h,y]=R.useState("gemini"),{showToast:T}=ln();if(R.useEffect(()=>{t&&(f((i==null?void 0:i.gemini_api_key)||""),g((i==null?void 0:i.openrouter_api_key)||""),y((i==null?void 0:i.primary_provider)||"gemini"))},[t,i]),!t)return null;const S=async()=>{try{await o({gemini_api_key:a,openrouter_api_key:m,primary_provider:h}),T("Settings saved successfully."),e()}catch(E){console.error(E),T("Failed to save settings.")}},w=E=>{E.key==="Enter"?S():E.key==="Escape"&&e()};return _.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",onClick:e,children:_.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-2xl p-6 w-full max-w-md m-4",onClick:E=>E.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-xl font-bold text-brand-text",children:"Settings"}),_.jsx("button",{onClick:e,className:"text-brand-text-secondary hover:text-brand-text p-1 rounded-full",children:_.jsx(ce,{name:"close",className:"w-6 h-6"})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"primaryProvider",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:"Primary AI Provider"}),_.jsx(Jl,{value:h,onChange:E=>y(E),options:[{value:"gemini",label:"Google Gemini"},{value:"openrouter",label:"OpenRouter (Fallback)"}]}),_.jsx("p",{className:"text-xs text-brand-text-secondary mt-2",children:"Select your main AI provider. If it fails, the app will automatically try the other provider."})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:"Gemini API Key"}),_.jsx("input",{id:"geminiApiKey",type:"password",value:a,onChange:E=>f(E.target.value),onKeyDown:w,className:"w-full bg-brand-bg text-brand-text p-2 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Enter your API key here",autoFocus:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"openrouterApiKey",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:"OpenRouter API Key"}),_.jsx("input",{id:"openrouterApiKey",type:"password",value:m,onChange:E=>g(E.target.value),onKeyDown:w,className:"w-full bg-brand-bg text-brand-text p-2 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Enter your OpenRouter key here (starts with sk-or-)"}),_.jsx("p",{className:"text-xs text-brand-text-secondary mt-2",children:"Your keys are stored securely in the database, associated with your account."})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[_.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium rounded-md text-brand-text bg-brand-bg hover:bg-opacity-80 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:S,disabled:s,className:"px-4 py-2 text-sm font-medium rounded-md text-brand-text-inverse bg-brand-primary hover:bg-opacity-90 disabled:opacity-50 transition-colors",children:s?"Saving...":"Save"})]})]})})},OD=({title:t,icon:e,children:i})=>_.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-lg p-6 mb-6",children:[_.jsxs("div",{className:"flex items-center mb-4",children:[_.jsx(ce,{name:e,className:"w-8 h-8 text-brand-primary mr-4"}),_.jsx("h2",{className:"text-2xl font-bold text-brand-text",children:t})]}),_.jsx("div",{className:"space-y-4 text-brand-text-secondary leading-relaxed",children:i})]}),Dc=({title:t,children:e})=>{const[i,o]=R.useState(!1),{showToast:s}=ln(),a=f=>{f.stopPropagation();const m=String(e);navigator.clipboard.writeText(m).then(()=>{s("Prompt copied to clipboard!")}).catch(g=>{console.error("Failed to copy prompt:",g),s("Failed to copy prompt.")})};return _.jsxs("div",{className:"border border-brand-bg rounded-lg overflow-hidden",children:[_.jsxs("div",{className:"flex justify-between items-center p-3 text-left bg-brand-bg/30",children:[_.jsx("span",{className:"font-semibold text-brand-text",children:t}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:a,className:"text-brand-text-secondary hover:text-brand-text transition-colors p-1.5 rounded-full hover:bg-brand-bg/50","aria-label":"Copy prompt",title:"Copy prompt",children:_.jsx(ce,{name:"copy",className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>o(!i),className:"text-brand-text-secondary hover:text-brand-text transition-colors p-1.5 rounded-full hover:bg-brand-bg/50","aria-expanded":i,"aria-label":i?"Collapse prompt":"Expand prompt",children:_.jsx(ce,{name:"chevron-down",className:`w-5 h-5 transition-transform transform ${i?"rotate-180":""}`})})]})]}),i&&_.jsx("div",{className:"p-3 border-t border-brand-bg",children:_.jsx("pre",{className:"bg-brand-bg/50 p-3 rounded-md text-xs whitespace-pre-wrap font-mono overflow-x-auto text-brand-text-secondary",children:_.jsx("code",{children:e})})})]})},qD=`You are a military analyst with 20 years of experience in modern warfare research. 
Your task is to create a completely fictional but highly realistic combat scenario in terms of technical and tactical accuracy. 
Use your knowledge of modern weapons, real geography, and combat principles to generate credible information. 
Provide information only in the following standard format, do not add or omit other content:
 BASIC INFORMATION: 
    Date: [Specific date from 2024-2026], 
    Location: [Specific city/village/region name],
    Attacking side: [Country/force], 
    Defending side: [Country/force]. 
 ATTACK SCALE: 
    Tanks: [Number + specific type like T-90M, T-80BVM], 
    Infantry: [Estimated number], 
    UAV: [Specific names like Orlan-10, Lancet-3], 
    Artillery: [Type like Tornado-S, Grad], 
    Scale: [Small/Medium/Large]. 
 DEFENSIVE WEAPONS: 
    Tanks: [Type like Leopard 2A6, Challenger 2], 
    Anti-tank missiles: [Javelin, NLAW, TOW, etc.], 
    Radar: [AN/TPQ-50, NASAMS],
    Artillery: [HIMARS, M777, Caesar], 
    UAV: [Switchblade, TB2]. 
 COMBAT RESULTS: 
    Duration: [Specific minutes/hours/days], 
    Attacker losses: [Personnel + equipment numbers], 
    Defender losses: [Personnel + equipment numbers], 
    Outcome: [Which side won + degree]. 
 TACTICAL FEATURES: 
    Main tactics: [Brief description], 
    Key technology: [Critical weapon/system], 
    Decisive factors: [Reasons for victory/defeat], 
    Unique characteristics: [What was special]. 
 STRATEGIC LESSONS: 
    Main lessons: [Insights about modern warfare], 
    Importance: [Significance for world military], 
    Message: [Message sent to major powers].`,VD=`You are an elite military analyst and combat correspondent with 25+ years of experience covering modern warfare. Your mission is to create a completely fictional but tactically realistic military scenario that is EXACTLY 2000-2300 words.

## Critical Length Requirements

**WORD COUNT ENFORCEMENT:**
- The scenario MUST be between 2000-2300 words - this is non-negotiable
- Count every word carefully to ensure you meet this requirement
- If your first draft is too short, expand with more tactical details, specific weapon descriptions, additional combat phases, and deeper analysis
- Include extensive technical specifications, multiple engagement phases, detailed casualty reports, and comprehensive strategic analysis

## Mandatory Data Integration Requirements

**MUST USE PROVIDED DATA:**
- Date: [Insert specific date] - MUST be included exactly as provided
- Time: [Insert specific time] - MUST include exact time with ""local time"" format
- Location: [Insert location] - MUST use exact location names provided
- Attacking side: [Insert attacking force] - MUST use exact force designation
- Defending side: [Insert defending force] - MUST use exact force designation
- Scale: [Insert scale] - MUST incorporate the specified scale
- Key weapons: [Insert weapon systems] - MUST feature the specified weapons prominently

**TIMELINE REQUIREMENTS:**
- Open with exact date and time: ""On [DATE], at [TIME] local time...""
- Include clear time progression throughout the scenario
- Use specific timestamps for major events (e.g., ""At 06:45 local time..."", ""By 14:30..."")
- Show battle duration clearly from start to finish

**OUTPUT FORMAT:**
- Each sentence must be on a separate line
- Use CAPITAL LETTERS only for key tactical terms, weapons, locations, and critical moments
- Strategic capitalization - do not overuse
- NO section headers in the output - pure narrative only
- Start directly with the scenario using provided data
- End with CTA including [insert channel youtube]

## Content Development Strategy

**EXPAND WITH DETAILED ELEMENTS:**
- Technical weapon specifications and performance data
- Multiple engagement phases with specific timelines
- Detailed casualty reports and equipment losses
- Extensive tactical maneuvering descriptions
- Electronic warfare and communications disruption
- Supply chain and logistics complications
- Weather and terrain impact on operations
- Individual unit actions and heroic moments
- Command decision-making processes
- Intelligence gathering and reconnaissance details
- Air support and helicopter operations
- Medical evacuation and battlefield medicine
- Engineering and demolition activities
- Counter-intelligence and special operations
- Post-battle analysis and lessons learned

**NARRATIVE PHASES TO INCLUDE:**
1. Initial intelligence and preparation (200-250 words)
2. Opening barrage and first contact (350-400 words)
3. Main assault and armored engagement (400-500 words)
4. Technology warfare and drone operations (300-400 words)
5. Electronic warfare and communications battle (250-300 words)
6. Decisive phase and turning point (300-350 words)
7. Aftermath and strategic implications (200-250 words)
8. Call-to-action conclusion

## Style Guidelines

**SENTENCE STRUCTURE:** One complete sentence per line
**CAPITALIZATION:** Strategic use for:
- Key weapon systems and vehicles
- Critical locations and tactical positions  
- Dramatic moments and decisive actions
- Important military terminology
- Do NOT capitalize common words like ""the,"" ""and,"" ""was,"" etc.

**TONE:** Professional military analysis with dramatic battlefield narrative
**PERSPECTIVE:** Third-person with tactical insight
**PACING:** Build tension through escalating phases

## Example Style:

""The earth trembled.
At precisely 04:17 local time, RUSSIAN forces unleashed their opening BARRAGE.
TORNADO-S missile systems opened FIRE across the DONBAS front.
Over fifty heavy MISSILES slammed into UKRAINIAN positions within thirty minutes.
LEOPARD 2A6 tanks responded with devastating 120mm rounds.
The battle for KURAKOV had begun.""

## Call-To-Action (CTA) Requirements

**END WITH CTA SECTION:**
After the main narrative, include a compelling call-to-action that:
- Poses a thought-provoking question about modern warfare
- Encourages engagement and subscription
- References the channel: [insert channel youtube]
- Maintains the serious, analytical tone

**CTA FORMAT:**
- 2-3 sentences maximum
- One rhetorical question about warfare implications
- Direct subscription call with channel reference
- Professional military analysis tone

**Example CTA Style:**
""Is the future of WARFARE already here?
This is [insert channel youtube] — subscribe for real-time battlefield updates and strategic insights.""

**EXAMPLE OPENING FORMAT:**
""On July 15th, 2025, at 04:17 AM local time, the silence over [LOCATION] was shattered.
RUSSIAN forces unleashed their opening BARRAGE against UKRAINIAN positions.
The battle for [LOCATION] had begun.""

**MANDATORY PROGRESSION:**
- Use provided data as foundation for entire scenario
- Build timeline around the specific date/time given
- Reference attacking/defending forces exactly as provided
- Feature specified weapons systems as key elements
- Maintain chronological progression with clear timestamps
- Every major phase must have specific time markers

Generate a complete scenario that strictly incorporates ALL provided data elements while maintaining the 2000-2300 word requirement and proper formatting.`,BD=`YouTube Military Script Rewrite Prompt – Optimized for Engagement & Flow
You are a professional YouTube scriptwriter specializing in high-impact military and strategic storytelling.

I will provide a long-form source script that may be written like a novel, battle simulation, or internal military scenario.

Your task is to rewrite it into a tight, engaging, YouTube-ready script based on the rules below:

🎯 OUTPUT RULES:
Output only the rewritten script.

No extra instructions, no production notes, no music cues.

One sentence per line — formatted for pacing and voice-over delivery.

Writing style:

A  cinematic story but not overly lengthy or rambling.

Clear, modern, and easy to read aloud.

Action-driven and emotionally immersive.

Keep all key military events, strategic decisions, and tactical sequences from the original.

Condense, streamline, or rephrase to maintain story clarity and flow.

Use UPPERCASE sparingly, only for dramatic emphasis or turning points (e.g., OPERATION IRON HORIZON, LAUNCH ORDER GIVEN).

Eliminate poetic filler or excessive jargon — this is not a novel, it's a voiceover script.

📢 Call to Action (CTA):
This is NAVY GOBA — subscribe for real-time battlefield updates and strategic breakdowns.

📝 Strict Word Count:
The final script must be between 2000 and 2300 words. Going under the limit is acceptable; going over is not.`,GD=()=>_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx(ce,{name:"book",className:"mx-auto w-16 h-16 text-brand-primary mb-4"}),_.jsx("h1",{className:"text-4xl font-bold text-brand-text",children:"Advanced Prompt Guide"}),_.jsx("p",{className:"text-lg text-brand-text-secondary mt-2",children:"A collection of expert prompts for advanced script generation."})]}),_.jsxs(OD,{title:"Example Prompts for Advanced Generation",icon:"sparkles",children:[_.jsx("p",{children:'Here are specific, detailed prompts you can use as a starting point for the "Generate" and "Rewrite" modes to create highly structured military scenarios. Copy these and adapt them to your needs in the Editor.'}),_.jsxs("div",{className:"space-y-3 mt-4",children:[_.jsx(Dc,{title:"Prompt for Step 1: Generating Scenario Data",children:qD}),_.jsx(Dc,{title:"Prompt for Step 2: Generating Full Script",children:VD}),_.jsx(Dc,{title:"Prompt for Rewrite Mode: Professional YouTube Style",children:BD})]})]})]}),HD=()=>{const[t,e]=R.useState(!0),[i,o]=R.useState(""),[s,a]=R.useState(""),[f,m]=R.useState(null),[g,h]=R.useState(null),[y,T]=R.useState(!1),{login:S,signUp:w}=sn(),E=async M=>{M.preventDefault(),T(!0),m(null),h(null);try{if(t)await S(i,s);else{const{data:L}=await w(i,s);L.user&&!L.session&&h("Sign up successful! Please check your email for a confirmation link.")}}catch(L){m(L instanceof Error?L.message:"An unknown error occurred.")}finally{T(!1)}},b=()=>{e(!t),m(null),h(null)};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-bg px-4",children:_.jsxs("div",{className:"max-w-md w-full bg-brand-surface rounded-lg shadow-lg p-8",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx(ce,{name:"book",className:"mx-auto w-12 h-12 text-brand-primary mb-4"}),_.jsx("h1",{className:"text-3xl font-bold text-brand-text",children:"Script Assistant"}),_.jsx("p",{className:"text-brand-text-secondary mt-2",children:t?"Sign in to your account":"Create a new account"})]}),_.jsxs("form",{onSubmit:E,className:"space-y-6",children:[f&&_.jsx("div",{className:"bg-red-100 dark:bg-red-900/50 border border-red-400 text-red-700 dark:text-red-400 px-4 py-3 rounded-md text-sm",role:"alert",children:_.jsx("p",{children:f})}),g&&_.jsx("div",{className:"bg-green-100 dark:bg-green-900/50 border border-green-400 text-green-700 dark:text-green-400 px-4 py-3 rounded-md text-sm",role:"alert",children:_.jsx("p",{children:g})}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-brand-text-secondary",children:"Email address"}),_.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:M=>o(M.target.value),className:"mt-1 block w-full bg-brand-bg text-brand-text p-3 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"you@example.com"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-brand-text-secondary",children:"Password"}),_.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:M=>a(M.target.value),className:"mt-1 block w-full bg-brand-bg text-brand-text p-3 rounded-md border border-brand-surface focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"••••••••"})]}),_.jsx("div",{children:_.jsx("button",{type:"submit",disabled:y,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-brand-text-inverse bg-brand-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary disabled:opacity-50",children:y?_.jsx("div",{className:"w-5 h-5 border-2 border-dashed rounded-full animate-spin"}):t?"Sign In":"Sign Up"})})]}),_.jsxs("p",{className:"mt-6 text-center text-sm text-brand-text-secondary",children:[t?"Don't have an account?":"Already have an account?",_.jsx("button",{onClick:b,className:"font-medium text-brand-primary hover:text-opacity-80 ml-2",children:t?"Sign Up":"Sign In"})]})]})})},Uc=({children:t})=>{const{user:e,loading:i}=sn(),o=Rn();return i?_.jsx("div",{className:"flex h-screen items-center justify-center",children:_.jsx(Vl,{})}):e?_.jsx(_.Fragment,{children:t}):_.jsx(Pc,{to:"/auth",state:{from:o},replace:!0})},FD=()=>{const[t,e]=R.useState(!1),{user:i}=sn();return _.jsxs("div",{className:"min-h-screen flex flex-col",children:[i&&_.jsx(KC,{onSettingsClick:()=>e(!0)}),_.jsx(PD,{}),_.jsx("main",{className:"flex-grow",children:_.jsxs(s_,{children:[_.jsx(Mo,{path:"/auth",element:i?_.jsx(Pc,{to:"/"}):_.jsx(HD,{})}),_.jsx(Mo,{path:"/",element:_.jsx(Uc,{children:_.jsx(nw,{})})}),_.jsx(Mo,{path:"/edit/:scriptId?",element:_.jsx(Uc,{children:_.jsx(UD,{})})}),_.jsx(Mo,{path:"/tutorial",element:_.jsx(Uc,{children:_.jsx(GD,{})})}),_.jsx(Mo,{path:"*",element:_.jsx(Pc,{to:i?"/":"/auth"})})]})}),i&&_.jsx(LD,{isOpen:t,onClose:()=>e(!1)})]})};function zD(){return _.jsx(V_,{children:_.jsx(jC,{children:_.jsx(M_,{children:_.jsx(YC,{children:_.jsx(XC,{children:_.jsx(QC,{children:_.jsx(iw,{children:_.jsx(kD,{children:_.jsx(FD,{})})})})})})})})})}const Vv=document.getElementById("root");if(!Vv)throw new Error("Could not find root element to mount to");const $D=pS.createRoot(Vv);$D.render(_.jsx(lS.StrictMode,{children:_.jsx(zD,{})}));
